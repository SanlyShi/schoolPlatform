webpackJsonp([140],{"J/j7":function(t,e){},SW1k:function(t,e){},vQZn:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("C331"),s={data:function(){return{tableDataUrl:"/table-data/employment/applyLimit/getApplyLimitList?timeStamp="+(new Date).getTime(),dialogVisible:!1,typeList:[{value:"DOUBLE_CHOOSE",name:"双选会",id:1},{value:"PREACH_MEETING",name:"宣讲会",id:1},{value:"EXAMINATION",name:"笔面试",id:1},{value:"NETWORK_MEETING",name:"网招会",id:1},{value:"RECRUITMENT",name:"招聘信息",id:1}],auditForm:{type:"",date:"",passNum:""},auditFormRule:{type:[{required:!0,message:"请选择类型",trigger:"change"}],date:[{required:!0,message:"请选择日期",trigger:"change"}],passNum:[{required:!0,message:"请输入最多可通过的申请数目",trigger:"blur"}]},curStatus:""}},methods:{dialogClose:function(t){this.$refs.auditForm.resetFields(),this.$refs.auditForm.clearValidate(),t()},cancle:function(){this.$refs.auditForm.resetFields(),this.$refs.auditForm.clearValidate(),this.dialogVisible=!1},submit:function(){var t=this;this.$refs.auditForm.validate(function(e){if(e){var a=void 0,s="add"==t.curStatus?"添加成功":"修改成功";"add"==t.curStatus?(delete t.auditForm.id,a="/api/employment/applyLimit/addApplyLimit"):a="/api/employment/applyLimit/updateApplyLimit";var l=t.auditForm;l.beginTime=l.date[0],l.endTime=l.date[1],Object(i.e)({url:a,type:"post",data:l,success:function(e){e.state?(t.$message.success(s),t.tableDataUrl="/table-data/employment/applyLimit/getApplyLimitList?timeStamp="+(new Date).getTime(),t.cancle()):t.$message.error(e.message)}})}})}},computed:{columns:function(){var t=this;return[{id:"typeValue",title:"活动类型",className:"text-left",width:150,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"companyName",title:"限制时间",className:"text-left",width:300,hidden:!1,formatter:function(t){return t.beginTime+"至"+t.endTime}},{id:"passNum",title:"可通过数目",className:"text-left",width:150,hidden:!1},{id:"opts",title:"操作",width:200,hidden:!1,formatter:function(e){return[{tag:"a",text:"编辑",callback:function(e,a){t.dialogVisible=!0,t.curStatus="edit",t.$nextTick(function(a){t.auditForm={id:e.id,type:e.type,date:[e.beginTime,e.endTime],passNum:e.passNum}})}},{tag:"a",text:"删除",callback:function(e,a){t.$confirm("是否继续删除该条限制?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a="/api/employment/applyLimit/deleteApplyLimit?id="+e.id;Object(i.e)({url:a,type:"post",success:function(e){e.state?(t.$message.success("删除成功"),t.tableDataUrl="/table-data/employment/applyLimit/getApplyLimitList?timeStamp="+(new Date).getTime()):t.$message.error(e.message)}})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}]}}]}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"auditList"}},[a("div",{staticClass:"auditList"},[a("v-table",{ref:"unitsManagerTable",attrs:{order:!0,url:t.tableDataUrl,columns:t.columns,pagesize:"15",idField:"id"}},[a("div",{staticClass:"pull-right",attrs:{slot:"btn-group"},slot:"btn-group"},[a("el-button",{staticClass:"custom-btn",attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0,t.curStatus="add"}}},[t._v("新增限制")])],1)])],1),t._v(" "),a("div",{staticClass:"addAudit"},[a("el-dialog",{attrs:{visible:t.dialogVisible,"before-close":t.dialogClose,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"auditForm"},[t.dialogVisible?a("el-form",{ref:"auditForm",attrs:{model:t.auditForm,rules:t.auditFormRule,"label-width":"200px"}},[a("el-form-item",{attrs:{prop:"type",label:"活动类型："}},[a("el-radio-group",{model:{value:t.auditForm.type,callback:function(e){t.$set(t.auditForm,"type",e)},expression:"auditForm.type"}},t._l(t.typeList,function(e,i){return a("el-radio",{key:i,attrs:{label:e.value}},[t._v(t._s(e.name))])}),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"date",label:"限制时间段："}},[a("el-date-picker",{attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.auditForm.date,callback:function(e){t.$set(t.auditForm,"date",e)},expression:"auditForm.date"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"passNum",label:"最多可通过的申请数目："}},[a("el-input",{attrs:{type:"number"},model:{value:t.auditForm.passNum,callback:function(e){t.$set(t.auditForm,"passNum",e)},expression:"auditForm.passNum"}})],1),t._v(" "),a("el-form-item")],1):t._e()],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancle}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])],1)])},staticRenderFns:[]};var r=a("C7Lr")(s,l,!1,function(t){a("SW1k"),a("J/j7")},"data-v-226b38fc",null);e.default=r.exports}});