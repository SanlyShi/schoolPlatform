webpackJsonp([27],{"8/OA":function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=r("C331"),l=(r("7Adc"),{data:function(){var e=this,a=function(e,a,r){""===a||null===a?r(new Error("必选")):r()},r=function(a,r,t){e.currentTab===a.field&&""===r?t(new Error("必填")):t()};return{currentTab:"score",tabs:[{label:"按分数",name:"score"},{label:"按排名",name:"rank"}],yearArr:[],searchInfo:{score:{province:null,level:null,enrollWay:null,subject:null,score:"",rank:""},rank:{province:null,level:null,enrollWay:null,subject:null,score:"",rank:""}},subjectArr:[{type:0,label:"理工"},{type:1,label:"文史"},{type:2,label:"综合改革"}],areaArr:[],enrollWayArr:[],levelArr:[],rules:{province:[{validator:a}],enrollWay:[{validator:a}],level:[{validator:a}],subject:[{validator:a}],score:[{validator:r,trigger:["blur","change"]},{type:"number",message:"高考成绩必须填数字"}],rank:[{validator:r,trigger:["blur","change"]},{type:"number",message:"高考排名必须填数字"}]},scoreTable:[{label:"year",name:"年份"},{label:"division",name:"科类"},{label:"maxScore",name:"最高分"},{label:"avgScore",name:"平均分"},{label:"minScore",name:"最低分"},{label:"provincialControlLine",name:"省控线"}],majorTable:[{label:"year",name:"年份"},{label:"division",name:"科类"},{label:"maxScoreRanking",name:"最高分排名"},{label:"avgScoreRanking",name:"平均分排名"},{label:"minScoreRanking",name:"最低分排名"}],scoreData:{score:[],rank:[]},majorData:{score:[],rank:[]}}},created:function(){this.initArea(),this.initEnrollWay(),this.initLevel(),this.initYear()},methods:{switchTab:function(){this.clearValidate()},clearValidate:function(){var e=this;this.$nextTick(function(){e.$refs.searchInfo.clearValidate()})},initArea:function(){var e=this;this.areaArr=[],this.provinceList.forEach(function(a,r){if("台湾省"==a.name||"香港特别行政区"==a.name||"澳门特别行政区"==a.name);else{var t={};3==a.name.length?t.label=a.name.substring(0,2):4==a.name.length?t.label=a.name.substring(0,3):5!=a.name.length&&6!=a.name.length&&7!=a.name.length&&8!=a.name.length||(a.name.indexOf("内蒙")>-1?t.label=a.name.substring(0,3):t.label=a.name.substring(0,2)),t.type=r,e.areaArr.push(t)}})},initLevel:function(){var e=this;Object(t.e)({url:"/api/archives/demo/getPcSysDict?name=培养层次&labelName=智能评估",dataType:"json",type:"GET",async:!1,success:function(a){a.state?e.levelArr=a.data:e.$toast("培养层次获取失败")}})},initEnrollWay:function(){var e=this;Object(t.e)({url:"/api/archives/demo/getPcSysDict?name=录取方式&labelName=智能评估",dataType:"json",async:!1,type:"GET",success:function(a){a.state?e.enrollWayArr=a.data:e.$toast("录取方式获取失败")}})},initYear:function(){this.yearArr=[];for(var e=parseInt((new Date).getFullYear()),a=e-1;a>e-4;a--){var r={};r.label=a,r.type=a,this.yearArr.push(r)}},selectClassName:function(e){var a=e.row,r=(e.column,e.rowIndex,e.columnIndex);return 0==r&&"OK"===a.isEnroll?"hightlight-b":0==r&&"NO"===a.isEnroll?"hightlight-r":void 0},selectClassName1:function(e){var a=e.row,r=(e.column,e.rowIndex,e.columnIndex);return 1==r&&"OK"==a["isEnroll"+this.yearArr[0].label]?"hightlight-b":2==r&&"OK"==a["isEnroll"+this.yearArr[1].label]?"hightlight-b":3==r&&"OK"==a["isEnroll"+this.yearArr[2].label]?"hightlight-b":1==r&&"NO"==a["isEnroll"+this.yearArr[0].label]?"hightlight-r":2==r&&"NO"==a["isEnroll"+this.yearArr[1].label]?"hightlight-r":3==r&&"NO"==a["isEnroll"+this.yearArr[2].label]?"hightlight-r":void 0},search:function(){var e=this;this.$refs.searchInfo.validate(function(a){if(a){if("score"==e.currentTab&&!e.searchInfo[e.currentTab].score)return void e.$toast("请输入高考成绩");if("rank"==e.currentTab&&!e.searchInfo[e.currentTab].rank)return void e.$toast("请输入高考排名");var r=e.searchInfo[e.currentTab].score,l=e.searchInfo[e.currentTab].rank,n=e.areaArr[e.searchInfo[e.currentTab].province].label,s=e.subjectArr[e.searchInfo[e.currentTab].subject].label,c=e.enrollWayArr[e.searchInfo[e.currentTab].enrollWay].value,o=e.levelArr[e.searchInfo[e.currentTab].level].value,i="score"==e.currentTab?"score":"scoreRank",u="score"==e.currentTab?"scoreMajor":"scoreMajorRank",b="score"==e.currentTab?"evaluationScore="+r:"evaluationRanking="+l;Object(t.e)({url:"/api/archives/evaluation/"+i+"?page=0&size=99999&"+b+"&province="+n+"&division="+s+"&enrollmentModels="+c+"&educationLevel="+o,dataType:"json",type:"GET",success:function(a){e.scoreData[e.currentTab]=[],a.state?e.scoreData[e.currentTab]=a.data.content:e.$toast(a.message)}}),Object(t.e)({url:"/api/archives/evaluation/"+u+"?page=0&size=99999&"+b+"&province="+n+"&division="+s+"&enrollmentModels="+c+"&educationLevel="+o,dataType:"json",type:"GET",success:function(a){e.majorData[e.currentTab]=[];var r=e.yearArr;if(a.state){var t=a.data.content;t[0].evaluationYear.map(function(a,l){var n={};n.majorName=a.majorName,n["isEnroll"+r[0].label]=t[0].evaluationYear[l].isEnroll,n["isEnroll"+r[1].label]=t[1].evaluationYear[l].isEnroll,n["isEnroll"+r[2].label]=t[2].evaluationYear[l].isEnroll,n["score"+r[0].label]=t[0].evaluationYear[l].enrollNumber||"-",n["score"+r[1].label]=t[1].evaluationYear[l].enrollNumber||"-",n["score"+r[2].label]=t[2].evaluationYear[l].enrollNumber||"-",n["rank"+r[0].label]=t[0].evaluationYear[l].minScoreRanking||"-",n["rank"+r[1].label]=t[1].evaluationYear[l].minScoreRanking||"-",n["rank"+r[2].label]=t[2].evaluationYear[l].minScoreRanking||"-",e.majorData[e.currentTab].push(n)})}else e.$toast(a.message)}})}})}}}),n={render:function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"intelligentAst"},[r("div",{staticClass:"container-fluid intelligentAst-page "},[e._m(0),e._v(" "),r("el-tabs",{on:{"tab-click":e.switchTab},model:{value:e.currentTab,callback:function(a){e.currentTab=a},expression:"currentTab"}},e._l(e.tabs,function(e,a){return r("el-tab-pane",{key:a,attrs:{label:e.label,name:e.name}})}),1),e._v(" "),r("el-form",{ref:"searchInfo",staticClass:"mt30",attrs:{inline:!0,rules:e.rules,model:e.searchInfo[e.currentTab]}},[r("el-row",[r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"省份:",prop:"province"}},[r("el-select",{staticClass:"select",model:{value:e.searchInfo[e.currentTab].province,callback:function(a){e.$set(e.searchInfo[e.currentTab],"province",a)},expression:"searchInfo[currentTab].province"}},e._l(e.areaArr,function(e,a){return r("el-option",{key:a,attrs:{label:e.label,value:a}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"层次:",prop:"level"}},[r("el-select",{staticClass:"select",model:{value:e.searchInfo[e.currentTab].level,callback:function(a){e.$set(e.searchInfo[e.currentTab],"level",a)},expression:"searchInfo[currentTab].level"}},e._l(e.levelArr,function(e,a){return r("el-option",{key:a,attrs:{label:e.name,value:a}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"录取方式:",prop:"enrollWay"}},[r("el-select",{staticClass:"select",model:{value:e.searchInfo[e.currentTab].enrollWay,callback:function(a){e.$set(e.searchInfo[e.currentTab],"enrollWay",a)},expression:"searchInfo[currentTab].enrollWay"}},e._l(e.enrollWayArr,function(e,a){return r("el-option",{key:a,attrs:{label:e.name,value:a}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"科类:",prop:"subject"}},[r("el-select",{staticClass:"select",model:{value:e.searchInfo[e.currentTab].subject,callback:function(a){e.$set(e.searchInfo[e.currentTab],"subject",a)},expression:"searchInfo[currentTab].subject"}},e._l(e.subjectArr,function(e){return r("el-option",{key:e.type,attrs:{label:e.label,value:e.type}})}),1)],1)],1),e._v(" "),"score"==e.currentTab?r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"高考成绩:",prop:"score"}},[r("el-input",{staticClass:"input",attrs:{maxlength:"3",placeholder:"请输入高考成绩"},model:{value:e.searchInfo[e.currentTab].score,callback:function(a){e.$set(e.searchInfo[e.currentTab],"score",e._n(a))},expression:"searchInfo[currentTab].score"}})],1)],1):e._e(),e._v(" "),"rank"==e.currentTab?r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"高考排名:",prop:"rank"}},[r("el-input",{staticClass:"input",attrs:{placeholder:"请输入高考排名"},model:{value:e.searchInfo[e.currentTab].rank,callback:function(a){e.$set(e.searchInfo[e.currentTab],"rank",e._n(a))},expression:"searchInfo[currentTab].rank"}})],1)],1):e._e(),e._v(" "),r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.scoreData[this.currentTab].length>0||e.majorData[this.currentTab].length>0,expression:"scoreData[this.currentTab].length > 0 || majorData[this.currentTab].length > 0"}],staticClass:"result"},[e._m(1),e._v(" "),r("el-row",[r("el-col",{staticClass:"result-tip",attrs:{span:16}},[e._v("你的分数所属省份往年在我校的录取情况如下")]),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"circle blue"}),e._v(" "),r("span",{staticClass:"result-tip"},[e._v("为可以录取年份")])]),e._v(" "),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"circle red"}),e._v(" "),r("span",{staticClass:"result-tip"},[e._v("为不能录取年份")])])],1)],1)],1),e._v(" "),r("el-table",{staticClass:"mt30",staticStyle:{width:"100%"},attrs:{data:e.scoreData[this.currentTab],"cell-class-name":e.selectClassName}},[e._l(e.scoreTable,function(a,t){return"score"==e.currentTab?r("el-table-column",{key:t,attrs:{prop:a.label,label:a.name,align:"center"}}):e._e()}),e._v(" "),e._l(e.majorTable,function(a,t){return"rank"==e.currentTab?r("el-table-column",{key:t,attrs:{prop:a.label,label:a.name,align:"center"}}):e._e()})],2),e._v(" "),r("el-table",{staticClass:"mt30",staticStyle:{width:"100%"},attrs:{data:e.majorData[this.currentTab],"cell-class-name":e.selectClassName1}},[r("el-table-column",{attrs:{prop:"majorName",label:"招生专业名称",width:"460"}}),e._v(" "),e._l(e.yearArr,function(a,t){return"score"==e.currentTab?r("el-table-column",{key:t,attrs:{prop:"score"+a.label,label:a.label+"年计划招生数",align:"center"}}):e._e()}),e._v(" "),e._l(e.yearArr,function(a,t){return"rank"==e.currentTab?r("el-table-column",{key:t,attrs:{prop:"rank"+a.label,label:a.label+"年最低分排名",align:"center"}}):e._e()})],2)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"t-row title"},[a("span",[this._v("智能评估")]),this._v(" "),a("span",[this._v("本平台查询的成绩仅供参考，请以实际情况为准。")])])},function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"t-row title"},[a("span",[this._v("评估结果")])])}]};var s=r("C7Lr")(l,n,!1,function(e){r("yAjl")},null,null);a.default=s.exports},yAjl:function(e,a){}});