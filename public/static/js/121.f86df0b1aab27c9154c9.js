webpackJsonp([121],{HSWI:function(e,t){},i9Q2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("VDzf"),i=a("jCtM"),o=a("p+qa"),n=a("C331"),s=(l.a,{components:{position:l.a},watch:{},data:function(){return{tableDataUrl:"/table-data/employment/positionTemplate/getPositionTemplateList?timeStamp="+(new Date).getTime(),columns:[],showDialog:!1,defaultFormInfo:null,isEditPosition:!0,newPosition:!1,loginType:{},isUnitView:!1,importParams:{},currentPage:"table",showUnitList:!1,companyId:"",unitList:[]}},methods:{changeUnitView:function(){var e=this;this.isUnitView=!this.isUnitView,this.isUnitView?(this.tableDataUrl="/table-data/employment/manage/positionTemplate/getPositionTemplateList?timeStamp="+(new Date).getTime(),this.columns=[{id:"companyName",title:"单位名称",className:"text-left",width:250,hidden:!1},{id:"positionName",title:"职位",className:"text-left",width:300,hidden:!1,formatter:function(e){var t=[];if(e.positionTemplates&&e.positionTemplates.length){for(var a=0;a<e.positionTemplates.length;a++)t.push(e.positionTemplates[a].positionName);return t.join(",")}return"暂无职位"}},{id:"recruitNumberTotal",title:"招聘人数",className:"text-left",width:100,hidden:!1},{id:"opts",title:"操作",width:50,hidden:!1,formatter:function(t){return[{tag:"a",text:"查看",callback:function(t,a){var l=t.companyName;e.setColumns(e.loginType.loginType),e.tableDataUrl="/table-data/employment/positionTemplate/getPositionTemplateList?timeStamp="+(new Date).getTime()+"&companyName="+l,e.isUnitView=!1}}]}}]):(this.setTableUrl(this.loginType.loginType),this.setColumns(this.loginType.loginType))},importPageBack:function(){this.currentPage="table"},toImport:function(){var e=this;this.currentPage="importPage",this.importParams={parentPageTitle:"职位库",downloadTemplateUrl:"/employment/manage/positionTemplate/template",downloadErrorTemplateUrl:"/employment/manage/positionTemplate/errorFile",checkTemplateUrl:"/employment/manage/positionTemplate/checkExcel",templateName:"批量新增职位模板",importBtnType:[{name:"覆盖导入",url:"/employment/manage/positionTemplate/addByExcel\t",method:"post",isShowBtn:!0,success:function(t){t.state&&e.setTableUrl()}}]}},catchLoginType:function(){var e=this;Object(i.b)().then(function(t){e.loginType=t,e.setTableUrl(t.loginType),e.setColumns(t.loginType)})},setTableUrl:function(e){this.tableDataUrl="/table-data/employment/positionTemplate/getPositionTemplateList?timeStamp="+(new Date).getTime()},positionSubmit:function(e){var t=this,a=void 0;a=this.newPosition?"/api/employment/positionTemplate/addPositionTemplate":"/api/employment/positionTemplate/updatePositionTemplate","COMPANY"!=this.loginType.loginType&&(e.companyId=this.companyId),Object(n.e)({url:a,type:"post",data:e,success:function(e){e.state?(t.setTableUrl(t.loginType.loginType),t.showDialog=!1):(t.setTableUrl(t.loginType.loginType),t.$message.error(e.message),t.showDialog=!1),t.companyId=""}})},setColumns:function(e){var t=this;this.columns="COMPANY"==e?[{id:"positionName",title:"职位名称",className:"text-left",width:150,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"positionTypeName",title:"职位类别",className:"text-left",width:100,hidden:!0,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"positionProperty",title:"职位性质",className:"text-left",width:100,hidden:!1,search:{type:"select",data:{optionsLabel:"label",optionsValue:"value",options:[{label:"实习",value:"PRACTICE"},{label:"全职",value:"FULL_TIME"}],placeholer:"",autoFocus:!1}},formatter:function(e){return"PRACTICE"==e.positionProperty?"实习":"全职"}},{id:"diploma",title:"学历要求",className:"text-left",width:150,hidden:!1,search:{type:"select",data:{optionsLabel:"label",optionsValue:"value",options:[{label:"专科及以下",value:"1"},{label:"大学本科",value:"2"},{label:"硕士研究生",value:"3"},{label:"博士研究生",value:"4"}],placeholer:"",autoFocus:!1}},formatter:function(e){return e.diplomaName}},{id:"major",title:"专业要求",className:"text-left",width:80,hidden:!0,search:{type:"select",data:{optionsLabel:"label",optionsValue:"value",options:[{label:"专业不限",value:""},{label:"测试",value:"1558337668735"},{label:"教育专业",value:"20500001"},{label:"法语专业",value:"20800001"},{label:"新闻传播专业",value:"22300001"}],placeholer:"",autoFocus:!1}},formatter:function(e){return e.majorName}},{id:"salary",title:"薪资范围",className:"text-left",width:100,hidden:!0,search:{type:"select",data:{optionsLabel:"label",optionsValue:"value",options:[{label:"面谈",value:"1"},{label:"2000以下",value:"2"},{label:"2000-4000",value:"3"},{label:"4000-6000",value:"4"},{label:"6000-8000",value:"5"},{label:"8000-10000",value:"6"},{label:"10000-15000",value:"7"},{label:"15000以上",value:"8"}],placeholer:"",autoFocus:!1}},formatter:function(e){return e.salaryName}},{id:"number",title:"招聘人数",className:"text-left",width:80,hidden:!1,search:{type:"select",data:{optionsLabel:"label",optionsValue:"label",options:[{label:"1-5"},{label:"5-10"},{label:"10-30"},{label:"30-50"},{label:"50-70"},{label:"70-90"},{label:"90以上"}],placeholer:"",autoFocus:!1,change:function(e){var a=e.value,l=(e.target,a.split("-"));if(1!=l.length){var i=l[0],o=l[1];t.tableDataUrl="/table-data/employment/positionTemplate/getPositionTemplateList?timeStamp="+(new Date).getTime()+"&minRecruitNumber="+i+"&maxRecruitNumber="+o}else{t.tableDataUrl="/table-data/employment/positionTemplate/getPositionTemplateList?timeStamp="+(new Date).getTime()+"&minRecruitNumber=90"}}}},formatter:function(e){return e.recruitNumber}},{id:"workplaceName",title:"工作地点",className:"text-left",width:150,hidden:!0,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"positionRemarks",title:"工作职责",className:"text-left",width:150,hidden:!0,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"positionRequire",title:"工作要求",className:"text-left",width:150,hidden:!0,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"createTime",title:"发布时间",className:"text-left",width:150,hidden:!1},{id:"opts",title:"操作",width:50,hidden:!1,formatter:function(e){return[{tag:"a",text:"查看",callback:function(e,a){t.newPosition=!1,t.defaultFormInfo=e,t.isEditPosition=!1,t.showDialog=!0}},{tag:"a",text:"删除",callback:function(e,a){t.$confirm("是否删除该模板?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a="/api/employment/positionTemplate/deletePositionTemplate?id="+e.id;Object(n.e)({url:a,type:"post",success:function(e){e.state?(t.setTableUrl(t.loginType.loginType),t.$message({type:"success",message:"删除成功!"})):t.$message({type:"error",message:"删除失败"})}})})}}]}}]:[{id:"positionName",title:"职位名称",className:"text-left",width:150,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"companyName",title:"单位名称",className:"text-left",width:100,hidden:!1},{id:"positionTypeName",title:"职位类别",className:"text-left",width:100,hidden:!0,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"diploma",title:"学历要求",className:"text-left",width:150,hidden:!1,search:{type:"select",data:{optionsLabel:"label",optionsValue:"value",options:[{label:"专科及以下",value:"1"},{label:"大学本科",value:"2"},{label:"硕士研究生",value:"3"},{label:"博士研究生",value:"4"}],placeholer:"",autoFocus:!1}},formatter:function(e){return e.diplomaName}},{id:"positionProperty",title:"职位性质",className:"text-left",width:100,hidden:!1,search:{type:"select",data:{optionsLabel:"label",optionsValue:"value",options:[{label:"实习",value:"PRACTICE"},{label:"全职",value:"FULL_TIME"}],placeholer:"",autoFocus:!1}},formatter:function(e){return"PRACTICE"==e.positionProperty?"实习":"全职"}},{id:"major",title:"专业要求",className:"text-left",width:80,hidden:!0,search:{type:"select",data:{optionsLabel:"label",optionsValue:"value",options:[{label:"专业不限",value:""},{label:"测试",value:"1558337668735"},{label:"教育专业",value:"20500001"},{label:"法语专业",value:"20800001"},{label:"新闻传播专业",value:"22300001"}],placeholer:"",autoFocus:!1}},formatter:function(e){return e.majorName}},{id:"salary",title:"薪资范围",className:"text-left",width:100,hidden:!0,search:{type:"select",data:{optionsLabel:"label",optionsValue:"value",options:[{label:"面谈",value:"1"},{label:"2000以下",value:"2"},{label:"2000-4000",value:"3"},{label:"4000-6000",value:"4"},{label:"6000-8000",value:"5"},{label:"8000-10000",value:"6"},{label:"10000-15000",value:"7"},{label:"15000以上",value:"8"}],placeholer:"",autoFocus:!1}},formatter:function(e){return e.salaryName}},{id:"number",title:"招聘人数",className:"text-left",width:80,hidden:!1,search:{type:"select",data:{optionsLabel:"label",optionsValue:"label",options:[{label:"1-5"},{label:"5-10"},{label:"10-30"},{label:"30-50"},{label:"50-70"},{label:"70-90"},{label:"90以上"}],placeholer:"",autoFocus:!1,change:function(e){var a=e.value,l=(e.target,a.split("-"));if(1!=l.length){var i=l[0],o=l[1];t.tableDataUrl="/table-data/employment/positionTemplate/getPositionTemplateList?timeStamp="+(new Date).getTime()+"&minRecruitNumber="+i+"&maxRecruitNumber="+o}else{t.tableDataUrl="/table-data/employment/positionTemplate/getPositionTemplateList?timeStamp="+(new Date).getTime()+"&minRecruitNumber=90"}}}},formatter:function(e){return e.recruitNumber}},{id:"workplaceName",title:"工作地点",className:"text-left",width:150,hidden:!0,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"positionRemarks",title:"工作职责",className:"text-left",width:150,hidden:!0,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"positionRequire",title:"工作要求",className:"text-left",width:150,hidden:!0,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"createTime",title:"发布时间",className:"text-left",width:150,hidden:!1},{id:"opts",title:"操作",width:50,hidden:!1,formatter:function(e){return[{tag:"a",text:"查看",callback:function(e,a){t.newPosition=!1,t.defaultFormInfo=e,t.isEditPosition=!1,t.showDialog=!0}},{tag:"a",text:"删除",callback:function(e,a){t.$confirm("是否删除该模板?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a="/api/employment/positionTemplate/deletePositionTemplate?id="+e.id;Object(n.e)({url:a,type:"post",success:function(e){e.state?(t.setTableUrl(t.loginType.loginType),t.$message({type:"success",message:"删除成功!"})):t.$message({type:"error",message:"删除失败"})}})})}}]}}]},addPositon:function(){var e=this;this.newPosition=!0,"COMPANY"==this.loginType.loginType?(this.isEditPosition=!0,this.showDialog=!0,this.defaultFormInfo=null):Object(o.p)().then(function(t){t.state?(e.unitList=t.data,e.showUnitList=!0):e.$message.error("单位获取失败")})}},created:function(){this.catchLoginType()}}),r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"jobPoolList"}},["table"==e.currentPage?a("v-table",{ref:"poollIst",attrs:{url:e.tableDataUrl,columns:e.columns,idField:"id",pagesize:"15",search:!1,order:!0,columnsControl:!0}},[a("div",{staticClass:"pull-right",attrs:{slot:"btn-group"},slot:"btn-group"},["COMPANY"!=e.loginType.loginType?a("el-button",{staticClass:"custom-btn",attrs:{type:"primary"},on:{click:e.changeUnitView}},[e._v(e._s(e.isUnitView?"切换至职位维度":"切换至单位维度"))]):e._e(),e._v(" "),"COMPANY"!=e.loginType.loginType?a("el-button",{staticClass:"custom-btn",attrs:{type:"primary"},on:{click:e.toImport}},[e._v("批量导入")]):e._e(),e._v(" "),a("el-button",{staticClass:"custom-btn",attrs:{type:"primary"},on:{click:e.addPositon}},[e._v("新增职位")])],1)]):e._e(),e._v(" "),e.showDialog?a("position",{attrs:{saveToJobPool:!1,showDialog:e.showDialog,defaultFormInfo:e.defaultFormInfo},on:{closeDialog:function(t){e.showDialog=!1},positionSubmit:e.positionSubmit}}):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"选择单位",visible:e.showUnitList,width:"30%"},on:{"update:visible":function(t){e.showUnitList=t}}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"0"==e.status,placeholder:"请选择或输入公司名称",filterable:""},model:{value:e.companyId,callback:function(t){e.companyId=t},expression:"companyId"}},e._l(e.unitList,function(e,t){return a("el-option",{key:t,attrs:{label:e.companyName,value:e.id}})}),1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showUnitList=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showUnitList=!1,e.showDialog=!0}}},[e._v("确 定")])],1)],1),e._v(" "),"importPage"===e.currentPage?a("v-import",e._b({on:{backParentPage:e.importPageBack}},"v-import",e.importParams,!1)):e._e()],1)},staticRenderFns:[]};var p=a("C7Lr")(s,r,!1,function(e){a("wUfE"),a("HSWI")},"data-v-76ed5dfa",null);t.default=p.exports},wUfE:function(e,t){}});