webpackJsonp([0],{"+OQL":function(t,e){t.exports="data:image/gif;base64,R0lGODlhMgAtAOUAAP///+fn59vb2/f39/v7+5KSkl1dXePj49fX16ampnFxcd/f34qKinl5efPz8+vr69LS0u/v76KiolFRUcLCwllZWWlpaW1tbcrKyrKyss7OzmVlZZaWloaGhlVVVZ6enn19fWFhYUlJSbq6upqamq6urra2tr6+vqqqqo6OjsbGxkVFRXV1dUFBQTk5OT09PU1NTYKCgigoKDU1NS0tLTExMRwcHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgA3ACwAAAAAMgAtAAAG/0CAcEgsGo/IpHLJbDqf0Gg0IBgACAXDQXhAEKRSQkKxuDK0gEGh4QA3H5CIUDKhmCvbgOXSJgy+bkcYFhlCGhscBAQdHlsYFR9fBA5tgUYPICEIABEKChGLEwEAHyJ2kw5WlpxVhh4dfx8MDwQjEg4EHyBbAxGqab9REAofVlgTGAAPC8EEBweSf0K9lVIRJB7FAAsJEE1+0xG+gQOlHJWATg4BD8FOEQKV5Q2bUZPtQwPuSRAXIBpCnMmRoi9gBAe0mkTIcCEEhzKr/EQIIO3JgwQWEuyzh3BjkwUC0rkZkOrJgRImmK1C0uugEggg/DUo8WDlEAIBAixYMBAJgf8HCEqAICHA5rRnqUQqmeQRjB+lRqMWSfCBxIcPGKAGWrdzp5KYGzZYKKHVDTwIGtIqifCgLT6pip5KnVvEAYITJ7bY/Nm26ZAAKFKAIKZ35U8EGgTwVLKgQIETCHoa5YpgVBKmN3FFbFb2CAQJFPwq3Cm6iLMMDToAXOVggQYMCT9ySGGi5pXO3+BggNbkgAqIABBkKPyEgAAv09jhRoKgAwfbUIyPQB4IAgMOvA5I9unSOAUIpZEESJFCr4YPm+QSUZQGAoRKAkYAj/JAheUHHyTIQQCe0yjj4BGwgHxHQRcIASekUBQBJZSACwUJtKEBTQA4cIIK1dh0gAQjWBFDAQomKGICB3IckEFRABxAAXU2BYDBQJ95U8sHcjgwAgWS7LScPQFpIMEWM8oxwAkd0mXET60QAOFAByywo5FQRplEEAAh+QQFCgA3ACwGAAMAKAAoAAAG/8CbcEgsBgDCzy0ijCyK0Kh0WGHeCiLrbTPtEh23gXC0ggixTAeLKHh6oQvDMKBQ3lLZG4IY2BTeUGA3B2E3DWIpLUwZLmY3IC8agGEHSDcCV0IoIEIUQwUWTAgvf0IPhFOEKEQie2JTDgoVD0IaEyRdAwlCSEyYXhEkJ0IQLTBuUwC7dpNEFCIVAVIDEZaWqM1CMSG0UywpyBGv2TcBWgRQAxRcEtLksFpFGe/Jbw/u9EToUCMY1flvXj1h0eGGCUEAo5xDhi+hkAAPukGx5LCixREoMpZwZPHGvodEFHQcIgbDEAAoU44sQnHlGwIBJEmsSAhhBBNCLNyY6RDVvYhyNz6oCPBxZIQHblDqcyklAIoRHRsSiTAiRimLCxAgLHJiq0VsTRBIPKAiXjawXg6kYEbugCdATyQwaUluAV0oH0h0Q5AhaReT+whJLeIAghVdJcQgA3TXi4oEqExAZbqTyIAMw26okDDOXQSO2eIFKIHq8SsMJk0NfkfCyuZXKigPMfmKZ5cgACH5BAUKADcALAYAAwAoACgAAAb/wJtwSCwaiYGjclm0LC/M6FHllFqVrFF0EUJdmSnWI7oaMmCC73hokQgzHaEmIfywiKTvLT5MhK4NekMbXoKFNxg3BlYjf4JDGC96I3yPNwpED0lEMXmWSwMJIpVyIA0lEZ9EAycGLjEHWIeqKhUWiapXDxBHFLlSDioJFA8pFykpvr9EGRYbEyslQxQcdMtDHCwSBw7X3t/MJuLgQg4R5xEMpg2k3gcC8Gnk878RCAj0RBQSKTGz1+/MCUnwD9wABwHW5JNiQsWyAVFUFEggLxeBAwEWHEEhAZe3AQG6RdHwSaGQVEseJJD2iZeVAAkyDEGpJ4DLKBlYClEmBR6RTJtLBEB8Y0LIA403hgpB+gCBQppWIIxYQ8ElhKI3BGgRAgGongweKZC8oUHmjQg8byyI9QjfEIdyzN5A4PWXgENlh3Qlh3TuiUxXggAAIfkEBQoANwAsBgADACgAKAAABv/Am3BILD6GmUtxyWw2G8PEZviBOq/ERREhlA4ZseEB6wSphA8GqjsVsjLDhoTMlDCGsYJQYhhWhgUedEwBIGs3JxxIXUSCREdXBSNDJUp0HRZEGwlYJhcnQyNjdBhDHpZkCnCDRRAwmU4ORQWQrEJ3Vwsfh7ZkJTd6RR0coL1XIilNFCnFxsYRzqwaAtG2pR8pHBKl1UsULH8vRQkn0N1EHRVmteex7dUaFCcnKlrvQgskKQX8CSn/JM7cu6FhgosXL1YMXMiwYYkPGmQJwVBCAgcKEt8xQDihQbkRIyDcAMAwAAUQBhQ1HBRBg8h2AzIu0VBC1LsHA8w9omCCy0JvBwBk3hg1xKcxBzpvDMCSgUI0BwHYXTHBLVqEAEmVORUSAELWJgcCDHGwQGiRAURvqKgq9UYAsUIOmB204OWNqgs0xNWLz14vBxSoCYHgU0BVuznb0vEbQQAkAXyH+o3ZbhI+gTcE+G2Yl8hcJkEAACH5BAUKADcALAYAAwAoACgAAAb/wJtwSCQ6ip2icslcUpJDxTCRalqbkNgiOuQwruAAicgZcYUdMxoFXpY4x1vhM7wIKZvhx9BmMkxTA0UZVUIWbH03CRREMVYRQykgiUIqUHd9gEIIIX0YDGqUQ3yJKoiicpNNASUZqEuQRWNEAiQSr00XE00Yt7hEGhYNv8RDCMWUJWMlEMhFMSEVMLSazkIpIZfW29wYGCoa3DcBvjckJRISHwniNxXt8NsBB9zVQxAUIygY3BxEKjcoAIw3pBzBg5UunFIiYMTAYgdYvAjBz4iGh9YoTBBBp0mELa8SGCxhr4gDcLg4yPAHJoKKZr8+zCgQB0tFIfTaRIh1gwMNNYOwaB274aAmE6MmboYRYCzAEqZDnL4aKmQByCILag4wmkgqTiYPxAVQGk5IgLDxAlAlkCgIACH5BAUKADcALAYAAwAoACgAAAb/wJtwSCwSTymjcskcYjhDU1JogjavwgfRestMb5IPFpuADEsUoTf7wQw5prHxVBpK6t2OEAM6CFENckoJaTcaJ3NiQiyCNw8jZkIqXBFNHwxEDSNXGhKRA5FYJwhDIAxaVxAJbo2ZXGObrUIJBZVMKiqyWCYXCUYmo7pKGB0WJEsIJxrCRSBfzNA3AQPRTQixFCYjJwvVRBgMLCEGRSqk3kIkLK/o7egLEPEIqO0oNyTHKib7FOfuKyJWeHBH0J2tdr6IHMCAgYIAdx9E3DCQQoMDAQi6FRTCQcFGQQMOBKi2LM6SABAEHIxW4UaoIQcEjGwHwcJAIgOoEXEgDM8RamsaZUm4oQgLAj+NBmiYeQPGmAVBb/DE8mBDICEfJtgTdADpDQJGUHDgmcBFLFkRHOgMMPUBUhIuHt7YMIFeowVMH8x0u0dELA0wjsmaKiRnFqQPLFy9oS1aBH98hTQIsTLaAMI3vDaUEwQAIfkEBQoANwAsBgADACgAKAAABv/Am3BILBIxCaNyyRxCksIT8SRpWpUC6E06NGmvzBFRHCV+E1wwUUUZlringhAiF5oKAbXxBDEuMEIqWilkaoBOhVYoJEQdVwsZRAtqGnpFGX2WQwsdKXoIh5o3GR9NDhCZQgCiShQgRgEqKqxLfQ0lS5O0Rgwcu79DB8BgFAg3GBQqqcNEMQoXJkMBELrMNwkxH8vW3NYHCwd53UISKOYaFCcUGtXMCxcTFRUh4/X2zCYCRQgCGMLdHjxc8CVkgbh7t+4pXPKqSTtgMSYseXAgQj0DuJgM+JXRziwmB1m9UDOg4q8kVaxECAmAwBUHF8ys0PTgQZQCFhcYG1XqRok1mcMGsLBgMQWMIS2I0GMVweKNABtiCEkhwmk9FR7IFKi6pM0vEi90UbU6jgKKIRxgON3WJAgAIfkEBQoANwAsBgADACgAKAAABv/Am3BILBYzxqRySTQNNUgh5sSsKkcRoQY1pFCtTAfmMIRAtFHHCDEcqcBGxFk4wghViaGku4cXBxpEAkkjQg8fFH43AgtDAnZCA0wmJUQfkEwqZIZ+jTcBH3lWByqeikIBJKJgBwiSpzcUlUQORQEHr7BLGiSFRQgLD7pKKL1KAQKbw0MJq8vP0GCPQgJyN8LRQwgJJAwMXzcRwdlDJQUZg+Tq61lDtetOQhkLZhDj6yAXFxsK6/7/6t4UeXDggYB25EooYAFiyIMHCP2d+QbQz4B30AqAMzIgQsRnDBTESOIAozoQLOIpgcBAmaIRKq1gaOEhwDARcCi8qLAJgs1SfwtgTNg0wsPGJQ2KePClZAEKbBFgbKilos9PIxWIUJgD5oMITEM4eBAiAcYQBRZ0BW0Y7gKDJGOHWJilaMEHbDcMKFHQYV2fJDEurNMQMyusIAAh+QQFCgA3ACwGAAMAKAAoAAAG/8CbcEgsEgUUo3LJHB4wQ8RoKNA0r8qHVYhICiEqLFbwGAYWXCJ0qIGIjQv0V8A9DUcOocYUeRsDB0IHZTcPcgJrNyNufg+EN4BNBEMqYUIPJoxMDwiPeWIIRCVTWBF0fkYZJo2PqDcaXkwOfa5iCZZDDoOftXAZt0oAEa29QgEmJgFXvMVCtEURA82oBA8HBwHM00MmJR8fiQMB0ttEJwmk5errShHu2uoqJ/N2cYPsQyQgMQwd+P/rBGSQEGidBhXKjKUwIKLGBTnqRsQAwSGDAAghNlgEKGQECY5+BDRIoQ7ckgAMXHhIN+0DCJJFMLYg8azcggL+jqCAeKNAMWcKsW5g2LKkgoViJyyUeCNCATEsC2iNYLEUy4ZHIYg26fBhyAkFQf8UqXDhCoqOFxK5QuFhSAwWQroOMTAERINmMG+w4CCExIQhISwhANErQIIhEI4OqeDWJzu2RP4KYRADpJANvYIAACH5BAUKADcALAYAAwAoACgAAAb/wJtwSCwWNcakcqlcIIcCplSJGC6IAsh0elg+b9Gt9PEgdoWqIYWYFruJ2jezLP7eTtsrkZAnjtZbAXRyQn+Ehwh2h4sCJkkRA4tKFCOKRA6SRSptmZkSJoOdVGAeLQYVJBGiRBQmKAlaAxAFFQphqzcmKmdFkbi/iwXCwiPAmEMqMC0vLysFwDcSDCk3JNDXuCjYQ6rbNykMGcXeVjcJ5GIcogvnS+q/CRwSekUw1x8kgOhbG5kK41I0hLAgCo8UFkUIbtN3I0QDIRpKGDmRQciaODcsSTFABISQBAolDmHAYBHHITGIhBhyodwikWqEfGh5w8GzIRoJiRjy4eSNCXe/qgxBgZBQEAAh+QQFCgA3ACwGAAMAKAAoAAAG/8CbcEgsEh8Co3LJHEaSwgAxcGhal9UoZPhYXK8O4iCiHR6kwkf2S3SEhYdHVFMWLhDsWwQtHMj1BEIOfwdeQhBrVwgWBW1sC4Z6GJFLKTYcQwBvVg9kh3RXBTIMeUURGqBKDokcBpSleEwYHhZbUaVMBxSxgigrLQWJuEcak0oRBTAdw0YPEBCeSwi2zNXWSn83ISJCCddGARgYFCNFId9GEBjU6E0A7dUSRCrwQwgazxAVRCT1QiYSAqLwRxBelQwEIWS7QcKCkAb+VKD4cELFAQEKFNwQVk+DCXYFv3xoZ4KXkgkh6H1zMEICCj52HBYsUSLVRhNEBHhjhsGISWIjHqypSKHSCh6NQqCUGsoG6Q0KINi4HKKCQc8mI6KxWHYDQTk9a75iaGTNaYEUQkpAvGGCxRASmJgpGCmE7I0EF+DEoMahqLUOV3cOGWjvW4a83RDfkBC33tUbGaLaAckkCAAh+QQFCgA3ACwGAAMAKAAoAAAG/8CbcEgkBhbEA5FQbDqfQo7nMVQOHdBsETLMiDTV4YCq1SJgEuHBUggLHRExuVxUTAJCywV7EwgjVkJ4dE0IIgxCJBuDQw+MfoRDJEMdL1x9Wox9mk4kM0MBJGB0A0MLSGUJNW2RRQKQhButRoFOECENsLNQEQioQyYTu1qnnJI3KcNND7/KzkIoz4QPVBYuGxbSTq8QGIESFiDaRAK+4+fo6VqlRCEwMCIwCekRKib3I+r64yf56Ai6biRQEEJEjHQITJSAcClGh32CEKiAGKlANG0YmhWRsKHBKGkqRpxwEmNDiXQPRmBoQgHdJSGnslxINgzCPEIWOMRpNUfDh1mPT/B02IkBEZ0S/m5oIIFAy0RKHIaoYEIEwlMIk4YIqKVlBAMrH7KOoEmB5g0UF3c1SHtWSAmjNwpACsC2VdIFKS6ZMFsiQ7oTLLqIE5Lh5rlmI1gJCQglCAA7"},"+X9P":function(t,e,i){"use strict";var a=i("lC5x"),n=i.n(a),s=i("J0Oq"),o=i.n(s),r=i("2IYH"),l=i("zR28"),c=i("Se9A"),u=(Boolean,Boolean,Object,r.a,l.a,c.a,{props:{inline:Boolean,edit:Boolean,rules:{type:Object,default:{}}},mixins:[r.a,l.a],components:{ModuleContainer:c.a},data:function(){return{formRules:{name:[{required:!0,message:"请输入网招会名称",trigger:"blur"},{min:2,max:60,message:"长度在2到60个汉字",trigger:"blur"}],timeRange:[{required:!0,message:"请选择网招会起止时间",trigger:"blur"}],applyTimeRange:[{required:!0,message:"请选择申请起止时间",trigger:"blur"}]},editorConfig:{autoHeightEnabled:!0,wordCount:!1,autoFloatEnabled:!1,toolbars:[["source","undo","redo","bold","italic","underline","strikethrough","fontborder","subscript","superscript","formatmatch","removeformat","time","date","horizontal"],["paragraph","fontfamily","fontsize","justifyleft","justifyright","justifycenter","justifyjustify","forecolor","backcolor","insertorderedlist","insertunorderedlist","lineheight","rowspacingtop","rowspacingbottom"],["insertimage","attachment","link","emotion","spechars","imagenone","imageleft","imageright","autotypeset","snapscreen","preview","print","fullscreen","background","insertcode","directionalityltr","directionalityrtl","customstyle","template"]]}}},created:function(){},methods:{validate:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$refs.form.validate());case 1:case"end":return e.stop()}},e,t)}))()}}}),d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("module-container",{attrs:{title:"基本信息",inline:t.inline}},[t.edit?i("el-form",{ref:"form",attrs:{model:t.form,rules:t.formRules},on:{validate:t.formValidate}},[i("el-form-item",{attrs:{label:"网招会名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"请输入网招会名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"网招会起止时间",prop:"timeRange"}},[i("el-date-picker",{attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm","range-separator":"到","start-placeholder":"开始时间","end-placeholder":"结束时间","picker-options":t.timeRangePickerOptions},model:{value:t.form.timeRange,callback:function(e){t.$set(t.form,"timeRange",e)},expression:"form.timeRange"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"申请起止时间",prop:"applyTimeRange"}},[i("el-date-picker",{attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm","range-separator":"到","start-placeholder":"开始时间","end-placeholder":"结束时间","picker-options":t.applyTimeRangePickerOptions},model:{value:t.form.applyTimeRange,callback:function(e){t.$set(t.form,"applyTimeRange",e)},expression:"form.applyTimeRange"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"简介"}},[i("u-editor",{ref:"descEditor",attrs:{config:t.editorConfig},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1)],1):i("el-form",{attrs:{model:t.form,size:"small"}},[t.rules.name&&t.rules.name.hidden?t._e():i("el-form-item",{attrs:{label:"网招会名称"}},[i("p",[t._v(t._s(t.form.name))])]),t._v(" "),i("el-form-item",{attrs:{label:"网招会起止时间"}},[i("p",[t._v(t._s(t.form.timeRange.map(function(t){return new Date(t).format("yyyy-MM-dd HH:mm")}).join(" ~ ")))])]),t._v(" "),t.rules.applyTime&&t.rules.applyTime.hidden?t._e():i("el-form-item",{attrs:{label:"申请起止时间"}},[i("p",[t._v(t._s(t.form.applyTimeRange.map(function(t){return new Date(t).format("yyyy-MM-dd HH:mm")}).join(" ~ ")))])]),t._v(" "),i("el-form-item",{attrs:{label:"简介"}},[i("p",{domProps:{innerHTML:t._s(t.form.desc)}})])],1)],1)},staticRenderFns:[]},p=i("C7Lr")(u,d,!1,null,null,null);e.a=p.exports},"+YPm":function(t,e,i){"use strict";var a=i("CjlP");function n(t){a.call(this,t)}i("fUz/").inherits(n,a),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=n},"+iF4":function(t,e,i){"use strict";var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"baseInfoDetails"}},[e("div",{staticClass:"baseInfo"})])}]};var n=i("C7Lr")({},a,!1,function(t){i("038R")},"data-v-66341246",null);e.a=n.exports},"/Dyk":function(t,e,i){"use strict";var a=i("fUz/"),n=i("uezc");function s(t){n.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=a.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}a.inherits(s,n),s.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},"/LmD":function(t,e,i){"use strict";var a=i("3cXf"),n=i.n(a),s=i("HzJ8"),o=i.n(s),r=i("rVsN"),l=i.n(r),c=i("C331");e.a={data:function(){return{searchProject:"",advancedSearch:{show:!1,initialized:!1,searchItems:[],tables:{},tableKeys:{},tableOptions:[],keys:{},typeOptions:[{value:"and",label:"且"},{value:"or",label:"或"}],defaultType:"and",optionKeys:{},columns:[],searchDTOS:[]}}},methods:{initApplySearchKeys:function(){var t=this;return this.advancedSearch.show=!0,new l.a(function(e,i){t.hasInit&&e(),t.hasInit=!0;Object(c.d)("api/business/apply/limit/advance/columns").then(function(a){if(a.state){t.advancedSearch.columns=[];var n=!0,s=!1,r=void 0;try{for(var l,c=o()(a.data);!(n=(l=c.next()).done);n=!0){var u=l.value,d=u.columnId;t.advancedSearch.optionKeys[d]=u,t.advancedSearch.columns.push({value:d,label:u.keyName+"("+u.typeTitle+")"})}}catch(t){s=!0,r=t}finally{try{!n&&c.return&&c.return()}finally{if(s)throw r}}e()}else t.$toast(a.message),i(a)})})},initAdvancedSearchTableKeys:function(){var t=this;Object(c.e)({url:"/api/student/manage/advance/columns",type:"get",success:function(e){if(e.state){t.advancedSearch.columns=[];var i=!0,a=!1,n=void 0;try{for(var s,r=o()(e.data);!(i=(s=r.next()).done);i=!0){var l=s.value,c=l.columnId;t.advancedSearch.optionKeys[c]=l,t.advancedSearch.columns.push({value:c,label:l.keyName+"("+l.typeTitle+")"})}}catch(t){a=!0,n=t}finally{try{!i&&r.return&&r.return()}finally{if(a)throw n}}}else t.$toast(e.message)}})},showSearch:function(t){this.advancedSearch.show=!0,t&&(this.searchProject=t),this.initAdvancedSearchTableKeys()},addSearchItem:function(){var t=[],e=this.advancedSearch.columns[0].value,i=this.advancedSearch.optionKeys[e].options;for(var a in i)t.push({value:a,label:i[a]});this.advancedSearch.searchItems.push({key:this.advancedSearch.columns[0].value,relation:t[0].value,value:null,options:{relation:t,dictOptions:[],province:[],city:[],county:[]},isDict:!1,isAddress:!1,isSelectProvince:!1,isSelectCity:!1,isDate:!1,isInput:!1,province:null,city:null,county:null})},deleteSearchItem:function(t){this.advancedSearch.searchItems.splice(t,1)},resetSearchItem:function(){this.curTarget&&this.curTarget.properties.basic&&this.curTarget.properties.basic.searchDTOS&&this.curTarget.properties.basic.searchDTOS.length>0?this.advancedSearch.searchItems=this.curTarget.properties.basic.searchDTOS:this.searchItems=[]},advancedSearchKeySelected:function(t){var e=this;Object(c.e)({url:"/api/student/manage/advance/columns",type:"get",success:function(i){if(i.state){e.advancedSearch.columns=[];var a=!0,n=!1,s=void 0;try{for(var r,l=o()(i.data);!(a=(r=l.next()).done);a=!0){var u=r.value,d=u.columnId;e.advancedSearch.optionKeys[d]=u,e.advancedSearch.columns.push({value:d,label:u.keyName+"("+u.typeTitle+")"})}}catch(t){n=!0,s=t}finally{try{!a&&l.return&&l.return()}finally{if(n)throw s}}var p=parseInt(t.target.$attrs["data-index"]),h=e.advancedSearch.searchItems[p];if(h.key=t.val,e.$nextTick(function(){h.keyInfo=t.target.selected}),!t.val)return h.relation=null,void(h.options.relation=[]);var m=e.advancedSearch.optionKeys[h.key];for(var _ in h.options.relation=[],m.options)h.options.relation.push({value:_,label:m.options[_]});h.isSelectProvince=!1,h.isSelectCity=!1,h.isAddress=!1,h.isDict=!1,h.isInput=!1,h.isAddress="Address"===m.fieldType,h.isAddress||(h.isDict=!0===m.select),h.isDate="Date"===m.fieldType,h.isDict||h.isAddress||h.isDate||(h.isInput=!0),(h.isAddress||h.isDict)&&Object(c.e)({url:"/api/student/manage/advance/dict/"+h.key,type:"get",success:function(t){t.state?h.isAddress?h.options.province=t.data:h.options.dictOptions=t.data:e.$toast(t.message)}})}else e.$toast(i.message)}})},advancedSearchRelationSelected:function(t){var e=parseInt(t.target.$attrs["data-index"]),i=this.advancedSearch.searchItems[e];i.relation=t.val,this.$nextTick(function(){i.relationInfo=t.target.selected})},advancedSearchValueSelected:function(t){var e=parseInt(t.target.$attrs["data-index"]),i=this.advancedSearch.searchItems[e];i.value=t.val,setTimeout(function(){i.valueInfo=t.target.selected},300)},advancedSearchProvinceSelected:function(t){var e=this,i=parseInt(t.target.$attrs["data-index"]),a=this.advancedSearch.searchItems[i];a.province=t.val,a.province?(a.options.city=[],a.isSelectProvince=!0,a.options.county=[],Object(c.e)({url:"/api/student/manage/advance/city?provinceValues="+t.val,type:"get",success:function(t){t.state?a.options.city=t.data:e.$toast(t.message)}})):a.isSelectProvince=!1},advancedSearchCitySelected:function(t){var e=this,i=parseInt(t.target.$attrs["data-index"]),a=this.advancedSearch.searchItems[i];a.city=t.val,a.city?(a.options.county=[],a.isSelectCity=!0,Object(c.e)({url:"/api/student/manage/advance/label?provinceValues="+a.province+"&cities="+t.val,type:"get",success:function(t){t.state?a.options.county=t.data:e.$toast(t.message)}})):a.isSelectCity=!1},advancedSearchCountySelected:function(t){var e=parseInt(t.target.$attrs["data-index"]);this.advancedSearch.searchItems[e].county=t.val},advancedSearchDateValue:function(t){var e=parseInt(t.target.$attrs["data-index"]);this.advancedSearch.searchItems[e].value=t.value?t.value.split(" ")[0]:t.value},getAddressOptions:function(t,e,i){return"province"===t?this.provinceList:"city"===t?this._getCityList(e):"area"===t?this._getAreaList(e,i):void 0},execAdvancedSearch:function(t){var e=this;1==t?(this.searchDTOS=this.advancedSearch.searchItems,this.curTarget.properties.basic&&this.$set(this.curTarget.properties.basic,"searchDTOS",this.searchDTOS),this.advancedSearch.show=!1):(this.definedSearch=JSON.parse(n()(this.$refs.studentTable.tableSearchFields)),this.definedSearch.studentName=this.$refs.studentTable.tableSearchFields.name,this.definedSearch.searchDTOS=this.advancedSearch.searchItems.map(function(t){return{key:t.key,relation:t.relation,value:t.value,tableName:e.advancedSearch.optionKeys[t.key].tableName,listValues:t.value?t.value.split(","):[],provinces:t.province?t.province.split(","):[],cities:t.city?t.city.split(","):[],counties:t.county?t.county.split(","):[]}}),this.url="/table-data/student/manage/advancedSearch",this.method="post",this.definedSearch.isAdvancedSearch=!0,this.definedSearch.inSchool=this.inSchool,this.advancedSearch.show=!1,this.advancedSearch.type=this.role)}}}},"/QMe":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABQCAYAAACzg5PLAAAAAXNSR0IArs4c6QAACFpJREFUeNrtnPtvU1UcwFFjFIksxijxJ+N/sCFESDQajATiDwbMMKCQAIIkxkciU15VXhITBVE0TEFaxmsMNgTksbZuY492j+LY2IPRbW3Xvfpa261r13Xb8fu97d1Kd097+9xt15N8f+i953HP557zPd/v99yeOXN4pMWl4swsmeRYllTSmimVODKlYiIkeb9RqlndUv7SnJlOb5WKnwZIJzNlkgmhQfKX9Q/LyTZdrX1tp3zBjMFaqiiYmyUVVwkZlD+w7cb75JOuWtvGvvIXZgQYTD1xMsDyB4aytavWmnBomfKzi4U+DWnAvCOtbmBVd83ziQMmO/1nssDiAsZA09UMrNNVPJcQYFkysTbZgTHTU1djiTu0vYQ8DiaEJxWAMdC01ebsDllG3IAtb8ibl0ywQgHzjTRT3KClIjCULZoa4yZT5bNpYDyBeaen0hBzaLEEtk1VTHIaSjllY+2NiOv9qPr6I3Vt16l4AWNGmra6f31/8TxBAvuyXk4mJiYIV/KMj5MPq6+FXed7lYXENeZ5pK48exdvYCgfa6v7tvaqnhHklDzR0UBoSeuwkSXyM7zrelUmIfdtpmn1hAvMq9Oqe7P1+rmCAwb+KFGYe6jQLusf8K7reHs9Zx0FQz1hA2NGmkbREzW0eCj9N0vPk17nEBXaFzB1Q9WB0xenMVfKNbRFBMwLTdm9Uq1+SnCr5DrosHt8jLPDFreLLCu7QC37mjyPaGD6cqWuYTtZriiKGBjK5k6lPmJo8TQr9jVXUkdZhUlPLZff1cJZBl/AB8qrTJ4tGmV00DQK3VaielJwdlihvo0K7VCLktM0oa20B1sUU9O+8iL5ytAYJTSlNmxo8Qa2WHaaNHGsdJjQXFhVVTSZ942Sc8TgcnDmvdXXMa3uFXXXoofWqdCEBS0Rlv6K8gJiBb3FlVrtZrIIzAfMh1Bo5sjSf7nNkWWKy+RTvSpaaJ3ZhDwhKNdom+o2GadMtVOdjWRHYxl1FGYr/g5a90IAjqNtAxPrryGf9fxHPg9T1qsr7kNzjwnKlzymVnFCQZAOzyjnvb1NlQnzUZGF4JzvEoOO8E3Xe9QJdeoFCez1krOgk+whYbUPWcNyo1IWGMqGmn9CAsMIRaKfS7DApP2akMAwTxoYyJG2Wt46DPPOamCb625SHWpaDA3LzEpg79zJJ+YRJyeYPG0TeTg4wHkPy2DZWQUMLfl7VgMnkEabkQkUrgYXKTCyyiYsy3oDswIYLfow5HGTdysuTeY70FxFnZ5Yx6wAtqvxDhXCTnCHAvPL+7XU/FhXSgNDH9BJmWZXKVY8Riz6KBELJw+/MmmBoUWvG+a26PE6LfqAsqn2JhmbGKeWxbpTDliZsYuzw6NgKqxVht5uy6VsgGDCulMK2G/qu1EbowulElJv7afWg22kBDAMMdPiXgpzd1h1rYTA4+DoCDUkhG0lNbCVQSKrFreTvF0WvgGKnwbQEraFbSYlMIzdN9u5Y/e4qfHpXWlcNlKwTWw76YAVddM7dQZcn2jqXgL7lJ0OK7V+bDthwF4p/OnlqP9oUHWFCcdwCXZmUQxGwBqwv2htoOAzRNsGsggKa/4fonUZuXv0yfZ9WLwEWSCTaaAW5O19MSNXVDT/+B7M5EjDmgTm8DIRFSEjBlbGcdGa+bkiE95IA+MGxggwQlZzotnwnI2SBpYGlgaWesAOmh+QQyDfmlpC5t1hbGLyonztu7bf3Mr8/gbuRfoM30P5kzYNKRzsIZcHu8kJq4a5JkhgN4b6GAt7YMxN9piag+atd3ktdLV7iOT4rmlGvQHCHy0Pw2776ICatI4Mcn5DhtcaR2wR1RtXYNjxdre30yrXADXfObs3JjY87iEHYFRtjxLYLwPtxAVfIY4BmHsA5uKgnhllp206ch1eosEz4mtvjBnBgtJhB+CBnL5vWPGBg92XBNyPFJgFRjSOIrFNS32R1U4LU7d+1Ck8pZ9n936J44ARtM9vBKHgFMSkhA4ElosEGOpNTH0eV9B8qBetABbTD5Y24a2SdS7vBmyre3Dy2rWhXuYaTpGdHIo9EmCHIS8fYCglw0ZGDVyw64UHbDcofbPvjeKKhRA8sIGBcgQUNFeZSKckjmRMl2BVTGo77FdQxqiI3QCJVbw4ymj5IwV2FhaRMd/qiCsl6s5dxubkNFxvO6Y2LNpAfwXLG41ZgfYWKvTJD1bgJTWP2Ek+TD+RqTl5gJ23T22rcSn6WAFjBcsWw0vq9UztIeDoawBzA0e8oIEd9JkQuJMz7NMztKU/VsD8BW2uq6AC2JGHpkes9FzMgaHt0+EzYsuGTcyUYU2N/QGmRryABZo6o75d81NBXtqMAbvl01243LO+YZXTHFSXRQLsCvzlD637nykrr7/g6PJ6IVZhATvqWx1R8R62THUEbS+jb7VElyUWwFjbTu4w8DZy+3nYbAkD5g/lBgcUf5iB9lgkwLA+ZkMYbL7dIVZDVi2gIy4YYKzP1gmdz6HkKfZN10CLPxJg2MYD8CYwNYEZIaKEltAjsI55/1WSLxRLX2LzfvQ2MhE8KoDxL93osPe7Cj9TgwWGi0ULGKChhA0hISTWq8CoBeooKUxRnK6l4A6xi09gezMKDFc+1kUp4LF0owPs9q1arKnBAuObvvMbTRi0lAEkJ+XfvviCcKXMSYeop49ejLD+bu0gf8GLOAKLjohHBDgd009vgqSBJTewHGNTgb/AxUL8J2tamAOQCgP5pMSBa/EQZIAsUvJIv/gAE2v5n4Eol5yY9V/vwMGZKXssaexhQd+BQcoefBt7kYhT+mjlGB/fVYV9T+nDu2M1DbGv2OeoD2ET+vHwUUw9B/YJ+4Z95MPif6Wjrl+mqPrPAAAAAElFTkSuQmCC"},"/sSi":function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__=__webpack_require__("a3Yh"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__=__webpack_require__("3cXf"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_2_vue__=__webpack_require__("kV13"),__WEBPACK_IMPORTED_MODULE_3_jquery__=__webpack_require__("qqHy"),__WEBPACK_IMPORTED_MODULE_3_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_jquery__),__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__=__webpack_require__("C331"),__WEBPACK_IMPORTED_MODULE_5__components_VFlow_vue__=__webpack_require__("bTp3"),__WEBPACK_IMPORTED_MODULE_6_timers__=__webpack_require__("7Adc"),__WEBPACK_IMPORTED_MODULE_6_timers___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_timers__),_methods;__WEBPACK_IMPORTED_MODULE_2_vue__.default.component("v-flow",__WEBPACK_IMPORTED_MODULE_5__components_VFlow_vue__.a);var _unused_webpack_default_export={inject:{windowObj:{default:null}},props:{departmentId:{default:"1"},appId:{default:"1"},readonly:{default:!1},businessId:{default:null},appName:{default:null},roleSetting:{default:null},userType:{default:null}},created:function created(){var _this=this,la=localStorage.getItem("lang");Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.g)(la)&&(this.lang=la),this.roleSetting&&(this.isConfig=!0),"4"!==this.userType&&"2"!==this.userType||this.distributaryData.splice(1,2),this.isConfig?(this.$waiting.show(),Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/information/components/"+this.roleSetting.type,type:"get",data:{educationLevel:this.roleSetting.educationLevel},success:function(t){t.state?(t.data.forEach(function(t,e){t.components.forEach(function(e,i){_this.components.push({name:e.name,title:e.title+"("+t.name+")",componentType:e.componentType,checked:!1,checkedXian:!1}),_this.ownerData.dataAuthorities.push({componentName:e.name,authority:"readonly"})})}),_this.copyDataAuthorities=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.ownerData.dataAuthorities)),Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/information/player/"+_this.roleSetting.type,type:"get",data:{educationLevel:_this.roleSetting.educationLevel},success:function(t){t.state?(t.data&&t.data.players.forEach(function(t,e){if("owner"===t.category){_this.ownerData=t;var i=0;(n=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.copyDataAuthorities))).forEach(function(t,e){_this.ownerData.dataAuthorities.forEach(function(e,i){t.componentName===e.componentName&&(t.authority=e.authority,t.exportable=e.exportable)}),t.exportable&&i++}),_this.ownerData.exportNum=i,_this.ownerData.dataAuthorities=n}else{var a={};_this.$set(a,"palyerForm",{}),a.palyerForm=t,a.palyerForm.roleCheckList=a.palyerForm.checkNameAndNoBatch;var n,s=0;(n=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.copyDataAuthorities))).forEach(function(t,e){a.palyerForm.dataAuthorities.forEach(function(e,i){t.componentName===e.componentName&&(t.authority=e.authority,t.exportable=e.exportable)}),t.exportable&&s++}),a.palyerForm.exportNum=s,a.palyerForm.dataAuthorities=n,_this.$set(a,"roleEditing",!1),_this.$set(a,"newRoleName",""),_this.$set(a,"roleAddErrorMsg",""),_this.$set(a,"curComponentsCount",0),_this.$set(a,"curComponentsCountXian",0),_this.$set(a,"curPlayerCount",0),_this.$set(a,"AllComponents",[]),_this.$set(a,"roleSetData",[]),_this.$set(a,"batchCheck",""),_this.$set(a,"playerName",""),_this.$set(a,"searchName",""),a.curPlayerCount=t.operators.length,a.AllComponents=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.components)),_this.palyers.push(a)}}),Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height();_this.ownerContentHeight=t-190-50},300),_this.monitorScroll()):_this.$toast(t.message)}}).always(function(){_this.$waiting.close()})):_this.$toast(t.message)}}).always(function(){_this.$waiting.close()})):(this.businessId?(this.formUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/formSetting",this.playersUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/playerSetting"):(this.formUrl="/api/apps/"+this.appId+"/settings/forms",this.playersUrl="/api/apps/"+this.appId+"/settings/players"),Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:this.formUrl,type:"get",success:function success(data){if(data.state){var patch=function patch(s,re){return re=eval("/"+re+"/ig"),s.match(re)?s.match(re).length:0};_this.components=data.data.components;var curAuthority="",newCom=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.components)),initLength=0,m=[],num=0;_this.components.forEach(function(t,e){var i=patch(t.name,"_"),a=patch(t.name,"table");i<2&&a>=1&&(num+=1,m.push(e),num>1&&(initLength+=_this.components[m[num-2]].properties.basic.tableFields.length),t.properties.basic.tableFields.forEach(function(i,a){var n=e+1+initLength;i[t.name]=t.name,t.collector&&t.collector.tableKeys&&(i.collector.tableKeys=t.collector.tableKeys),newCom.splice(n,0,i)}))}),_this.components=newCom,_this.components.forEach(function(t,e){_this.$set(t,"checked",!1),_this.$set(t,"checkedXian",!1),_this.ownerData.dataAuthorities.push({componentName:t.name,authority:"readonly",exportable:!0})}),_this.copyDataAuthorities=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.ownerData.dataAuthorities)),_this.$set(_this.curForm,"formSettingName",data.data.name),_this.$set(_this.curForm,"formSettingId",data.data.id),Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:_this.playersUrl,type:"get",success:function(t){t.state?(t.data&&(_this.playersId=t.data.id,_this.multiForm=!!t.data.multiForm,t.data.players.forEach(function(t,e){if(_this.components.forEach(function(t){t.checkedXian=!1}),t.defaultVisibleTableColumns.forEach(function(t){_this.components=_this.components.map(function(e){return t==e.name&&(e.checkedXian=!0),e})}),"owner"===t.category){_this.ownerData=t;var i=0;(n=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.copyDataAuthorities))).forEach(function(t,e){_this.ownerData.dataAuthorities.forEach(function(e,i){t.componentName===e.componentName&&(t.authority=e.authority,t.exportable=e.exportable)}),t.exportable&&i++}),_this.ownerData.dataAuthorities=n,_this.ownerData.exportNum=i}else{var a={};_this.$set(a,"palyerForm",{}),a.palyerForm=t,a.palyerForm.roleCheckList=a.palyerForm.checkNameAndNoBatch;var n,s=0;(n=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.copyDataAuthorities))).forEach(function(t,e){a.palyerForm.dataAuthorities.forEach(function(e,i){t.componentName===e.componentName&&(t.authority=e.authority,t.exportable=e.exportable)}),t.exportable&&s++}),a.palyerForm.dataAuthorities=n,a.palyerForm.exportNum=s,_this.$set(a,"roleEditing",!1),_this.$set(a,"newRoleName",""),_this.$set(a,"roleAddErrorMsg",""),_this.$set(a,"curComponentsCount",0),_this.$set(a,"curComponentsCountXian",0),_this.$set(a,"curPlayerCount",0),_this.$set(a,"AllComponents",[]),_this.$set(a,"roleSetData",[]),_this.$set(a,"batchCheck",""),_this.$set(a,"playerName",""),_this.$set(a,"searchName",""),_this.$set(a,"roleSetSearchName",""),a.curPlayerCount=t.operators.length,a.AllComponents=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.components)),_this.palyers.push(a),_this._initRoleList(e-1)}}),_this.palyers.map(function(){_this.clicktoggle.push(!0)})),Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);_this.ownerContentHeight=t-190-50},300),_this.monitorScroll()):_this.$toast(t.message)}})}else _this.$toast(data.message)}})),this.operatorData.forEach(function(t,e){t.name=_this.translate.operatorData[t.id]})},data:function(){return{clicktoggleStudent:!0,clicktoggle:[],positionLeft:null,newDistributaryData:[],distributaryData:[{id:"bySchool",name:"全校统一汇总"},{id:"byClass",name:"以班级关系分配"},{id:"byTeacher",name:"以带生关系分配"},{id:"byCollege",name:"以学院关系分配"},{id:"byTutor",name:"以导师分配"},{id:"byVolunteer",name:"以志愿者分配"},{id:"byBuilding",name:"公寓按楼栋分配"},{id:"byParty",name:"以党组织关系分配"}],roleList:[],components:[],operatorData:[{id:"required",name:"必填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"optional",name:"选填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"readonly",name:"只读",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map","nameCard"]},{id:"hide",name:"隐藏",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map","nameCard"]}],permission:{reject:{usable:!1,properties:{rejectTo:"lastNode",rejectBackTo:"flowWay"}},revocation:{usable:!1},deliverTo:{usable:!1},sendTo:{usable:!1},batch:{usable:!1},cancelByUser:{usable:!1}},batchCheck:"",roleEditing:!1,curNode:{distributary:"",operators:[],dataAuthorities:[{authority:null}]},curLink:{},otherLink:{nextNodeId:""},curForm:{formSettingId:"",formSettingName:""},isApplyNode:!1,isChange:!1,isSelectBatchSet:!1,palyers:[],ownerData:{id:"owner",name:"",category:"owner",distributary:"",operators:[],dataAuthorities:[],batch:!1,showLogs:!0,isHide:!1},copyDataAuthorities:[],curComponentsCount:{},curComponentsCountXian:{},nameIsNull:!0,roleNameArray:[],nameChangeMsg:"",noRoleSetAfaterHeight:"",joinRoleScrollAreaHeight:"",newAuthorityMaxHeight:"",roleSetContentHeight:"",headerIsFixed:"",batchHeadIsFixed:"",ownerHeaderIsFixed:"",ownerContentHeight:0,scrollIndex:0,formUrl:"",playersUrl:"",playersId:"",configurationArray:["infoConfig"],isConfig:!1,owenrSearchName:"",multiForm:!1,lang:"zh-cn"}},computed:{translate:function(){return Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.g)(this.lang).joinRoleSetManage},componentsCheckAllCount:function(){var t=0;return this.components.forEach(function(e){e.checked&&t++}),t},setColStyle:function(){return this.palyers.length<=1?{"text-align":"center","padding-left":"105px"}:{"text-align":"left","padding-left":"0"}}},watch:{headerIsFixed:{handler:function(){this.headerIsFixed||__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#read-write-content"+this.scrollIndex).css("padding-bottom","0")},deep:!0},batchHeadIsFixed:{handler:function(){this.batchHeadIsFixed?__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#read-write-content"+this.scrollIndex).css("padding-bottom","100px"):__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#read-write-content"+this.scrollIndex).css("padding-bottom","0")},deep:!0},ownerHeaderIsFixed:{handler:function(){this.ownerHeaderIsFixed?this.ownerContentHeight=this.ownerContentHeight-60:this.ownerContentHeight=this.ownerContentHeight+60},deep:!0},windowObj:{deep:!0,handler:function(t){var e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height();this.roleSetContentHeight=e-268,this.ownerContentHeight=e-190-50,this.joinRoleScrollAreaHeight=e-238,this.noRoleSetAfaterHeight=e-190,this.newAuthorityMaxHeight=e-83}}},mounted:function(){var t=this;Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);t.isConfig?t.newAuthorityMaxHeight=e-263:t.newAuthorityMaxHeight=e-228},300),__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#joinRolePage").keydown(function(e){return 1!=e.ctrlKey||83!=e.keyCode||(t._saveJoinSet(),t.$emit("back"),e.preventDefault(),!1)})},methods:(_methods={clickChangeStudent:function(){this.clicktoggleStudent=!this.clicktoggleStudent},clickChange:function(t){__WEBPACK_IMPORTED_MODULE_2_vue__.default.set(this.clicktoggle,t,!this.clicktoggle[t])},_setCanExport:function(t,e){t.dataAuthorities[e].exportable?t.exportNum--:t.exportNum++,t.dataAuthorities[e].exportable=!t.dataAuthorities[e].exportable},_changeExportAll:function(t){0===t.exportNum?(t.dataAuthorities.forEach(function(t){t.exportable=!0}),t.exportNum=t.dataAuthorities.length):(t.dataAuthorities.forEach(function(t){t.exportable=!1}),t.exportNum=0)},getContentHeight:function(t){return this.isConfig?this.newAuthorityMaxHeight+"px":"byTeacher"!==this.palyers[t].palyerForm.distributary&&""!=this.palyers[t].palyerForm.distributary&&"byTutor"!=this.palyers[t].palyerForm.distributary&&"byVolunteer"!=this.palyers[t].palyerForm.distributary?"":this.newAuthorityMaxHeight+"px"},monitorScroll:function(){var t=this,e=!1,i=!1,a=!1;this.isConfig||Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".join-role-scroll-area").scroll(function(){var a=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).attr("data-id");t.scrollIndex=a;var n=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children().find(".participant-read-write-content").position().top,s=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);n<=50?(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children().find(".participant-read-write-header").css("display","none"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-header").css("display","block"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#joinRoleScrollArea"+a).css("height",s-288),t.headerIsFixed=!0,e=!0):(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children().find(".participant-read-write-header").css("display","block"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-header").css("display","none"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#joinRoleScrollArea"+a).css("height",s-238),e&&(t.headerIsFixed=!1)),n<=-488?(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children(".participant-read-write-content").find(".batch-head").css("display","none"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-batch-head").css("display","block"),t.palyers[a].curComponentsCount>0&&(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-header").children(".participant-read-write-header").css("box-shadow","none"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-batch-head").children(".batch-head").css("box-shadow","0 0 0 0 rgba(0,0,0,0.12), 0 4px 4px 0 rgba(0,0,0,0.12)"),t.batchHeadIsFixed=!0,i=!0)):(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children(".participant-read-write-content").find(".batch-head").css("display","block"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-batch-head").css("display","none"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-header").children(".participant-read-write-header").css("box-shadow"," 0 0 0 0 rgba(0,0,0,0.12), 0 4px 4px 0 rgba(0,0,0,0.12)"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-batch-head").children(".batch-head").css("box-shadow","none"),i&&(t.batchHeadIsFixed=!1))}),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".owner-read-write-content").scroll(function(){var e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children(".role-list").position().top;t.componentsCheckAllCount>0&&(e<=-4?(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children(".batch-head").css("display","none"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".owner-batch-head").css("display","block"),t.ownerHeaderIsFixed=!0,a=!0):(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children(".batch-head").css("display","block"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".owner-batch-head").css("display","none"),a&&(t.ownerHeaderIsFixed=!1)))})},300)},_allowWriteMultipleForm:function(){this.multiForm=!this.multiForm},_back:function(){if(this.isChange&&confirm(this.translate.backTip)&&this._saveJoinSet(),!this.nameIsNull)return!1;this.$emit("back")},_saveJoinSet:function(){var t=this,e=[];e.push(this.ownerData),this.palyers.forEach(function(t,i){e.push(t.palyerForm)}),e.forEach(function(e,i){e.batch?e.checkNameAndNoBatch=e.roleCheckList:e.checkNameAndNoBatch=null,"owner"===e.category?e.name?t.nameIsNull=!0:(t.$toast("表单所属人名称不能为空"),t.nameIsNull=!1):e.name?t.nameIsNull=!0:(t.$toast("参与者名称不能为空"),t.nameIsNull=!1)});var i=[];if(this.components.forEach(function(t,e){t.name.indexOf("table")>-1&&t.name.length<21&&t.collector&&t.collector.tableKeys&&t.collector.tableKeys.length>0&&t.collector.tableKeys.forEach(function(t){i.push(t)})}),i.forEach(function(t){e=e.map(function(e){return e.dataAuthorities=e.dataAuthorities.map(function(e){return t==e.componentName&&(e.authority="required"),e}),e})}),!this.nameIsNull)return!1;this.isConfig?this.$emit("submit",{players:e,educationLevel:this.roleSetting.educationLevel,type:this.roleSetting.type}):this.businessId?this.$emit("submit",{id:this.playersId,multiForm:this.multiForm,players:e}):this.$emit("submit",{multiForm:this.multiForm,players:e})},_addRole:function(){this.isChange=!0;(new Date).getTime();var t={};this.$set(t,"palyerForm",{}),this.$set(t,"roleEditing",!1),this.$set(t,"newRoleName",""),this.$set(t,"roleAddErrorMsg",""),this.$set(t,"curComponentsCount",0),this.$set(t,"curComponentsCountXian",0),this.$set(t,"AllComponents",[]),this.$set(t,"roleSetData",[]),this.$set(t,"batchCheck",""),this.$set(t,"curPlayerCount",0),this.$set(t,"playerName",""),this.$set(t,"searchName",""),this.$set(t,"roleSetSearchName",""),this.$set(t.palyerForm,"id",""),this.$set(t.palyerForm,"name",""),this.$set(t.palyerForm,"category","participant"),this.$set(t.palyerForm,"distributary",""),this.$set(t.palyerForm,"operators",[]),this.$set(t.palyerForm,"dataAuthorities",[]),this.$set(t.palyerForm,"batch",!1),this.$set(t.palyerForm,"showLogs",!0),t.palyerForm.id="player_"+(new Date).getTime();this.components.forEach(function(e,i){t.palyerForm.dataAuthorities.push({componentName:e.name,authority:"readonly",exportable:!0})}),t.palyerForm.exportNum=t.palyerForm.dataAuthorities.length,t.AllComponents=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(this.components)),this.palyers.push(t)},_deletePlayers:function(t){this.palyers.splice(t,1)},_getAuthorityOf:function(t,e){var i="";return e.dataAuthorities&&e.dataAuthorities.forEach(function(e){t.name===e.componentName&&(i=e.authority)}),i},_setAuthorityOf:function(t,e,i){var a=this;if("optional"==e&&t.collector&&t.collector.tableKeys&&t.collector.tableKeys.indexOf(t.name)>-1)this.$toast("索引字段不可设置选填！");else{var n=!1;i.dataAuthorities&&i.dataAuthorities.forEach(function(i){t.name===i.componentName&&(n=!0,a.$set(i,"authority",e))}),n||i.dataAuthorities.push({componentName:t.name,authority:e})}},_batchSure:function(t,e){var i=this;this.isChange=!0,"participant"===t?(this.palyers[e].AllComponents.forEach(function(t,a){t.checked&&(i._getAuthorityOf(t,i.palyers[e].palyerForm)?i._setAuthorityOf(t,i._verifyBatch(t,i.palyers[e].batchCheck),i.palyers[e].palyerForm):i.palyers[e].palyerForm.dataAuthorities.push({authority:i._verifyBatch(t,i.palyers[e].batchCheck),componentName:t.name}),t.checked=!1)}),this.palyers[e].batchCheck="",this._componentsCheckAllCount(e)):(this.components.forEach(function(t,e){t.checked&&(i._getAuthorityOf(t,i.ownerData)?i._setAuthorityOf(t,i._verifyBatch(t,i.batchCheck),i.ownerData):i.ownerData.dataAuthorities.push({authority:i._verifyBatch(t,i.batchCheck),componentName:t.name}),t.checked=!1)}),this.batchCheck="")},_verifyBatch:function(t,e){var i=!1;return this.operatorData.forEach(function(a){a.id===e&&a.coms.indexOf(t.componentType)>=0&&(i=!0)}),i?e:""},_afterSelectedDis:function(t){var e=parseInt(t.target.$attrs["data-index"]);this.isChange=!0,this.palyers[e].roleEditing=!1,this.palyers[e].palyerForm.operators=[],this.palyers[e].curPlayerCount=0,this.isConfig||this._initRoleList(e)},_initRoleList:function(t){var e=this;"bySchool"===this.palyers[t].palyerForm.distributary||"byCollege"===this.palyers[t].palyerForm.distributary?Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/approveRoles",type:"get",data:{level:"bySchool"===this.palyers[t].palyerForm.distributary?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(i){if(i.state){e.palyers[t].roleSetData=i.data.reverse();var a=null;a&&clearTimeout(a),a=Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);e.roleSetContentHeight=t-268,e.joinRoleScrollAreaHeight=t-238,e.noRoleSetAfaterHeight=t-170,e.newAuthorityMaxHeight=t-83},300)}else e.$toast(i.message)}}):"byClass"===this.palyers[t].palyerForm.distributary?Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/relClass/classCommittees",type:"get",success:function(i){if(i.state){i.data.forEach(function(t){t.name=t.text}),e.palyers[t].roleSetData=i.data.reverse();var a=null;a&&clearTimeout(a),a=Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);e.roleSetContentHeight=t-268,e.joinRoleScrollAreaHeight=t-238,e.noRoleSetAfaterHeight=t-170,e.newAuthorityMaxHeight=t-83},300)}else e.$toast(i.message)}}):"byBuilding"===this.palyers[t].palyerForm.distributary?Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/apartment/roles",type:"get",success:function(i){if(i.state){i.data.forEach(function(t){t.name=t.name}),e.palyers[t].roleSetData=i.data.reverse();var a=null;a&&clearTimeout(a),a=Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);e.roleSetContentHeight=t-268,e.joinRoleScrollAreaHeight=t-238,e.noRoleSetAfaterHeight=t-170,e.newAuthorityMaxHeight=t-83},300)}else e.$toast(i.message)}}):"byParty"===this.palyers[t].palyerForm.distributary&&Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/partyBuild/organizations/personInChargeRole",type:"get",success:function(i){if(i.state){i.data.forEach(function(t){t.name=t.name}),e.palyers[t].roleSetData=i.data.reverse();var a=null;a&&clearTimeout(a),a=Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);e.roleSetContentHeight=t-268,e.joinRoleScrollAreaHeight=t-238,e.noRoleSetAfaterHeight=t-170,e.newAuthorityMaxHeight=t-83},300)}else e.$toast(i.message)}})},_changeInstructorSet:function(t){this.isChange=!0,this.palyers[t].palyerForm.operators.length>0?this.palyers[t].palyerForm.operators=[]:this.palyers[t].palyerForm.operators=[0]},_checkOperators:function(t,e){this.isChange=!0;var i=this.palyers[e].palyerForm.operators.indexOf(parseInt(t.id));i>=0?this.palyers[e].palyerForm.operators.splice(i,1):this.palyers[e].palyerForm.operators.push(parseInt(t.id)),this._roleCheckAllCount(e)},_changeCheckState:function(t,e,i,a){var n=this;this.isChange=!0;var s=!1;0===e&&(s=!0),this.isConfig?("dataAuthorities"===i&&t.forEach(function(t){t.title.indexOf(n.palyers[a].searchName)>=0&&(t.checked=s)}),"owner"===i&&t.forEach(function(t){t.title.indexOf(n.owenrSearchName)>=0&&(t.checked=s)})):"operators"===i?t.forEach(function(t){t.name.indexOf(n.palyers[a].roleSetSearchName)>=0&&(t.checked=s)}):t.forEach(function(t){t.checked=s}),"operators"===i?(this.palyers[a].palyerForm[i]=[],t.forEach(function(t){t.checked&&n.palyers[a].palyerForm[i].push(parseInt(t.id))}),this._roleCheckAllCount(a)):"dataAuthorities"===i&&this._componentsCheckAllCount(a)},_changeCheckStateXian:function(t,e,i,a,n){var s=this;this.palyers[a].palyerForm[i]=[],t.forEach(function(t){1==t.checkedXian&&s.palyers[a].palyerForm[i].push(t.name)})},_afterSelectedOperator:function(t){var e=parseInt(t.target.$attrs["data-index"]);this.isChange=!0,this.palyers[e].batchCheck=t.val,this._componentsCheckAllCount(e)},_afterSelectedOwner:function(t){this.isChange=!0,this.batchCheck=t.val},_creatNewRole:function(t){this.palyers[t].roleEditing=!0,__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#roleContent"+t).animate({scrollTop:"0px"},300)},_saveNewRole:function(t,e){var i=this;this.isChange=!0;__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this);if(!t)return this.palyers[e].roleAddErrorMsg="角色名不能为空",Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){i.palyers[e].roleAddErrorMsg=""},1500),!1;""===t.replace(/\s/g,"")&&(this.palyers[e].roleAddErrorMsg=this.roleEmptyTip),this.palyers[e].roleSetData.forEach(function(a){t===a.name&&(i.palyers[e].roleAddErrorMsg&&(i.palyers[e].roleAddErrorMsg+=","),i.palyers[e].roleAddErrorMsg+=i.translate.roleExistTip)}),this.palyers[e].roleAddErrorMsg?Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){i.palyers[e].roleAddErrorMsg=""},1500):Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/approveRoles",type:"post",data:{name:t,level:"bySchool"===this.palyers[e].palyerForm.distributary?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(a){a.state?(i.palyers[e].roleSetData.unshift({id:a.data,name:t}),i.palyers[e].palyerForm.operators.push(parseInt(a.data)),i.palyers[e].roleEditing=!1):i.$toast(a.message)}})},_changeBatchSet:function(t){this.palyers[t].palyerForm.batch?this.palyers[t].palyerForm.batch=!1:(this.palyers[t].palyerForm.batch=!0,this.palyers[t].palyerForm.roleCheckList||(this.palyers[t].palyerForm.roleCheckList=0))},_roleCheckAllCount:function(t){var e=this;return this.palyers[t].curPlayerCount=0,this.palyers[t].palyerForm&&this.palyers[t].palyerForm.operators&&this.palyers[t].roleSetData.forEach(function(i){e.palyers[t].palyerForm.operators.indexOf(parseInt(i.id))>=0&&e.palyers[t].curPlayerCount++}),this.palyers[t].curPlayerCount},_componentsCheckAllCount:function(t){var e=this;return this.palyers[t].curComponentsCount=0,this.palyers[t].AllComponents.forEach(function(i){i.checked&&e.palyers[t].curComponentsCount++}),this.palyers[t].curComponentsCount},_componentsCheckAllCountXian:function(t){var e=this;return this.palyers[t].curComponentsCountXian=0,this.palyers[t].AllComponents.forEach(function(i){i.checkedXian&&e.palyers[t].curComponentsCountXian++}),this.palyers[t].curComponentsCountXian}},__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_methods,"_componentsCheckAllCountXian",function(t){var e=this;return this.palyers[t].curComponentsCountXian=0,this.palyers[t].AllComponents.forEach(function(i){i.checkedXian&&e.palyers[t].curComponentsCountXian++}),this.palyers[t].curComponentsCount}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_methods,"_changeComSelectXian",function(t,e){t.checkedXian=!t.checkedXian,this._componentsCheckAllCountXian(e)}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_methods,"_changeComSelect",function(t,e){t.name.indexOf("table")>-1&&t.name.length<21&&(this.palyers[e].AllComponents=this.palyers[e].AllComponents.map(function(e){return e.name.length>21&&e[t.name]&&(e.checked=!t.checked),e})),t.name.indexOf("table")>-1&&t.name.length>21&&(this.palyers[e].AllComponents=this.palyers[e].AllComponents.map(function(e){return e.name.length<21&&e.name==t[e.name]&&(e.checked=!1),e})),t.checked=!t.checked,this._componentsCheckAllCount(e)}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_methods,"_changeComSelectStudent",function(t){t.name.indexOf("table")>-1&&t.name.length<21&&(this.components=this.components.map(function(e){return e.name.length>21&&e[t.name]&&(e.checked=!t.checked),e})),t.name.indexOf("table")>-1&&t.name.length>21&&(this.components=this.components.map(function(e){return e.name.length<21&&e.name==t[e.name]&&(e.checked=!1),e})),t.checked=!t.checked}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_methods,"_changeNameInput",function(){this.isChange=!0}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_methods,"_newRowInputFocus",function(t){this.palyers[t].newRoleName=this.appName+this.palyers[t].palyerForm.name+"管理员"}),_methods),destroyed:function(){__WEBPACK_IMPORTED_MODULE_3_jquery___default()(window).off("keydown")}}},"/tWO":function(t,e,i){"use strict";i("M17r");var a=i("lxAt"),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"jobApplyForm"}},[t.isShowLog?i("div",{staticClass:"log"},[i("button",{staticClass:"btn log-toggle",class:[t.logShow?"open":""],attrs:{title:"操作日志"},on:{click:function(e){t.logShow=!t.logShow}}},[t._v("\n      日志\n    ")]),t._v(" "),i("div",{staticClass:"log-content",class:[t.logShow?"active":""]},[t.isLogRecord?i("div",{staticClass:"log-item"},[i("span",{staticClass:"btn-block log-time"},[t._v("当前状态")]),t._v(" "),i("label",[i("strong",[t._v(t._s(t.logData.statusLabel))])])]):i("div",{staticClass:"log-item"},[t._m(0)]),t._v(" "),t._l(t.logData.histories,function(e,a){return i("div",{key:a,staticClass:"log-item"},[i("label",{staticClass:"btn-block log-time"},[t._v(t._s(e.createTime))]),t._v(" "),i("label",{staticClass:"btn-block log-detail"},[t._v("在"),i("strong",[t._v(t._s(e.node.nodeType.name))]),t._v("节点")]),t._v(" "),i("label",{staticClass:"btn-block log-detail"},[i("strong",[t._v(t._s(e.operator.name))]),i("strong",[t._v(t._s(t.actionTypeData[e.actionType])+"申请")])]),t._v(" "),"DISAGREE"===t.actionTypeData[e.actionType]?i("label",{staticClass:"btn-block log-detail"},[t._v("意见为："),i("strong",[t._v(t._s(e.opinion))])]):t._e(),t._v(" "),i("div",{staticClass:"log-records"},t._l(e.modifiedValues,function(e,a){return i("p",{key:a},[i("label",{staticClass:"btn-block log-detail"},[t._v("更新了"),i("strong",[t._v(t._s(e.valueTypeLabel))]),t._v("为"),i("strong",[t._v(t._s(e.newValueLabel))])])])}),0)])})],2)]):t._e(),t._v(" "),i("div",{staticClass:"jobApplyForm-header"},[i("i",{staticClass:"maticon back-icon-btn pull-left",domProps:{innerHTML:t._s(t.icons("navigate_before"))},on:{click:t._back}},[t._v("navigate_before")]),t._v(" "),i("div",{staticClass:"jobApplyForm-title"},[t._v("岗位申请表")])]),t._v(" "),i("div",{staticClass:"jobApplyForm-body",style:"max-height:"+t.scrollHeight+"px"},[i("div",{staticClass:"date-select-group"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label"},[t._v("申请人姓名")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.applyListData.applyName,expression:"applyListData.applyName"}],staticClass:"form-control form-input",attrs:{type:"text",disabled:!0,placeholder:"请输入姓名"},domProps:{value:t.applyListData.applyName},on:{input:function(e){e.target.composing||t.$set(t.applyListData,"applyName",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label"},[t._v("联系方式")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.applyListData.contact,expression:"applyListData.contact"}],staticClass:"form-control form-input",attrs:{type:"text",disabled:!t.isApply,placeholder:"请输入联系方式"},domProps:{value:t.applyListData.contact},on:{change:t.isPhoneNo,input:function(e){e.target.composing||t.$set(t.applyListData,"contact",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"date-select-group"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label pull-left  time-picker-label"},[t._v("申请日期")]),t._v(" "),i("v-datepicker",{ref:"workStartTime",staticClass:"time-picker",class:{disabled:!0},attrs:{disabled:!0,clearButton:!1,showTime:!1},model:{value:t.applyListData.applyTime,callback:function(e){t.$set(t.applyListData,"applyTime",e)},expression:"applyListData.applyTime"}})],1),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label pull-left time-picker-label"},[t._v("工作开始时间")]),t._v(" "),i("v-datepicker",{ref:"workStartTime",staticClass:"time-picker",class:{disabled:!t.isApply},attrs:{disabled:!t.isApply,clearButton:!1,showTime:!1},model:{value:t.applyListData.workStartTime,callback:function(e){t.$set(t.applyListData,"workStartTime",e)},expression:"applyListData.workStartTime"}})],1),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label pull-left time-picker-label"},[t._v("工作结束时间")]),t._v(" "),i("v-datepicker",{ref:"workStartTime",staticClass:"time-picker",class:{disabled:!t.isApply},attrs:{disabled:!t.isApply,clearButton:!1,showTime:!1},model:{value:t.applyListData.workEndTime,callback:function(e){t.$set(t.applyListData,"workEndTime",e)},expression:"applyListData.workEndTime"}})],1)]),t._v(" "),i("div",{staticClass:"date-select-group"},[i("div",{staticClass:"form-group verticalAlign-top"},[i("label",{staticClass:"form-label"},[t._v("是否困难生")]),t._v(" "),i("v-select",{staticClass:"btn-block form-select",attrs:{value:t.applyListData.isDifficultyStudent,options:t.isTodifficultStudentData,optionsLabel:"text",optionsValue:"id",disabled:!t.isApply,search:"","close-on-select":""},on:{afterSelected:t.difficultStudentSelected}})],1),t._v(" "),"true"===t.applyListData.isDifficultyStudent?i("div",{staticClass:"form-group verticalAlign-top"},[i("label",{staticClass:"form-label"},[t._v("困难认定级别")]),t._v(" "),i("v-select",{staticClass:"btn-block form-select",attrs:{value:t.applyListData.difficultyLevel,options:t.difficultyLevelData,optionsLabel:"label",optionsValue:"value",disabled:!t.isApply,search:"","close-on-select":""},on:{afterSelected:t.levelSelected}})],1):t._e(),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label verticalAlign-top",attrs:{title:t.applyListData.validWorkTime}},[t._v("工作时间段")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.applyListData.validWorkTime,expression:"applyListData.validWorkTime"}],staticClass:"time-modal-textarea",attrs:{cols:"6",rows:"5",maxlength:"300",title:t.applyListData.validWorkTime,disabled:!t.isApply,placeholder:"请输入可工作时间段"},domProps:{value:t.applyListData.validWorkTime},on:{input:function(e){e.target.composing||t.$set(t.applyListData,"validWorkTime",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"form-group computer-skills"},[i("label",{staticClass:"form-label verticalAlign-top"},[t._v("计算机能力")]),t._v(" "),i("div",{staticClass:"computer-content"},[i("div",t._l(t.computerSkillsData,function(e,a){return i("div",{key:a,staticClass:"computer-skills-options"},[i("span",{on:{click:function(i){return t.changeComputer(e,t.isApply)}}},[t.applyListData.computerSkill.indexOf(e.title)>=0?i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"icon-title"},[t._v(t._s(e.title))])])}),0),t._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("div",{staticClass:"computer-skills-options"},[t.isApply?i("span",{on:{click:function(e){return t.changeComputer(t.computerOther,t.isApply)}}},[t.computerOther.checked?i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]):i("span",{on:{click:function(e){return t.changeComputer(t.computerOther,t.isApply)}}},[t.computerOther.title&&t.applyListData.computerSkill.indexOf(t.computerOther.title)>=0?i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"icon-title"},[t._v("其他")])]),t._v(" "),i("span",{staticClass:"other"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.computerOther.title,expression:"computerOther.title"}],staticClass:"form-control search-input",attrs:{type:"text",disabled:!t.isApply},domProps:{value:t.computerOther.title},on:{input:function(e){e.target.composing||t.$set(t.computerOther,"title",e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"form-group computer-skills"},[i("label",{staticClass:"form-label verticalAlign-top"},[t._v("写作能力")]),t._v(" "),i("div",{staticClass:"computer-content"},[i("div",t._l(t.writingAbilityData,function(e,a){return i("div",{key:a,staticClass:"computer-skills-options"},[i("span",{on:{click:function(i){return t.changeWriting(e,t.isApply)}}},[t.applyListData.writeSkill.indexOf(e.title)>=0?i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"icon-title"},[t._v(t._s(e.title))])])}),0),t._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("div",{staticClass:"computer-skills-options"},[t.isApply?i("span",{attrs:{title:"222"},on:{click:function(e){return t.changeWriting(t.writingOther,t.isApply)}}},[t.writingOther.checked?i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]):i("span",{on:{click:function(e){return t.changeWriting(t.writingOther,t.isApply)}}},[t.writingOther.title&&t.applyListData.writeSkill.indexOf(t.writingOther.title)>=0?i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",style:{cursor:t.isApply?"pointer":"not-allowed"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"icon-title"},[t._v("其他")])]),t._v(" "),i("span",{staticClass:"other"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.writingOther.title,expression:"writingOther.title"}],staticClass:"form-control search-input",attrs:{type:"text",disabled:!t.isApply},domProps:{value:t.writingOther.title},on:{input:function(e){e.target.composing||t.$set(t.writingOther,"title",e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"form-group",staticStyle:{"margin-top":"20px"}},[i("label",{staticClass:"form-label verticalAlign-top"},[t._v("备注")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.applyListData.remark,expression:"applyListData.remark"}],staticClass:"modal-textarea",attrs:{cols:"24",rows:"5",maxlength:"600"},domProps:{value:t.applyListData.remark},on:{input:function(e){e.target.composing||t.$set(t.applyListData,"remark",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group",staticStyle:{"margin-top":"20px"}},[i("label",{staticClass:"form-label"},[t._v("添加附件")]),t._v(" "),t.isApply?i("span",[i("div",{staticClass:"btn upload"},[t._v("添加附件"),i("input",{attrs:{type:"file"},on:{change:function(e){return t._fileUpload(e)}}})])]):t._e(),t._v(" "),i("div",{staticClass:"file-div"},[t.applyListData.attachment.length>0?i("ul",{staticClass:"list-group"},t._l(t.applyListData.attachment,function(e,a){return i("li",{key:a,staticClass:"list-group-item"},[i("span",{staticClass:"pull-right"},[i("a",{attrs:{"data-href":t.fileUrlPrefix+e.hash},on:{click:t._downloadFile}},[t._v("下载")])]),t._v(" "),i("i",{staticClass:" maticon pull-right",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){return t._removeFile(a)}}},[t._v("cancel")]),t._v(" "),t.supportPreview.indexOf(e.originalName.match(/([^.]+)$/)[1])>=0?i("p",{staticClass:"fileName"},[i("a",{staticClass:"a-style",on:{click:function(i){return t._showAttachmentPreview(e)}}},[t._v(t._s(e.originalName))])]):i("p",{staticClass:"fileName"},[i("a",[t._v(t._s(e.originalName))])])])}),0):i("div",{staticClass:"list-group"},[t._v("无")])])])]),t._v(" "),"application"===t.formType?i("div",{staticClass:"jobApplyForm-footer"},[i("div",{staticClass:"btn-group"},[i("button",{staticClass:"btn btn-bgColor-style sumbit-form clearBtnBorder",attrs:{type:"button"},on:{click:t.sumbit}},[t._v("提交")])])]):"check"===t.formType?i("div",{staticClass:"jobApplyForm-footer"},["TODO"===t.formStatus?i("div",{staticClass:"btn-group"},[i("button",{staticClass:"btn btn-bgColor-style pass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._pass}},[t._v("通过")]),t._v(" "),i("button",{staticClass:"btn btn-bgColor-style unpass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._unpass}},[t._v("不通过")])]):t._e(),t._v(" "),t.formDetail.opts?i("div",{staticClass:"btn-group"},[t.formDetail.opts.canRevoke?i("button",{staticClass:"btn pass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._revoke}},[t._v("撤回")]):t._e()]):t._e()]):"applicationRecord"===t.formType?i("div",{staticClass:"jobApplyForm-footer"},[i("div",{staticClass:"btn-group"},[t.formDetail.opts.canRevoke?i("button",{staticClass:"btn btn-bgColor-style pass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._revoke}},[t._v("撤回")]):t._e(),t._v(" "),t.formDetail.opts.canResubmit?i("button",{staticClass:"btn btn-bgColor-style pass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._resubimt}},[t._v("重新提交")]):t._e(),t._v(" "),t.formDetail.opts.canCancel?i("button",{staticClass:"btn btn-bgColor-style unpass-form clearBtnBorder",attrs:{type:"button"},on:{click:t._cancelApplication}},[t._v("取消申请")]):t._e()])]):i("div",{staticClass:"jobApplyForm-footer"}),t._v(" "),i("v-modal",{attrs:{show:t.showUnpassOpinionModal,width:"500"}},[i("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[i("h5",{staticClass:"modal-title"},[t._v("\n        确定不通过该申请吗？\n      ")])]),t._v(" "),i("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[i("div",{staticClass:"form-group"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.opinion,expression:"opinion"}],staticClass:"unpass-modal-textarea",attrs:{cols:"24",rows:"5",placeholder:"请输入不通过的意见",maxlength:"600"},domProps:{value:t.opinion},on:{input:function(e){e.target.composing||(t.opinion=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showUnpassOpinionModal=!1}}},[t._v("取消")]),t._v(" "),i("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t.submitUnpassOpinion}},[t._v("确定")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("strong",[this._v("暂无相关日志")])])}]};var s=function(t){i("c0sd")},o=i("C7Lr")(a.a,n,!1,s,null,null);e.a=o.exports},"038R":function(t,e){},"0FSR":function(t,e,i){"use strict";var a=i("2IYH"),n=i("Se9A"),s=(Boolean,a.a,n.a,{props:{inline:Boolean},mixins:[a.a],components:{ModuleContainer:n.a},methods:{showOjfUnitApply:function(t,e){this.$emit("show-ojf-unit-apply",t)}}}),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("module-container",{attrs:{title:"参会单位",inline:t.inline}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form}},[i("el-table-column",{attrs:{type:"index",width:"40"}}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"企业名称",width:"260"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionCount",label:"职位数量",width:"260"}}),t._v(" "),i("el-table-column",{attrs:{prop:"opt",label:"操作",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.showOjfUnitApply(e.row,e.$index)}}},[t._v("查看")])]}}])})],1)],1)},staticRenderFns:[]},r=i("C7Lr")(s,o,!1,null,null,null);e.a=r.exports},"0Nqt":function(t,e){},"0UIA":function(t,e){},"0lw6":function(t,e,i){"use strict";(function(e){var i,a,n=e.MutationObserver||e.WebKitMutationObserver;if(n){var s=0,o=new n(u),r=e.document.createTextNode("");o.observe(r,{characterData:!0}),i=function(){r.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,i=function(){l.port2.postMessage(0)}}var c=[];function u(){var t,e;a=!0;for(var i=c.length;i;){for(e=c,c=[],t=-1;++t<i;)e[t]();i=c.length}a=!1}t.exports=function(t){1!==c.push(t)||a||i()}}).call(e,i("9AUj"))},"0qmq":function(t,e){},"1+29":function(t,e,i){"use strict";var a=i("tK0m"),n=i("/Dyk"),s=i("LQgT"),o=i("m5wb");s=i("LQgT");function r(t,e,i,a,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=i,this.compression=a,this.compressedContent=n}r.prototype={getContentWorker:function(){var t=new n(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new n(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},r.createWorkerFrom=function(t,e,i){return t.pipe(new o).pipe(new s("uncompressedSize")).pipe(e.compressWorker(i)).pipe(new s("compressedSize")).withStreamInfo("compression",e)},t.exports=r},"28Y8":function(t,e,i){"use strict";var a=i("v7gX"),n=i("fUz/"),s=i("x07i"),o=i("PsLW"),r=(i("PObU"),i("EVdu"));function l(t){this.files=[],this.loadOptions=t}l.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(e)+", expected "+n.pretty(t)+")")}},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var a=this.reader.readString(4)===e;return this.reader.setIndex(i),a},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=r.uint8array?"uint8array":"array",i=n.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,a=this.zip64EndOfCentralSize-44;0<a;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(t=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var a=e-i;if(a>0)this.isSignature(e,s.CENTRAL_FILE_HEADER)||(this.reader.zero=a);else if(a<0)throw new Error("Corrupted zip: missing "+Math.abs(a)+" bytes.")},prepareReader:function(t){this.reader=a(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},"2FIc":function(t,e){},"2IYH":function(t,e,i){"use strict";var a=i("hRKE"),n=i.n(a);e.a={props:["value"],data:function(){return{form:this.value}},watch:{form:{deep:!0,handler:function(t){"object"!==n()(this.form)&&this.$emit("input",t)}}}}},"2U6h":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAGNElEQVR4Xu1bS4wUVRQ993VXgzNBgp8Fs5B09QxTbQQWE6OJCwV/4AKdGH4SMCaIia4wiCb4iR8SFSIrjQqJEVQYiKIsHKOAulJjZgEYu4aZrg4sYOGHDGQQuqrfNdVN43R1fXuqcYaeWna/d9+9591377m3XhFa/KEWtx9TAEx5QIsjMHUEroYDDE/LdJoSiwi8AIxuEKeZMROgGZX1+TwRRsBUAGGQQUcVgSOdl/LDzdavaR6QS6nzCLyGmVaA+ZaGDCE6RcR9DNqdLRrHG5IRMCl2AHJKpoeY32bwojgVJtARJtqUNfMD8cqNSdqJ6V1qqVTaQswrGM1JrwQwE/UlEonNcy8OGXGoPm4P4GXLEoNfDWxhiQ0Ap+JQKlgGFUlge/fDPZtp//5S8HjvEeMC4OTMebMujI7uA/i+YCXIBPADCL+B6TQJPgNBp8vzJHewpNkg7gDjNgD3AKyEkHmorb19+ZyR42eDx7qPaBiAwdRcTbJ1EMxdXosT8A8IB4nEl8l27s+cNUbCKJqfpc60RmkJs3wEjKUMXOc5j2hIUHJpd/GEHka2c0xDAOjTMwth8QEGz3RblIASSHwEJfmKdmGwsssNPnpbdwdM61WwfIKBhPt6NIIk9WoX899HXSYyAPbOs7R+9jae+hNCbOwqDv8eVRm/8UOpzltLUm5j8BIvEEgk74zqCZEAKJ/5C6O/uLm9HaEB8bJm5d+I03CnLD2ZeRGQr7lmGqKhtrb2O6LEhNAA2NFePzDwjUfAGxVCrOku5g800/iq7MFUpldKuRtAe/16dEjr7VkcNjuEBkBPqW+y5OddDBwFibvjJihBQNqECyx/dAOBBL2lFY0XgmTY/4cCoExyrFLOmedttychHr1aO+80yPYElvLz+uNAxUQykQ1DlkIBkFPUPWBeWZ9CxEvNPvNBu2jHBIZ8vW4c0d6saawKmh8IQIXby1+dKBOoX7OMh4IWuBr/60n1a2d2qNBmcXvQ0QwEQE+qh52FjZ3nEyIxPyjVcU+Poh/7e2eSE+93WcM/RQFDT2buYpLrtfk3rKOBAZtFej6VFFk65uQJdgGlWca9fnN9AbBLWkg+Vuf6JHZqZv5JP8Fl44+e7QO4l0DnEhCLw4JgGw9wP4NnAPSFtmDWyiAQdCWzg1muq9NJ0Hy/UtoXAD2V3soSG8cKLdPbVKrTj+GNNb46NywItcZfmR0IQpkxFovDTtpMAlu1YmGT12b5e4CinnQ2M4jQp5mFuoA4dgFdSe9ixpr6oEnnExAPenmCu/GXpRB2Zc3C435epyvpvcxYUTOG6FTWNOZEBqDcxirJIedEIcSq7mJ+r68iNS5cO9LLE/yMJ/gDV11hMJVZKaXc49RNSYgur/aapwfklMx6sPzAob6ZmoGbw1R1AQbVxIQ4jLf1tKvI4nn8UVdKk3gqa+Y/dNs0TwB0RX2XmZ92APBd1jIeCBvNw4BQAov/Al6dt/geGTc9ckn1W4Dvr4lbRO9ppvFMNACS6iEG16YQou1Z03g2LAD2uKDdtcdUov34jbcl5BT1HTBvqA3cdFizDNemjY8HpA1mpGvVEs9lrfy2KAAEgeC+K+HOvLsHZDYCcmutB6CgmQU1kgfkkuk/AdxYM0nQ6mzR+CwqAFFACBvwvHTIpdTHIPlTx/9/Za3CTREBUC/VFT9JsaiRrkt1Yd80V67MGt/5K2tMzyxkSx5xHKhi1jKmTQHggoB3GpykR0BPqatZ8ifjPgK6ck0FQUMzC5lIR0CfSoNNJ0JlkjNhiVCTqXANwwsiS34F1Fi39qLCgsT6bjO/I9IRaGIx5Epv4wAh1mLoMq1sqBzOKemPwVgbld5OqHK4zN7ibYiEKmwmVkMkvpZYKOPdGeP/2BKrcPhJ3RT1rAKrYAd2hVu+LX45GLbuixEbgJZ/NVbJCC38ctQGoOVfj9sgtPQFiWraaOkrMmPbTi17SWqsJ7TsNbkqCOO5KAnBp0nQmXKAlTwbkjom1UXJKggtfVV2bLnbspelnTV/y16XrwOi8sHEWmZaPs4PJvYxaNek+WDCre/m8smMyozrHZ/MnAOTcc18MuMGxET8LbAfMBGVjlOnKQDiRHMyyprygMm4a3Hq/C8LVqZ9cVLtJAAAAABJRU5ErkJggg=="},"3ZbE":function(t,e,i){"use strict";var a=i("PObU"),n=i("fUz/"),s=i("uezc"),o=i("RyAT"),r=i("Esja"),l=i("1+29"),c=i("FDR+"),u=i("NDtI"),d=i("a2RD"),p=i("YPa4"),h=function(t,e,i){var a,o=n.getTypeOf(e),u=n.extend(i||{},r);u.date=u.date||new Date,null!==u.compression&&(u.compression=u.compression.toUpperCase()),"string"==typeof u.unixPermissions&&(u.unixPermissions=parseInt(u.unixPermissions,8)),u.unixPermissions&&16384&u.unixPermissions&&(u.dir=!0),u.dosPermissions&&16&u.dosPermissions&&(u.dir=!0),u.dir&&(t=_(t)),u.createFolders&&(a=m(t))&&f.call(this,a,!0);var h="string"===o&&!1===u.binary&&!1===u.base64;i&&void 0!==i.binary||(u.binary=!h),(e instanceof l&&0===e.uncompressedSize||u.dir||!e||0===e.length)&&(u.base64=!1,u.binary=!0,e="",u.compression="STORE",o="string");var v=null;v=e instanceof l||e instanceof s?e:d.isNode&&d.isStream(e)?new p(t,e):n.prepareContent(t,e,u.binary,u.optimizedBinaryString,u.base64);var g=new c(t,v,u);this.files[t]=g},m=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},_=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},f=function(t,e){return e=void 0!==e?e:r.createFolders,t=_(t),this.files[t]||h.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function v(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var g={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,i,a;for(e in this.files)this.files.hasOwnProperty(e)&&(a=this.files[e],(i=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(i,a))},filter:function(t){var e=[];return this.forEach(function(i,a){t(i,a)&&e.push(a)}),e},file:function(t,e,i){if(1===arguments.length){if(v(t)){var a=t;return this.filter(function(t,e){return!e.dir&&a.test(t)})}var n=this.files[this.root+t];return n&&!n.dir?n:null}return t=this.root+t,h.call(this,t,e,i),this},folder:function(t){if(!t)return this;if(v(t))return this.filter(function(e,i){return i.dir&&t.test(e)});var e=this.root+t,i=f.call(this,e),a=this.clone();return a.root=i.name,a},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter(function(e,i){return i.name.slice(0,t.length)===t}),a=0;a<i.length;a++)delete this.files[i[a].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,i={};try{if((i=n.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");n.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var r=i.comment||this.comment||"";e=u.generateWorker(this,i,r)}catch(t){(e=new s("error")).error(t)}return new o(e,i.type||"string",i.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};t.exports=g},"483g":function(t,e,i){"use strict";var a=i("fUz/"),n=i("EVdu"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t){for(var e,i,n,o,r,l,c,u=[],d=0,p=t.length,h=p,m="string"!==a.getTypeOf(t);d<t.length;)h=p-d,m?(e=t[d++],i=d<p?t[d++]:0,n=d<p?t[d++]:0):(e=t.charCodeAt(d++),i=d<p?t.charCodeAt(d++):0,n=d<p?t.charCodeAt(d++):0),o=e>>2,r=(3&e)<<4|i>>4,l=h>1?(15&i)<<2|n>>6:64,c=h>2?63&n:64,u.push(s.charAt(o)+s.charAt(r)+s.charAt(l)+s.charAt(c));return u.join("")},e.decode=function(t){var e,i,a,o,r,l,c=0,u=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var d,p=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===s.charAt(64)&&p--,t.charAt(t.length-2)===s.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=n.uint8array?new Uint8Array(0|p):new Array(0|p);c<t.length;)e=s.indexOf(t.charAt(c++))<<2|(o=s.indexOf(t.charAt(c++)))>>4,i=(15&o)<<4|(r=s.indexOf(t.charAt(c++)))>>2,a=(3&r)<<6|(l=s.indexOf(t.charAt(c++))),d[u++]=e,64!==r&&(d[u++]=i),64!==l&&(d[u++]=a);return d}},"4DA3":function(t,e,i){"use strict";i("84iU"),i("C331");var a=i("7Adc"),n={props:["showArea","width","options"],data:function(){return{province:"",sheng:"",shi:"",shi1:[],qu:"",qu1:[],city:"",block:"",_sheng:"",_shi:"",_qu:"",showCity:!0}},watch:{options:{handler:function(t){var e=this;Object(a.setTimeout)(function(){if(t){var i=t.split(",");i[0]&&(e.sheng=i[0],e.choseProvince(i[0])),i[1]&&(e.shi=i[1],e.choseCity(i[1])),i[2]&&(e.qu=i[2],e.choseBlock(i[2]))}else e.sheng="",e.shi="",e.qu=""},500)},immediate:!0}},methods:{getCityData:function(){var t=this.mapJson;for(var e in this.province=[],this.city=[],this.block=[],t)e.match(/0000$/)?this.province.push({id:e,value:t[e],children:[]}):e.match(/00$/)?this.city.push({id:e,value:t[e],children:[]}):this.block.push({id:e,value:t[e]});for(var i in this.province)for(var a in this.city)this.province[i].id.slice(0,2)===this.city[a].id.slice(0,2)&&this.province[i].children.push(this.city[a]);for(var n in this.city)for(var s in this.block)this.block[s].id.slice(0,4)===this.city[n].id.slice(0,4)&&this.city[n].children.push(this.block[s])},setIdVaule:function(t){var e={};return e.id=t.id,e.value=t.value,e},choseProvince:function(t){for(var e in this.showCity=!0,this.showArea=!0,this.province)t===this.province[e].id&&(this.shi1=this.province[e].children,this.shi1.length?(this.shi=this.province[e].children[0].id,this.qu1=this.province[e].children[0].children,this.qu=this.province[e].children[0].children[0].id,this._sheng=this.setIdVaule(this.province[e]),this._shi=this.setIdVaule(this.province[e].children[0]),this._qu=this.setIdVaule(this.qu1[0])):(this.showCity=!1,this.showArea=!1));this.$emit("getData",{province:this._sheng,city:this._shi,area:this._qu})},choseCity:function(t){for(var e in this.city)t===this.city[e].id&&(this.qu1=this.city[e].children,this.qu=this.city[e].children[0].id,this.E=this.qu1[0].id,this._shi=this.setIdVaule(this.city[e]),this._qu=this.setIdVaule(this.qu1[0]));this.$emit("getData",{province:this._sheng,city:this._shi,area:this._qu})},choseBlock:function(t){for(var e in this.qu1)t===this.qu1[e].id&&(this._qu=this.setIdVaule(this.qu1[e]));this.$emit("getData",{province:this._sheng,city:this._shi,area:this._qu})}},created:function(){this.getCityData()}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"linkage",attrs:{id:"linkage"}},[i("el-select",{style:"width:"+t.width+"px",attrs:{placeholder:"省级地区",filterable:""},on:{change:t.choseProvince},model:{value:t.sheng,callback:function(e){t.sheng=e},expression:"sheng"}},t._l(t.province,function(t){return i("el-option",{key:t.id,attrs:{autocomplete:"off",label:t.value,value:t.id}})}),1),t._v(" "),i("el-select",{directives:[{name:"show",rawName:"v-show",value:t.showCity,expression:"showCity"}],style:"width:"+t.width+"px",attrs:{filterable:"",placeholder:"市级地区"},on:{change:t.choseCity},model:{value:t.shi,callback:function(e){t.shi=e},expression:"shi"}},t._l(t.shi1,function(t){return i("el-option",{key:t.id,attrs:{autocomplete:"off",label:t.value,value:t.id}})}),1),t._v(" "),t.showArea?i("el-select",{style:"width:"+t.width+"px",attrs:{filterable:"",placeholder:"区级地区"},on:{change:t.choseBlock},model:{value:t.qu,callback:function(e){t.qu=e},expression:"qu"}},t._l(t.qu1,function(t){return i("el-option",{key:t.id,attrs:{autocomplete:"off",label:t.value,value:t.id}})}),1):t._e()],1)},staticRenderFns:[]};var o=i("C7Lr")(n,s,!1,function(t){i("GHBH")},"data-v-25b989b8",null);e.a=o.exports},"4VgE":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAH3ElEQVR4Xu2bbYxUZxXHf+fOzpLtC35oPxSMb4W2sTWBHZZFYmIBbcVE2ErTAeaOqfUNo4kfWlS0Jm7iW03BGBNN68sHZWaARVsqjVqh2Y2NNsDuXaulkVZo0iZglJKWVWp3mHvMvTuzzty5d+69M3cWUpgvJNzznPP8/8//Oc95Xla4xH9yiePnMgGXFXCJM3B5CsyFAFYUuaEMq1GWADcpXC8wX4WrnfiiTCG8pnBClOfFYFJ7GLOy/L3b/euaAgZ3s6Rs8zFRsqq8rR0gAi8BezAoWDn+0o6PsDaJEzBQZLCifBdYFRY81nfhgJFi28QmrFjtQowTIyAzwmLKfFuVu5LsYIMvQQVGSPO1pKZHxwSsGqXntVM8IDZfUEh3DXydYxHOA99flGbb3iyVTmJ2RMDgI1xTPscvI8ldmBYYFTiKchI4JSn3X7TCQmABwkKFW3QmYfaGARN4cl4v2aeznAmzDfreNgHLS9xSUX6tyvUtnJ9TeEwM9vVdyW//OMRUlI6+7zGufv0/fFht7hAYUrgiMIZwPJ1m/aEsz0Xx7bVpi4CBErfZNr9SZpaxJqeORJWfpXoZPpLlH+10rNZm+QjXVaYZRvikKj2+8eCsIdw5bnIwbqzYBLgjb/N0C/CPG2m2jmc5FrczrewHRrjJLrNdlY8EkZDuZWVcJcQiwJnz51/ncIDsbcPg/okcDyQJ3OtrWYltts23AMNHecfnpRmMkxMiE+Bk+7Mn+b0qq33m0RQGppVjfzfB13xnSqzDpuirQuHg4jRro64OkQnoL7Edm/v8wKeE9x8x+fNcgJ/NDUWWVpQ/+JEgwnbL5ItR+hOJALfImeY5n3XeFoM75mrkvYAcJajNPu90cOuENO+OUixFI6DIiF+FZxh8pdtzPmwUqznhOz75YI9lsimsfSgB1dr+kE+A/ZbJ+rAASX4f3M2NPb28+qcN/LPeb6bI/qbVQVAjxUDY3iGUgP4Co95Kz5GYkeY9SS91ocvgNKMqnOnrY009CdUl8tmmOkE4MGlyeyu/LQlwt7Tnm5ObwMNWns8mOboRwI8pXOfYCTx7ZS9rnsryr9mVocBDClualGqwpNVWuiUBfplf4Fyql0WdVnhRyXNHd5pZ8LV2IvxVhDUTOU47/1etGI97y2aBB608XwqK15KATJGXfA4zdk3myUUF0IldEPiqCsoI6yyTJ2ox+guUgM31MZ1DFSvPO2IT4BxjTSvP+0hqo5VjpBNgUdpWwY+qs0v0/ATKpNhobebRhmRYIqs2e5rse7khaEkMVECmxBa1eajBmTB9xVVcG3VXFwWon03oyPuAd/w4u8hz/+a0dyttGHx6IsdP/WIFE1Dghwqfa5CT8IRlsrZdYFHatQt+NhkW+Z0qH/JMgx9ZeT4fl4CDCh+ob2QI35swm8vhKMCi2LQje6/fZUV22Mq9HuUenDS5LRYB/QVOAO9qIAC2TuTZEQVMXJtOR74Wb1mB+2zY7lHuCctkUSwCMgVOK1xT3yhlkBvPsasVOFVEBI1DQFLgnZgDJTZXbHc1+P9PODNpNmKpfQzMAf1F3vAmk1SK1eObGQsClykyrMo7h0w+MSzYUUhIQvb1cQZ2sapScavXegKmJ03mxVJAXAKq4L9eDfLzKCQkDd6JvbzEredtzyAJ8QnwmwIGmBN5j7wAD/gZDoRfDOW4J0gJ3QAfNAUEXrHyXBtPARGTYKbARoXdvs6FnetzfNxLQpJz3hu3v8S92E2J+sXJvP/pdas6INIyuGyctP6NPQofDWC4sN7k7hoJ3Rr5WuxMkQdV2dqYAnjSyvPBWArIxCiEQkkQiovS3P0iLPbb2MzMGP/yNkoirbfpL3IAbQQr0EYhVOQzqjzszaZBpXAEEvahvLe2pfWMkG9tHxf8it8wv3zGXb4bruhE2GKZ/DiWAtrZDIWRENCBRMA7voPyUa9w4yGTF2IR4DpsYzsch4SkZF83/wuqmA3qEl62TN4epKauHIhEISFp8CtHeOsbZV5Qpa8BrMGOyVxjUvRMv+CZ1smRWCsSkgbvIOgv8hOUT3nRpHtYengTz7SlANdxB4eifiR0A3z1UPSoKikP0LHJfPNNVmQFuJXVzJMXv2Pxxy2TdWGZup6EboCv5qrmY3EgJawYNzncqo+hx+LVAB1djLgkHGMnBnu8x1hhBIZ9z5S4X22+6bUTYa9lkg1rH42Ai/RqbKDIUAUeRRuf/LpK6+XmxK7G3FxwEV6OnoenUK5qGuWQzB8rB9SML6br8erIF/zAizA6fyG3j612H1KF/iJNgZqXi+GBhDvnlW94Ze/0UYQTPX0MHt7AK6HIqwaxCHDaXMRPZKZSBiuP5DgaFbxLWhzjmu1cPpJyKrz/lhkWuMdnnXe7JDBlGNw5nuNAXDxtETCrhC49k3N3da+yFnWv3zc0lbd1KB3Zp4T1cUe+5qJtAhwHnTyUFIOTCKdEUYWFFVggygKFpaLcGuXVqZPwevq4K86cb6oX4krGa39BnspCWQ1+8JYFbIua7YNwdqSAeqdz8lh6JtPvJc1XoxQ5UQY3MQJmE2S3nsvDWEr4clhtHwV0W4VQXMeJ/MGE8LIKI2mDna22tHH7NicE1AeJ8iczCmcF9z7yGMIzaRgNOsbqBHDiSTDJzlwIX4nngAsBopOYlwnohL03Q9vLCngzjGInGP4HmiWcbk/I00kAAAAASUVORK5CYII="},"5rGT":function(t,e,i){"use strict";var a=i("3cXf"),n=i.n(a),s=i("C331"),o=(i("7Adc"),{name:"New-Address",data:function(){var t=this;return{options:[],values:"",texts:"",selectValue:[],myAddress:"请选择",cityUrl:"/api/archives/permissions/getProvinceSecond",provenceUrl:"/api/archives/permissions/getProvinceList",props:{expandTrigger:"hover",value:"value",label:"label",children:"city",checkStrictly:!0,lazy:!0,lazyLoad:function(e,i){1===e.level?t.getCity(e,i):2!==e.level||t.noArea?i([]):t.getArea(e,i)}}}},props:{value:{default:"请选择"},width:{default:220},noArea:{default:!1},disabled:{default:!1}},created:function(){this.myAddress=this.value?this.value:"请选择"},watch:{value:function(t){this.myAddress=t||"请选择",this.selectValue=["","",""]}},mounted:function(){this.getCNodes("根",[])},methods:{getCity:function(t,e){var i=this,a=this.cityUrl+"?value="+t.value;t.city&&t.city.length?t.city=JSON.parse(n()(t.city)):Object(s.d)(a).then(function(a){a.state&&(i.noArea?(t.city=a.data.map(function(t){return t.leaf=!0,t}),e(t.city)):(t.city=a.data.map(function(t){return t.city=[],t}),e(t.city)))})},getArea:function(t){t.city=[{value:124,label:"我自创的市"},{value:1234,label:"哈哈哈哈哈"}]},getCNodes:function(t,e){var i=this,a=this.provenceUrl;Object(s.d)(a).then(function(t){t.state&&(i.options=t.data.map(function(t){return t.city=[],t}))})},handleItemChange:function(t){this.values=t;var e=t.length,i=this;1===e?i.options.forEach(function(e,a){e.value===t[0]&&i.getCity(e)}):2!==e||this.noArea||i.options.forEach(function(e,a){e.value===t[0]&&e.city.forEach(function(e,a){e.value===t[1]&&i.getArea(e)})})},handleChange:function(t,e){var i=this,a=this;a.values=this.selectValue[0],this.selectValue[1]&&(a.values+=","+this.selectValue[1]),this.$nextTick(function(t){a.texts=i.$refs.cascader.inputValue,i.$emit("onChange",a.values)})}}}),r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-elwrap address_select_wrap",style:{width:t.width+"px"}},[i("el-cascader",{ref:"cascader",staticStyle:{width:"100%",height:"34px"},attrs:{disabled:t.disabled,placeholder:t.myAddress,"popper-class":"cascader-panel",separator:",",options:t.options,props:t.props},on:{change:t.handleChange},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}})],1)},staticRenderFns:[]};var l=i("C7Lr")(o,r,!1,function(t){i("KU9P")},null,null);e.a=l.exports},"5u+d":function(t,e){},"66iE":function(t,e){},"6dK9":function(t,e){},"6lQ7":function(t,e,i){t.exports=i.p+"static/img/picBoy.803c2e6.jpeg"},"6s1/":function(t,e,i){"use strict";var a=i("IHPB"),n=i.n(a),s=(i("kV13"),i("qqHy")),o=i.n(s),r=(i("C331"),{data:function(){return{cursurPosition:0,functionHtml:" ",functionCode:"",useItemList:[],disabledList:[],funList:["max","min","avg","sum"]}},props:{properties:{default:null},wigtDataArr:{default:[]},showComputedModal:{default:!1}},watch:{showComputedModal:function(t){t?this.onShow():(document.querySelector(".functionWrap").innerHTML=" ",this.functionHtml=" ")}},computed:{numberFields:function(){return this.wigtDataArr.filter(function(t){return"number"===t.componentType})},tableFields:function(){var t=[];return this.wigtDataArr.forEach(function(e){if("table"==e.componentType){var i=e.properties.basic.tableFields.filter(function(t){return t.parentTitle=e.title,"number"===t.componentType});t=[].concat(n()(t),n()(i))}}),t}},mounted:function(){this.onShow()},methods:{unFocus:function(){"bookTextarea"===event.target.id||(event.preventDefault(),o()("#bookTextarea").blur())},onShow:function(){var t=this;this.properties&&(this.functionHtml=this.properties.functionHtml+" ",""==this.functionHtml&&(this.functionHtml=" "),this.functionCode=this.properties.functionCode,this.disabledList=[],this.checkCtrl(),setTimeout(function(){t.setFocus()},0))},setFocus:function(){var t=document.querySelector(".functionWrap"),e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(e)},tab:function(t,e){document.querySelector(".functionWrap").focus();var i=event.view.getSelection().getRangeAt(0),a=i.startOffset,n=document.createElement("span");n.setAttribute("contenteditable",!1),n.innerHTML=t.title;var s=document.createRange();s.setStart(i.startContainer,a),s.setEnd(i.startContainer,a),s.collapse(!0),s.insertNode(n),event.view.getSelection().removeAllRanges(),event.view.getSelection().addRange(i),i.setStart(n,1),i.setEnd(n,1)},patchfunctionCode:function(){var t=this;this.wigtDataArr.forEach(function(e){e.indexOf(t.functionCode)})},patchFunctionHtml:function(){this.functionHtml=document.querySelector(".functionWrap").innerHTML;for(var t=/title=[\'\"]?([^\'\"]*)[\'\"]?/i,e=this.functionHtml,i=e.match(/<div.*?(?:>*<\/div>)/gi),a=0;a<i.length;a++){var n=i[a].match(t);n&&n[1]&&(e=e.replace(i[a],"<"+n[1]+">"))}return this.functionCode=e,-1!=this.functionCode.indexOf("（")&&(this.functionCode=this.functionCode.replace(/（/g,"("),this.functionCode=this.functionCode.replace(/）/g,")")),-1!=this.functionCode.indexOf("&nbsp;")&&(this.functionCode=this.functionCode.replace(/&nbsp;/g," "),this.functionCode=this.functionCode.replace(/&nbsp;/g," ")),{functionHtml:this.functionHtml,functionCode:this.functionCode}},checkCtrl:function(){var t=this,e=o()(".transition.selected").data("key"),i=this.disabledList.length;-1==this.disabledList.indexOf(this.wigtDataArr[e].name)&&this.disabledList.push(this.wigtDataArr[e].name);this.wigtDataArr.forEach(function(e){if("number"==e.componentType&&e.initialization.properties.functionCode){var i=[],a=!1;if(t.disabledList.forEach(function(t){e.name==t&&(a=!0)}),a)return;!function t(e){var a=e.indexOf("<"),n=e.indexOf(">"),s=e.substring(a+1,n);i.push(s),-1!=(e=e.replace("<"+s+">","")).indexOf("<")&&t(e)}(e.initialization.properties.functionCode);for(var n=!1,s=0;s<i.length;s++){for(var o=0;o<t.disabledList.length;o++)if(i[s]==t.disabledList[o]){-1==t.disabledList.indexOf(e.name)&&t.disabledList.push(e.name),n=!0;break}if(n)break}}}),i<this.disabledList.length&&this.checkCtrl()},addFun:function(t){this.insertHtmlString(t+"()")},insertHtmlString:function(t){if(window.getSelection){var e=window.getSelection(),i=void 0;if(e.getRangeAt&&e.rangeCount){(i=e.getRangeAt(0)).deleteContents();var a=document.createElement("div");a.innerHTML=t;for(var n=document.createDocumentFragment(),s=void 0,o=void 0;s=a.firstChild;)o=n.appendChild(s);i.insertNode(n),o&&((i=i.cloneRange()).setStart(o,4),i.setEnd(o,4),i.collapse(!0),e.removeAllRanges(),e.addRange(i))}}},insertHtmlAtCaret:function(t){if(-1==this.disabledList.indexOf(t.name)){var e=void 0,i=void 0,a="";if(a=t.parentTitle?'<div contenteditable="false" title="'+t.name+'" class="myClass">'+t.parentTitle+"."+t.title+"</div>":'<div contenteditable="false" title="'+t.name+'" class="myClass">'+t.title+"</div> ",this.useItemList.push({item:t}),window.getSelection&&(e=window.getSelection()).getRangeAt&&e.rangeCount){(i=e.getRangeAt(0)).deleteContents();var n=document.createElement("div");n.innerHTML=a;for(var s=document.createDocumentFragment(),o=void 0,r=void 0;o=n.firstChild;)r=s.appendChild(o);i.insertNode(s),r&&((i=i.cloneRange()).setStartAfter(r),i.collapse(!0),e.removeAllRanges(),e.addRange(i))}}else this.$toast("该控件计算公式与当前控件相关联,无法使用!")}}}),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"conputer"},on:{mousedown:function(e){return t.unFocus()}}},[a("div",{staticClass:"box_flex"},[a("div",{staticClass:"left box_flex"},[a("div",{staticClass:"conputer_menu is_fun"},[a("div",{staticClass:"field_title"},[t._v("函数列表")]),t._v(" "),a("ul",{staticClass:"field_wrap"},t._l(t.funList,function(e,i){return a("li",{key:i,on:{click:function(i){return t.addFun(e)}}},[t._v(t._s(e))])}),0)]),t._v(" "),a("div",{staticClass:"conputer_menu"},[a("div",{staticClass:"field_title"},[t._v("当前表单字段")]),t._v(" "),a("ul",{staticClass:"field_wrap"},[t._l(t.tableFields,function(e){return a("li",{key:e.name,attrs:{title:e.name,disabled:"disabled"},on:{click:function(i){return t.insertHtmlAtCaret(e,t.index)}}},[t._v(t._s(e.parentTitle+"."+e.title))])}),t._v(" "),t._l(t.numberFields,function(e,i){return a("li",{key:i,class:{disabled:-1!=t.disabledList.indexOf(e.name)},attrs:{title:e.name,disabled:"disabled"},on:{click:function(a){return t.insertHtmlAtCaret(e,i)}}},[t._v(t._s(e.title))])})],2)])]),t._v(" "),a("div",{staticClass:"right grow_1"},[a("div",{staticClass:"field_title"},[t._v("公式")]),t._v(" "),a("div",{staticClass:"functionWrap",attrs:{id:"bookTextarea",contenteditable:"true"},domProps:{innerHTML:t._s(t.functionHtml)}})])]),t._v(" "),a("div",{staticClass:"text"},[a("img",{staticClass:"dengpao",attrs:{src:i("B8ac"),alt:""}}),t._v(" "),a("p",[t._v("· 单击左边控件选中进行编辑。")]),t._v(" "),a("p",[t._v("· 例如：（数字控件1+控件名称1+控件名称2）/2")]),t._v(" "),a("p",[t._v("· 可使用 max()最大值,min()最小值,avg()平均值,sum()求和")]),t._v(" "),a("p",[t._v("· 表格数字控件必须使用第3点提到的公式使用,例如:max(表格.数字控件1,数字控件1)+数字控件2")])])])},staticRenderFns:[]};var c=i("C7Lr")(r,l,!1,function(t){i("xASa"),i("LbNe")},"data-v-bc02e85e",null);e.a=c.exports},"713C":function(t,e,i){"use strict";var a=i("lC5x"),n=i.n(a),s=i("J0Oq"),o=i.n(s),r=i("2IYH"),l=i("Se9A"),c=i("p+qa"),u=(Boolean,Boolean,Object,Array,r.a,l.a,{props:{inline:Boolean,edit:Boolean,rules:{type:Object,default:{}},units:Array},mixins:[r.a],components:{ModuleContainer:l.a},data:function(){return{formRules:{name:[{required:!0,message:"请选择单位",trigger:"blur"}],contactPeople:[{required:!0,message:"请填写单位联系人",trigger:"blur"}],contactPhone:[{required:!0,message:"请填写电话",trigger:"blur"}],email:[{required:!0,message:"请填写邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]},isMyUnit:!1}},computed:{hasSelectedUnit:function(){return this.form.unitId||this.form.id}},created:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.isMyUnit=!!t.form.unitId||!!t.form.id;case 1:case"end":return e.stop()}},e,t)}))()},methods:{selectUnit:function(t){var e=this;return o()(n.a.mark(function i(){var a,s,o,r,l;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return");case 2:return window.sessionStorage.setItem("addPosition_unitId",t),i.next=5,Object(c.o)(t);case 5:a=i.sent,s=a.state,o=a.message,r=a.data,s?(l=r.companyMessage,e.form.unitId=l.companyId||l.id,e.form.name=l.companyName,e.form.typeName=l.propertyName,e.form.scale=l.scaleName,e.form.email=l.mailAddress,e.form.address=l.addressDetail,e.form.desc=l.summary,e.form.contactPeople=l.contactPeople,e.form.contactPhone=l.contactPhone):(e.$toast(o),e.form.unitId=null);case 10:case"end":return i.stop()}},i,e)}))()},validate:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$refs.form.validate());case 1:case"end":return e.stop()}},e,t)}))()}}}),d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("module-container",{attrs:{title:"单位信息",inline:t.inline,small:"",edit:t.edit}},[t.edit?i("el-form",{ref:"form",attrs:{model:t.form,rules:t.formRules}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位",prop:"name"}},[t.isMyUnit?i("p",[t._v("\n            "+t._s(t.form.name)+"\n          ")]):i("el-select",{attrs:{placeholder:"请选择单位",filterable:""},on:{change:t.selectUnit},model:{value:t.form.unitId,callback:function(e){t.$set(t.form,"unitId",e)},expression:"form.unitId"}},t._l(t.units,function(t){return i("el-option",{key:"unit-"+t.id,attrs:{label:t.name,value:t.id}})}),1)],1)],1),t._v(" "),t.hasSelectedUnit?i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位性质"}},[i("p",[t._v(t._s(t.form.typeName))])])],1):t._e()],1),t._v(" "),t.hasSelectedUnit?i("div",[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位联系人",prop:"contactPeople"}},[i("el-input",{attrs:{placeholder:"请输入单位联系人"},model:{value:t.form.contactPeople,callback:function(e){t.$set(t.form,"contactPeople",e)},expression:"form.contactPeople"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位规模"}},[i("p",[t._v(t._s(t.form.scale))])])],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"电话",prop:"contactPhone"}},[i("el-input",{attrs:{placeholder:"请输入电话"},model:{value:t.form.contactPhone,callback:function(e){t.$set(t.form,"contactPhone",e)},expression:"form.contactPhone"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"单位地址"}},[i("p",[t._v(t._s(t.form.address))])]),t._v(" "),i("el-form-item",{attrs:{label:"简介"}},[i("p",{domProps:{innerHTML:t._s(t.form.desc)}})])],1):t._e()],1):i("el-form",{attrs:{model:t.form}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位"}},[i("p",[t._v(t._s(t.form.name))])])],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位性质"}},[i("p",[t._v(t._s(t.form.typeName))])])],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位联系人"}},[i("p",[t._v(t._s(t.form.contactPeople))])])],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"单位规模"}},[i("p",[t._v(t._s(t.form.scale))])])],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"电话"}},[i("p",[t._v(t._s(t.form.contactPhone))])])],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"邮箱"}},[i("p",[t._v(t._s(t.form.email))])])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"单位地址"}},[i("p",[t._v(t._s(t.form.address))])]),t._v(" "),i("el-form-item",{attrs:{label:"简介"}},[i("p",{domProps:{innerHTML:t._s(t.form.desc)}})])],1)],1)},staticRenderFns:[]},p=i("C7Lr")(u,d,!1,null,null,null);e.a=p.exports},"7CEZ":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("LNiB");var a=i("Z9v7"),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid formSetPage",attrs:{id:"formSetPage"+t.pageStamp,tabindex:"1"}},[a("div",{staticClass:"head"},[a("div",{staticClass:"pull-left back-div"},[a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("arrow_back"))},on:{click:t._back}},[t._v("arrow_back")])]),t._v(" "),a("div",{staticClass:"pull-right opt-div"},[t.infoSetting?a("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:t._gotoRoleSet}},[t._v("参与角色设置")]):t._e(),t._v(" "),t.student?t._e():a("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:t.daochumoban}},[t._v("导出模板设置")]),t._v(" "),a("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:t._back}},[t._v(t._s(t.translate.cancel))]),t._v(" "),a("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:function(e){t.preview=!0}}},[t._v(t._s(t.translate.preview))]),t._v(" "),t.infoSetting?a("button",{staticClass:"btn save",class:{hasChange:t.isChangeOfInfo},on:{click:t._saveLayout}},[t._v(t._s(t.translate.sure))]):a("button",{staticClass:"btn save",class:{hasChange:t.isChange},on:{click:t._saveLayout}},[t._v(t._s(t.translate.sure))])])]),t._v(" "),a("div",{staticClass:"body flex-container",on:{mousemove:t._mouseMove,mouseup:t._mouseUp}},[a("GeminiScrollbar",{staticClass:"form-widget",class:t.layoutSetting.scriptShow||t.globalCollector.show?"hideTop":"",attrs:{scrollX:!1}},[a("div",{staticClass:"search-container",class:t.searching?"active":""},[a("div",{staticClass:"search-content"},[a("div",{staticClass:"search-head input-group"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:t.translate.searchPlaceholder},on:{keyup:t._searchKeyUp,change:t._searchWigt}}),t._v(" "),a("span",{staticClass:"input-group-addon",on:{click:function(e){t.searching=!1}}},[a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("cancel"))}},[t._v("cancel")])])]),t._v(" "),t.searchingText?a("div",{staticClass:"search-body"},[t._l(t.formSetting.leftSideData.base,function(e,i){return e.title.indexOf(t.searchingText)>=0?a("div",{key:"base"+i,staticClass:"widget-div col-xm-12"},[a("div",{staticClass:"widget normal drag search-wigt",attrs:{title:e.title,"data-key":i,"data-wigt-type":"base"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v("\n                "+t._s(e.title)+"\n                "),a("p",[t._v(t._s(t.translate.from)+":"+t._s(t.translate.basic))])])]):t._e()}),t._v(" "),t._l(t.formSetting.leftSideData.form,function(e,i){return a("div",{key:"form"+i,staticClass:"col-xm-12"},t._l(e.wigts,function(n,s){return n.title.indexOf(t.searchingText)>=0?a("div",{key:"formwigt"+s,staticClass:"widget-div col-xm-12"},[a("div",{staticClass:"widget normal drag search-wigt",attrs:{title:n.title,"data-key":s,"data-formindex":i,"data-wigt-type":"form"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v("\n                  "+t._s(n.title)+"\n                  "),a("p",[t._v(t._s(t.translate.from)+":"+t._s(e.name))])])]):t._e()}),0)}),t._v(" "),t._l(t.formSetting.leftSideData.info,function(e,i){return a("div",{key:"info"+i,staticClass:"col-xm-12"},t._l(e.wigts,function(n,s){return n.title.indexOf(t.searchingText)>=0?a("div",{key:"infowigt"+s,staticClass:"widget-div col-xm-12"},[a("div",{staticClass:"widget normal drag search-wigt",attrs:{title:n.title,"data-key":s,"data-infoindex":i,"data-wigt-type":"info"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v("\n                  "+t._s(n.title)+"\n                  "),a("p",[t._v(t._s(t.translate.from)+":"+t._s(e.name))])])]):t._e()}),0)}),t._v(" "),t._l(t.formSetting.leftSideData.sys,function(e,i){return a("div",{key:"sy"+i,staticClass:"col-xm-12"},t._l(e.wigts,function(n,s){return n.title.indexOf(t.searchingText)>=0?a("div",{key:"sywigt"+s,staticClass:"widget-div col-xm-12"},[a("div",{staticClass:"widget normal drag search-wigt",attrs:{title:n.title,"data-key":s,"data-sysindex":i,"data-wigt-type":"form"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v("\n                  "+t._s(e.title)+"\n                  "),a("p",[t._v(t._s(t.translate.from)+":"+t._s(e.name))])])]):t._e()}),0)})],2):t._e()])]),t._v(" "),t.searching?t._e():a("div",{staticClass:"part-head"},[a("h3",{staticClass:"pull-left"},[t._v(t._s(t.translate.library))]),t._v(" "),a("span",{staticClass:"circle1 pull-right",on:{click:function(e){t.searching=!0}}},[a("span",{staticClass:"circle2"},[a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("search"))}},[t._v("search")])])]),t._v(" "),a("div",{staticClass:"wigt-scroll",style:"height:"+t.leftBaseHeight+"px"},[a("div",{staticClass:"widget-container",class:t.curTarget&&"nameCard"===t.curTarget.componentType?"active":""},t._l(t.formSetting.leftSideData.nameCard,function(e,i){return a("div",{key:i,staticClass:"widget-div",class:"nameCard"===e.componentType?"col-xs-12":"col-xs-6"},[a("div",{staticClass:"widget normal",attrs:{title:e.title,"data-key":i,draggable:""},on:{dragstart:t._drag}},[t._v(t._s(e.title))])])}),0),t._v(" "),a("div",{staticClass:"widget-container",class:t.curTarget&&"table"===t.curTarget.componentType?"active":""},t._l(t.formSetting.leftSideData.table,function(e,i){return a("div",{key:i,staticClass:"widget-div",class:"table"===e.componentType?"col-xs-12":"col-xs-6"},[a("div",{staticClass:"widget normal",attrs:{title:e.title,"data-key":i,draggable:""},on:{dragstart:t._drag}},[t._v(t._s(e.title))])])}),0),t._v(" "),a("div",{staticClass:"widget-container",class:!t.curTarget||"table"!==t.curTarget.componentType&&"nameCard"!==t.curTarget.componentType?"active":""},t._l(t.formSetting.leftSideData.base,function(e,i){return a("div",{key:i,staticClass:"widget-div col-xs-6"},[a("div",{staticClass:"widget normal drag",attrs:{title:e.title,"data-key":i,"data-wigt-type":"base"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v(t._s(e.title))])])}),0)])]),t._v(" "),t.student?a("div",{attrs:{id:"newItem"},on:{click:function(e){t.showAddMemberModal=!0}}},[t._v("新增分类")]):t._e(),t._v(" "),t.searching?t._e():a("div",{staticClass:"part-bottom"},[a("ul",{staticClass:"list-group"},[t.formSetting.leftSideData.favor&&t.formSetting.leftSideData.favor.length>0?a("li",{staticClass:"list-group-item",class:t.formSetting.leftSideControl.showFavorWigt?"active":""},[a("a",{attrs:{role:"button"},on:{click:function(e){return t._showWigtContainer("showFavorWigt")}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showFavorWigt?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n              "+t._s(t.translate.favor)+"\n            ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showFavorWigt?"in":""})]):t._e(),t._v(" "),t.formSetting.leftSideData.form&&t.formSetting.leftSideData.form.length>0?a("li",{staticClass:"list-group-item",class:t.formSetting.leftSideControl.showFormWigt?"active":""},[a("a",{attrs:{role:"button"},on:{click:function(e){return t._showWigtContainer("showFormWigt")}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showFormWigt?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n              "+t._s(t.translate.other)+"\n            ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showFormWigt?"in":""},[a("div",{staticClass:"list-group"},t._l(t.formSetting.leftSideData.form,function(e,i){return a("li",{key:i,staticClass:"list-group-item",class:t.formSetting.leftSideControl.showFormName==="form"+i?"active":"",attrs:{title:e.title}},[a("a",{attrs:{role:"button"},on:{click:function(e){return t._showFormWigt(i)}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showFormName==="form"+i?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n                    "+t._s(e.title)+"\n                  ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showFormName==="form"+i?"in":""},t._l(e.wigts,function(e,n){return a("div",{key:n,staticClass:"widget-div col-xs-12"},[a("div",{staticClass:"widget normal drag",attrs:{title:e.title,"data-key":n,"data-formindex":i,"data-wigt-type":"form"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v(t._s(e.title))])])}),0)])}),0)])]):t._e(),t._v(" "),t.formSetting.leftSideData.info&&t.formSetting.leftSideData.info.length>0?a("li",{staticClass:"list-group-item",class:t.formSetting.leftSideControl.showInfoWigt?"active":""},[a("a",{attrs:{role:"button"},on:{click:function(e){return t._showWigtContainer("showInfoWigt")}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showInfoWigt?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n              "+t._s(t.translate.info)+"\n            ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showInfoWigt?"in":""},[a("div",{staticClass:"list-group"},t._l(t.formSetting.leftSideData.info,function(e,i){return a("li",{key:i,staticClass:"list-group-item",class:t.formSetting.leftSideControl.showFormName==="info"+i?"active":"",attrs:{title:e.title}},[a("a",{attrs:{role:"button"},on:{click:function(e){return t._showInfoWigt(i)}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showFormName==="info"+i?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n                    "+t._s(e.title)+"\n                  ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showFormName==="info"+i?"in":""},t._l(e.wigts,function(e,n){return a("div",{key:n,staticClass:"widget-div col-xs-12"},[a("div",{staticClass:"widget normal drag",attrs:{title:e.title,"data-key":n,"data-infoindex":i,"data-wigt-type":"info"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v(t._s(e.title))])])}),0)])}),0)])]):t._e(),t._v(" "),t.formSetting.leftSideData.sys&&t.formSetting.leftSideData.sys.length>0?a("li",{staticClass:"list-group-item",class:t.formSetting.leftSideControl.showSysWigt?"active":""},[a("a",{attrs:{role:"button"},on:{click:function(e){return t._showWigtContainer("showSysWigt")}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showSysWigt?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n              "+t._s(t.translate.allCom)+"\n            ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showSysWigt?"in":""},[a("div",{staticClass:"list-group"},t._l(t.formSetting.leftSideData.sys,function(e,i){return a("li",{key:i,staticClass:"list-group-item",class:t.formSetting.leftSideControl.showSysName==="sys"+i?"active":"",attrs:{title:e.title}},[a("a",{attrs:{role:"button"},on:{click:function(e){return t._showSysWigt(i)}}},[a("span",{staticClass:"glyphicon pull-right",class:t.formSetting.leftSideControl.showSysName==="sys"+i?" glyphicon-chevron-up":"glyphicon-chevron-down"}),t._v("\n                    "+t._s(e.title)+"\n                  ")]),t._v(" "),a("div",{staticClass:"collapse",class:t.formSetting.leftSideControl.showSysName==="sys"+i?"in":""},t._l(e.wigts,function(e,n){return a("div",{key:n,staticClass:"widget-div col-xs-12"},[a("div",{staticClass:"widget normal drag",attrs:{title:e.title,"data-key":n,"data-sysindex":i,"data-wigt-type":"sys"},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp}},[t._v(t._s(e.title))])])}),0)])}),0)])]):t._e()])])]),t._v(" "),a("div",{staticClass:"col-md-12 form-part",attrs:{scrollX:!1},on:{click:t._pageClick}},[a("div",{staticClass:"script-btn",on:{click:t.scriptClick}},[t.layoutSetting.scriptShow?a("span",[t._v(t._s(t.translate.layout))]):a("span",[t._v(t._s(t.translate.script))]),t._v(" "),a("div",{class:t.layoutSetting.scriptShow?"code-script":""},[t.layoutSetting.scriptShow?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("format_align_left"))}},[t._v("format_align_left")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("code"))}},[t._v("code")])])]),t._v(" "),a("div",{staticClass:"collect-btn",on:{click:t.collectClick}},[t.globalCollector.show?a("span",[t._v(t._s(t.translate.layout))]):a("span",{attrs:{title:"全局采集"}},[t._v("采集")]),t._v(" "),a("div",{class:t.globalCollector.show?"code-script":""},[t.globalCollector.show?a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("format_align_left"))}},[t._v("format_align_left")]):a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("control_point"))}},[t._v("control_point")])])]),t._v(" "),t.layoutSetting.scriptShow?a("div",{staticClass:"script-div"},[t._m(0),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{placeholder:"这里放入你的脚本代码哟~"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.globalCollector.show,expression:"globalCollector.show"}],staticClass:"collect-div"},[t._l(t.globalCollector.collectors,function(e,i){return a("div",{key:"global-collector-"+i,staticClass:"collect-item"},[a("div",[a("div",{staticClass:"item-head"},[a("label",{staticClass:"inLabel",attrs:{for:""}},[t._v("数据集")]),t._v(" "),a("v-select",{attrs:{options:t.multipleDataSetOptions,"data-index":i,defaultValue:e.dataSet,value:e.dataSet,"options-value":"name","options-label":"title"},on:{afterSelected:t._selectGlobalCollectorDataSet}})],1),t._v(" "),a("span",{attrs:{"display:inline-block":""}},[t._v("索引")]),t._v(" "),a("a",{staticClass:"item-remove",attrs:{"display:inline-block":""},on:{click:function(e){return t._deleteGlobalCollector(i)}}},[t._v("删除")])]),t._v(" "),t._l(e.fields,function(n,s){return a("div",{key:"global-collector-field-"+s,staticClass:"item-inItem"},[a("div",{staticClass:"item-inItem-info"},[a("label",{staticClass:"item-lable",attrs:{for:""}},[t._v(t._s(t._getFieldNameByDataSetAndName(e.dataSet,n.name)))]),t._v(" "),a("v-select",{attrs:{options:t.globalCollector.valueTypeOptions,"options-value":"value","options-label":"label","data-set-index":i,"data-field-index":s},on:{afterSelected:t._selectGlobalCollectorFieldValueType},model:{value:n.valueType,callback:function(e){t.$set(n,"valueType",e)},expression:"field.valueType"}}),t._v(" "),"COMPONENT"===n.valueType?a("v-select",{attrs:{options:t.singularWidgets,"options-value":"name","options-label":"title","data-set-index":i,"data-field-index":s},on:{afterSelected:t._selectGlobalCollectorFieldComponentValue},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"field.value"}}):t._e(),t._v(" "),"FIXED"===n.valueType?a("input",{directives:[{name:"model",rawName:"v-model",value:n.value,expression:"field.value"}],attrs:{type:"text"},domProps:{value:n.value},on:{input:function(e){e.target.composing||t.$set(n,"value",e.target.value)}}}):t._e()],1),t._v(" "),a("span",{staticStyle:{display:"inline-block"}},[a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons(n.isKey?"check_box":"check_box_outline_blank"))},on:{click:function(t){n.isKey=!n.isKey}}})])])})],2)}),t._v(" "),a("button",{staticClass:"addCollect",on:{click:t._addGlobalCollector}},[t._v("新增采集")])],2),t._v(" "),a("div",{staticClass:"cells-div"},[t.infoSetting?a("div",{staticClass:"form-title info-title"},[a("span",{staticClass:"tab-pre",on:{click:function(e){return t._scrollTab(0)}}}),t._v(" "),a("span",{staticClass:"tab-next",on:{click:function(e){return t._scrollTab(1)}}}),t._v(" "),a("div",{staticClass:"tab-container"},[a("div",{staticClass:"tab-list"},t._l(t.infoSetting.tabs,function(e,i){return a("div",{key:i,staticClass:"tab-item",class:{active:t.personalInfoSetting.curInfoId===e.id},on:{click:function(i){return t._getPersonalInfoOf(e)}}},[t._v("\n                "+t._s(e.title)+"\n                "),t.personalInfoSetting.changedIds.indexOf(e.id)>=0?a("i",[t._v("*")]):t._e()])}),0),t._v(" "),t.tabShow?t._e():a("div",{staticClass:"text-center more"},[a("i",{staticClass:"maticon",class:{active:t.tabShow},staticStyle:{"margin-top":"32px",transform:"rotate(-90deg)",cursor:"pointer"},attrs:{title:"类别总览"},domProps:{innerHTML:t._s(t.icons("chevron_left"))},on:{click:function(e){t.tabShow=!t.tabShow}}})])])]):a("h2",{staticClass:"form-title"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"info-value",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),t._l(t.cellsArray,function(e,i){return a("div",{key:i,staticClass:"container-fluid cell-row"},t._l(t.cellsArray[i],function(t,e){return a("div",{key:e,staticClass:"cell",attrs:{"data-x":e,"data-y":i}},[a("div")])}),0)})],2)]),t._v(" "),a("GeminiScrollbar",{staticClass:"form-attrs",class:t.layoutSetting.scriptShow||t.globalCollector.show?"hideTop":"",attrs:{scrollX:!1}},[a("div",{staticClass:"part-head"},[a("h3",[a("i",{staticClass:"maticon help",attrs:{title:t.translate.help},domProps:{innerHTML:t._s(t.icons("info"))}},[t._v("info")])]),t._v(" "),t.curTarget?a("div",{staticClass:"info-part"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.title)+"*")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.title,expression:"curTarget.title"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.title},on:{input:function(e){e.target.composing||t.$set(t.curTarget,"title",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v("nameID")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.name,expression:"curTarget.name"}],staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:t.curTarget.name},on:{input:function(e){e.target.composing||t.$set(t.curTarget,"name",e.target.value)}}})])]):t._e(),t._v(" "),t.curTarget&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].basic?a("div",{staticClass:"info-part"},[a("label",{staticClass:"type-head"},[t._v(t._s(t.translate.basicAttr))]),t._v(" "),t._l(t.formSetting.attributesShow[t.curTarget.componentType].basic,function(e,i){return"exportable"!==e?a("div",{key:i,staticClass:"type-attr"},[a("div",{class:"datetime"!==t.formSetting.attributes[e].type?"input-group":"form-group"},["nameCardTypeRoleId"!=e?a("label",{staticClass:"info-name",class:"datetime"!==t.formSetting.attributes[e].type?"input-group-addon":"form-label"},[t._v(t._s(t.translate.attrName[e]))]):t._e(),t._v(" "),"nameCardTypeRoleId"==e&&t.appearRoleId?a("label",{staticClass:"info-name",class:"datetime"!==t.formSetting.attributes[e].type?"input-group-addon":"form-label"},[t._v(t._s(t.translate.attrName[e]))]):t._e(),t._v(" "),"text"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.basic[e],expression:"curTarget.properties.basic[b]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.properties.basic[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.basic,e,i.target.value)}}}):t._e(),t._v(" "),"color"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.basic[e],expression:"curTarget.properties.basic[b]"}],staticClass:"form-control info-value",attrs:{type:"color"},domProps:{value:t.curTarget.properties.basic[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.basic,e,i.target.value)}}}):"number"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.basic[e],expression:"curTarget.properties.basic[b]"}],staticClass:"form-control info-value",attrs:{type:"number",min:t.formSetting.attributes[e].min},domProps:{value:t.curTarget.properties.basic[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.basic,e,i.target.value)}}}):"bool"===t.formSetting.attributes[e].type?a("div",{staticClass:"info-value disabled box_flex align_center"},[a("div",{staticClass:"bool-div",class:t.curTarget.properties.basic[e]?"active":"",on:{click:function(i){t.curTarget.properties.basic[e]=!t.curTarget.properties.basic[e]}}},[a("span",[t._v(t._s(t.curTarget.properties.basic[e]?t.translate.on:t.translate.off))])])]):"select"===t.formSetting.attributes[e].type&&"nameCardTypeRoleId"!=e?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"basic","options-value":"id","options-label":"name",justified:"","close-on-select":""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.basic[e],callback:function(i){t.$set(t.curTarget.properties.basic,e,i)},expression:"curTarget.properties.basic[b]"}}):"multi"===t.formSetting.attributes[e].type?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"basic","options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.basic[e],callback:function(i){t.$set(t.curTarget.properties.basic,e,i)},expression:"curTarget.properties.basic[b]"}}):"nameCardTypeRoleId"==e&&t.appearRoleId?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.nameCardTypeRoleIdArr,"data-attr":e,"data-type":"basic","options-value":"id","options-label":"name"},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.basic.nameCardTypeRoleId,callback:function(e){t.$set(t.curTarget.properties.basic,"nameCardTypeRoleId",e)},expression:"curTarget.properties.basic['nameCardTypeRoleId']"}}):"datetime"===t.formSetting.attributes[e].type?a("v-datepicker",{staticClass:"info-value btn-block",attrs:{"data-attr":e,width:"100%","data-type":"basic"},on:{daySelected:t._daySelected},model:{value:t.curTarget.properties.basic[e],callback:function(i){t.$set(t.curTarget.properties.basic,e,i)},expression:"curTarget.properties.basic[b]"}}):"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"info-value disabled",staticStyle:{cursor:"pointer"},style:t.optionsShow?"background-color:#fff;":"",on:{click:function(e){t.optionsShow=!t.optionsShow}}},[t._v("\n                "+t._s(t.translate.init)+"\n                "),t.optionsShow?a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_up"))}},[t._v("arrow_drop_up")]):a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_down"))}},[t._v("arrow_drop_down")])]):t._e(),t._v(" "),"richText"===t.formSetting.attributes[e].type?a("div",{staticClass:"info-value disabled form-control"},[a("a",{staticClass:"rich-text-toggle",staticStyle:{cursor:"pointer"},on:{click:function(e){t.formSetting.editorShow=!0}}},[t._v("配置富文本")])]):t._e(),t._v(" "),"image"===t.formSetting.attributes[e].type?a("div",{staticClass:"info-value disabled form-control"},[a("div",{staticClass:"input-group info-value disabled",staticStyle:{"max-width":"auto"}},[a("label",{staticClass:"input-group-addon info-name"},[t._v("是否禁止选择本地图片")]),t._v(" "),a("div",{staticClass:"bool-div",class:t.curTarget.properties.basic.canNotGetFromAlbum?"active":"",on:{click:function(e){return t.canUseLocalImg(t.curTarget)}}},[a("span")])])]):t._e(),t._v(" "),"map"===t.formSetting.attributes[e].type?a("div",{staticClass:"info-value disabled form-control"},[a("div",{staticClass:"input-group info-value disabled",staticStyle:{"max-width":"auto"}},[a("label",{staticClass:"input-group-addon info-name"},[t._v("是否设置定位范围")]),t._v(" "),a("div",{staticClass:"bool-div",class:t.curTarget.properties.basic.positionRangeRequired?"active":"",on:{click:function(e){return t.requirePositionRange(t.curTarget)}}},[a("span")])])]):t._e(),t._v(" "),"map"===t.formSetting.attributes[e].type&&t.curTarget.properties.basic.positionRangeRequired?a("div",{staticClass:"info-value disabled form-control"},[a("a",{staticClass:"map-toggle",staticStyle:{cursor:"pointer"},on:{click:function(e){t.formSetting.mapShow=!0}}},[t._v("配置定位参数")])]):t._e()],1),t._v(" "),"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"options-div",class:t.optionsShow?"active":""},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name text-center"},[t._v(t._s(t.translate.way))]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("label",{attrs:{for:"url"}},[t._v(t._s(t.translate.api))]),t._v(" "),a("input",{attrs:{type:"radio",name:"initway",id:"url"},on:{change:function(e){t.optionsway="url"}}}),t._v(" "),a("label",{attrs:{for:"dict"}},[t._v(t._s(t.translate.dict))]),t._v(" "),a("input",{attrs:{type:"radio",name:"initway",id:"dict"},on:{change:function(e){t.optionsway="dict"}}})])]),t._v(" "),""!==t.optionsway?a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s("url"===t.optionsway?t.translate.api:t.translate.dict))]),t._v(" "),a("div",{staticClass:"form-control info-value disabled"},["url"===t.optionsway?a("input",{directives:[{name:"model",rawName:"v-model",value:t.urlAddr,expression:"urlAddr"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.urlAddr},on:{change:function(e){return t._initOptions(t.urlAddr)},input:function(e){e.target.composing||(t.urlAddr=e.target.value)}}}):a("v-select",{staticClass:"form-control info-value",attrs:{options:t.dictionaryOptions,"options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._initOptions}})],1)]):t._e()]):t._e(),t._v(" "),"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"options-div",class:t.optionsShow?"":"active"},[t._l(t.curTarget.properties.basic[e],function(i,n){return a("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:i,list:t.curTarget.properties.basic[e]},expression:"{ item: opt, list: curTarget.properties.basic[b]}"}],key:n,staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text"},domProps:{value:i},on:{change:function(i){return t._optionsTxtChange(i,t.curTarget.properties.basic[e],n)}}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t.curTarget.properties.basic[e].splice(n,1)}}},[t._v("cancel")])])])}),t._v(" "),a("div",{staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newOptStr,expression:"newOptStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.optionTip},domProps:{value:t.newOptStr},on:{change:function(e){return t._addOption("basic")},input:function(e){e.target.composing||(t.newOptStr=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))}},[t._v("add")])])])],2):t._e()]):t._e()})],2):t._e(),t._v(" "),t.curTarget&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].style?a("div",{staticClass:"info-part"},[a("label",{staticClass:"type-head"},[t._v(t._s(t.translate.styleAttr))]),t._v(" "),t._l(t.formSetting.attributesShow[t.curTarget.componentType].style,function(e,i){return a("div",{key:i,staticClass:"type-attr"},[a("div",{class:"datetime"!==t.formSetting.attributes[e].type?"input-group":"form-group"},[a("label",{staticClass:"info-name",class:"datetime"!==t.formSetting.attributes[e].type?"input-group-addon":"form-label"},[t._v(t._s(t.translate.attrName[e]))]),t._v(" "),"text"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.style[e],expression:"curTarget.properties.style[b]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.properties.style[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.style,e,i.target.value)}}}):t._e(),t._v(" "),"color"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.style[e],expression:"curTarget.properties.style[b]"}],staticClass:"form-control info-value",attrs:{type:"color"},domProps:{value:t.curTarget.properties.style[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.style,e,i.target.value)}}}):"number"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.style[e],expression:"curTarget.properties.style[b]"}],staticClass:"form-control info-value",attrs:{type:"number",min:t.formSetting.attributes[e].min},domProps:{value:t.curTarget.properties.style[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.style,e,i.target.value)}}}):"bool"===t.formSetting.attributes[e].type?a("div",{staticClass:"info-value disabled box_flex align_center"},[a("div",{staticClass:"bool-div",class:t.curTarget.properties.style[e]?"active":"",on:{click:function(i){t.curTarget.properties.style[e]=!t.curTarget.properties.style[e]}}},[a("span",[t._v(t._s(t.curTarget.properties.style[e]?t.translate.on:t.translate.off))])])]):"select"===t.formSetting.attributes[e].type?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"style","options-value":"id","options-label":"name",justified:"","close-on-select":""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.style[e],callback:function(i){t.$set(t.curTarget.properties.style,e,i)},expression:"curTarget.properties.style[b]"}}):"multi"===t.formSetting.attributes[e].type?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"style","options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.style[e],callback:function(i){t.$set(t.curTarget.properties.style,e,i)},expression:"curTarget.properties.style[b]"}}):"datetime"===t.formSetting.attributes[e].type?a("v-datepicker",{staticClass:"info-value btn-block",attrs:{"data-attr":e,width:"100%","data-type":"style"},on:{daySelected:t._daySelected},model:{value:t.curTarget.properties.style[e],callback:function(i){t.$set(t.curTarget.properties.style,e,i)},expression:"curTarget.properties.style[b]"}}):"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"form-control info-value disabled",staticStyle:{cursor:"pointer"},style:t.optionsShow?"background-color:#fff;":"",on:{click:function(e){t.optionsShow=!t.optionsShow}}},[t._v("\n                "+t._s(t.translate.init)+"\n                "),t.optionsShow?a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_up"))}},[t._v("arrow_drop_up")]):a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_down"))}},[t._v("arrow_drop_down")])]):t._e()],1),t._v(" "),"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"options-div",class:t.optionsShow?"active":""},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.way))]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("label",{attrs:{for:"url"}},[t._v(t._s(t.translate.api))]),t._v(" "),a("input",{attrs:{type:"radio",name:"initway",id:"url"},on:{change:function(e){t.optionsway="url"}}}),t._v(" "),a("label",{attrs:{for:"dict"}},[t._v(t._s(t.translate.dict))]),t._v(" "),a("input",{attrs:{type:"radio",name:"initway",id:"dict"},on:{change:function(e){t.optionsway="dict"}}})])]),t._v(" "),""!==t.optionsway?a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s("url"===t.optionsway?t.translate.api:t.translate.dict))]),t._v(" "),a("div",{staticClass:"form-control info-value disabled"},["url"===t.optionsway?a("input",{directives:[{name:"model",rawName:"v-model",value:t.urlAddr,expression:"urlAddr"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.urlAddr},on:{change:function(e){return t._initOptions(t.urlAddr)},input:function(e){e.target.composing||(t.urlAddr=e.target.value)}}}):a("v-select",{staticClass:"form-control info-value",attrs:{url:"/api/system/dictTypes","options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._initOptions}})],1)]):t._e()]):t._e(),t._v(" "),"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"options-div",class:t.optionsShow?"":"active"},[t._l(t.curTarget.properties.style[e],function(i,n){return a("div",{key:n,staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:i}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t.curTarget.properties.style[e].splice(n,1)}}},[t._v("cancel")])])])}),t._v(" "),a("div",{staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newOptStr,expression:"newOptStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.optionTip},domProps:{value:t.newOptStr},on:{input:function(e){e.target.composing||(t.newOptStr=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:function(e){return t._addOption("style")}}},[t._v("add")])])])],2):t._e()])})],2):t._e(),t._v(" "),t.curTarget&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].verification?a("div",{staticClass:"info-part"},[a("label",{staticClass:"type-head"},[t._v(t._s(t.translate.verifyAttr))]),t._v(" "),t._l(t.formSetting.attributesShow[t.curTarget.componentType].verification,function(e,i){return a("div",{key:i,staticClass:"type-attr"},[a("div",{class:"datetime"!==t.formSetting.attributes[e].type?"input-group":"form-group"},[a("label",{staticClass:"info-name",class:"datetime"!==t.formSetting.attributes[e].type?"input-group-addon":"form-label"},[t._v(t._s(t.translate.attrName[e]))]),t._v(" "),"text"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.verification[e],expression:"curTarget.properties.verification[b]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.properties.verification[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.verification,e,i.target.value)}}}):t._e(),t._v(" "),"color"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.verification[e],expression:"curTarget.properties.verification[b]"}],staticClass:"form-control info-value",attrs:{type:"color"},domProps:{value:t.curTarget.properties.verification[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.properties.verification,e,i.target.value)}}}):"number"===t.formSetting.attributes[e].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.verification[e],expression:"curTarget.properties.verification[b]"}],staticClass:"form-control info-value",attrs:{type:"number",min:t.formSetting.attributes[e].min},domProps:{value:t.curTarget.properties.verification[e]},on:{change:function(i){return t._fileSizeCheck(e)},input:function(i){i.target.composing||t.$set(t.curTarget.properties.verification,e,i.target.value)}}}):"bool"===t.formSetting.attributes[e].type?a("div",{staticClass:"info-value disabled box_flex align_center"},[a("div",{staticClass:"bool-div",class:t.curTarget.properties.verification[e]?"active":"",on:{click:function(i){t.curTarget.properties.verification[e]=!t.curTarget.properties.verification[e]}}},[a("span",[t._v(t._s(t.curTarget.properties.verification[e]?t.translate.on:t.translate.off))])])]):"select"===t.formSetting.attributes[e].type?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":e,"data-type":"verification","options-value":"id","options-label":"name",justified:"","close-on-select":""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.verification[e],callback:function(i){t.$set(t.curTarget.properties.verification,e,i)},expression:"curTarget.properties.verification[b]"}}):"multi"===t.formSetting.attributes[e].type&&"fileFormat"!==e?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":t.curTarget.properties.verification[e],required:t.formSetting.attributes[e].required,"data-type":"verification","options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.verification[e],callback:function(i){t.$set(t.curTarget.properties.verification,e,i)},expression:"curTarget.properties.verification[b]"}}):"multi"===t.formSetting.attributes[e].type&&"fileFormat"===e&&"image"===t.curTarget.componentType?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes.fileFormatImage.data,"data-attr":t.curTarget.properties.verification[e],required:t.formSetting.attributes[e].required,"data-type":"verification","options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.verification[e],callback:function(i){t.$set(t.curTarget.properties.verification,e,i)},expression:"curTarget.properties.verification[b]"}}):"multi"===t.formSetting.attributes[e].type&&"fileFormat"===e&&"image"!==t.curTarget.componentType?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributes[e].data,"data-attr":t.curTarget.properties.verification[e],required:t.formSetting.attributes[e].required,"data-type":"verification","options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._attrSelect},model:{value:t.curTarget.properties.verification[e],callback:function(i){t.$set(t.curTarget.properties.verification,e,i)},expression:"curTarget.properties.verification[b]"}}):"datetime"===t.formSetting.attributes[e].type?a("v-datepicker",{staticClass:"info-value btn-block",attrs:{"data-attr":e,width:"100%",format:t.curTarget.properties.basic.dateFormat,required:t.formSetting.attributes[e].required,"data-type":"verification"},on:{daySelected:t._daySelected},model:{value:t.curTarget.properties.verification[e],callback:function(i){t.$set(t.curTarget.properties.verification,e,i)},expression:"curTarget.properties.verification[b]"}}):"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"form-control info-value disabled",staticStyle:{cursor:"pointer"},style:t.optionsShow?"background-color:#fff;":"",on:{click:function(e){t.optionsShow=!t.optionsShow}}},[t._v("\n                "+t._s(t.translate.init)+"\n                "),t.optionsShow?a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_up"))}},[t._v("arrow_drop_up")]):a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_down"))}},[t._v("arrow_drop_down")])]):t._e()],1),t._v(" "),"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"options-div",class:t.optionsShow?"active":""},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.way))]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("label",{attrs:{for:"url"}},[t._v(t._s(t.translate.api))]),t._v(" "),a("input",{attrs:{type:"radio",name:"initway",id:"url"},on:{change:function(e){t.optionsway="url"}}}),t._v(" "),a("label",{attrs:{for:"dict"}},[t._v(t._s(t.translate.dict))]),t._v(" "),a("input",{attrs:{type:"radio",name:"initway",id:"dict"},on:{change:function(e){t.optionsway="dict"}}})])]),t._v(" "),""!==t.optionsway?a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s("url"===t.optionsway?t.translate.api:t.translate.dict))]),t._v(" "),a("div",{staticClass:"form-control info-value disabled"},["url"===t.optionsway?a("input",{directives:[{name:"model",rawName:"v-model",value:t.urlAddr,expression:"urlAddr"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.urlAddr},on:{change:function(e){return t._initOptions(t.urlAddr)},input:function(e){e.target.composing||(t.urlAddr=e.target.value)}}}):a("v-select",{staticClass:"form-control info-value",attrs:{url:"/api/system/dictTypes","options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._initOptions}})],1)]):t._e()]):t._e(),t._v(" "),"options"===t.formSetting.attributes[e].type?a("div",{staticClass:"options-div",class:t.optionsShow?"":"active"},[t._l(t.curTarget.properties.verification[e],function(i,n){return a("div",{key:n,staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:i}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t.curTarget.properties.verification[e].splice(n,1)}}},[t._v("cancel")])])])}),t._v(" "),a("div",{staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newOptStr,expression:"newOptStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.optionTip},domProps:{value:t.newOptStr},on:{input:function(e){e.target.composing||(t.newOptStr=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:function(e){return t._addOption("verification")}}},[t._v("add")])])])],2):t._e()])})],2):t._e(),t._v(" "),t.curTarget&&t.curTarget.name.indexOf("nameCard")<0&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].collector?a("div",{staticClass:"info-part"},[a("label",{staticClass:"type-head"},[t._v(t._s(t.translate.collectionAttr))]),t._v(" "),a("div",{staticClass:"type-attr"},[t._l(t.formSetting.attributesShow[t.curTarget.componentType].collector,function(e,i){return"flag"!==e.id&&t.curTarget.collector&&t.curTarget.collector.flag||"flag"===e.id?a("div",{key:i,staticClass:"input-group"},[a("label",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.collector[e.id]))]),t._v(" "),"bool"===e.type?a("div",{staticClass:"info-value disabled box_flex align_center"},[a("div",{staticClass:"bool-div",class:t.curTarget.collector&&t.curTarget.collector[e.id]?"active":"",on:{click:function(i){return t._exchangeCollection(e)}}},[a("span",[t._v(t._s(t.curTarget.collector&&t.curTarget.collector[e.id]?t.translate.on:t.translate.off))])])]):"table"===t.curTarget.componentType&&"dataSet"===e.id?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.dataSetOptions||[],"data-attr":e.id,"data-prop":"collector","options-value":"name","options-label":"title","close-on-select":""},on:{afterSelected:t._afterSelectOfCollector},model:{value:t.curTarget.collector.dataSet,callback:function(e){t.$set(t.curTarget.collector,"dataSet",e)},expression:"curTarget.collector.dataSet"}}):"table"!==t.curTarget.componentType&&"dataField"===e.id?a("v-select",{staticClass:"form-control info-value",attrs:{options:t._filtArr(t.dataFieldOptions,t.curTarget.componentType)||[],"data-attr":e.id,"data-prop":"collector",value:t._getFieldOf(t.curTarget.collector),"options-value":"columnNameAndTypeName","options-label":"title","close-on-select":""},on:{afterSelected:t._afterSelectOfCollector}}):t._e()],1):t._e()}),t._v(" "),"table"===t.curTarget.componentType&&t.curTarget.collector.dataSet?a("div",{staticClass:"table-initial-div"},[a("div",{staticClass:"input-group",staticStyle:{padding:"5px 0"}},[a("label",{staticClass:"info-name input-group-addon pull-left",style:{maxWidth:"42px"}},[t._v("表头")]),t._v(" "),a("label",{staticClass:"info-name input-group-addon pull-left",staticStyle:{width:"30%","text-align":"center"}},[t._v("字段")]),t._v(" "),a("label",{staticClass:"info-name input-group-addon pull-right",staticStyle:{width:"30%","text-align":"right"}},[t._v("索引")])]),t._v(" "),t._l(t.curTarget.properties.basic.tableFields,function(e,i){return a("div",{key:i,staticClass:"input-group"},[a("label",{staticClass:"info-name input-group-addon",style:{maxWidth:"42px"},attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(" "),a("v-select",{staticClass:"form-control info-value",style:{width:"148px"},attrs:{autoSelect:!1,options:"table"===t.curTarget.componentType?t._getDataFieldOf(t.curTarget.collector.dataSet):t.dataFieldOptions||[],value:t.curTarget.collector.tableFields&&t.curTarget.collector.tableFields[e.name],"options-value":"columnName","options-label":"title","close-on-select":""},on:{afterSelected:function(i){return t._afterSelectOfTableCollector(i,e)}}}),t._v(" "),a("label",{staticClass:"info-name input-group-addon"},[a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons(t.curTarget.collector.tableKeys&&t.curTarget.collector.tableKeys.indexOf(e.name)>=0?"check_box":"check_box_outline_blank"))},on:{click:function(i){return t._checkTableKeys(e)}}})])],1)})],2):t._e()],2)]):t._e(),t._v(" "),t.curTarget&&(t.curTarget.name.indexOf("table_")<0||"table"===t.curTarget.componentType)&&(t.curTarget.name.indexOf("nameCard_")<0||"nameCard"!==t.curTarget.componentType)&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].initial?a("div",{staticClass:"info-part"},[a("label",{staticClass:"type-head"},[t._v(t._s(t.translate.defaultValue))]),t._v(" "),a("div",{staticClass:"type-attr"},[a("div",{staticClass:"input-group"},[a("label",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.way))]),t._v(" "),t.curTarget.name.length>23&&t.curTarget.name.indexOf("nameCard_")>=0?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributesShow.nameCardItem.initial,autoSelect:!1,"options-value":"id","options-label":"name"},on:{afterSelected:t._afterSelectInitMode},model:{value:t.curTarget.initialization.mode,callback:function(e){t.$set(t.curTarget.initialization,"mode",e)},expression:"curTarget.initialization.mode"}}):a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.attributesShow[t.curTarget.componentType].initial,autoSelect:!1,"options-value":"id","options-label":"name"},on:{afterSelected:t._afterSelectInitMode},model:{value:t.curTarget.initialization.mode,callback:function(e){t.$set(t.curTarget.initialization,"mode",e)},expression:"curTarget.initialization.mode"}})],1),t._v(" "),"computed"==t.curTarget.initialization.mode?a("div",{staticClass:"comDiv"},[a("a",{on:{click:function(e){return t._showComputedModal()}}},[t._v("编辑计算公式")])]):t._e(),t._v(" "),t.curTarget.initialization.mode?a("div",{staticClass:"prop-div"},[t._l(t._getAttributesOfInitialMode(t.curTarget),function(e,i){return a("div",{key:i,class:"fixedValue"===e&&"datetime"!==t.curTarget.componentType&&"address"!==t.curTarget.componentType||"params"!==e&&"sqlQuery"!==e?"input-group":"form-group",attrs:{title:t.translate.initial[e]}},[a("label","fixedValue"===e?{staticClass:"info-name",class:"datetime"!==t.curTarget.componentType&&"address"!==t.curTarget.componentType?"input-group-addon":"form-label"}:{staticClass:"info-name",class:"params"!==e&&"sqlQuery"!==e?"input-group-addon":"form-label"},[t._v(t._s(t.translate.initial[e]))]),t._v(" "),"fixedValue"===e&&"datetime"===t.curTarget.componentType?a("div",{staticClass:"form-control info-value disabled"},[a("label",{attrs:{for:"currentTime"}},[t._v(t._s(t.translate.initial.currentTime))]),t._v(" "),a("input",{attrs:{type:"radio",name:"dayType",id:"currentTime"},domProps:{checked:"currentTime"===t.initialTime},on:{change:function(e){return t._changeInitTime("currentTime")}}}),t._v(" "),a("label",{staticStyle:{"margin-left":"20px"},attrs:{for:"yes"}},[t._v(t._s(t.translate.initial.definedTime))]),t._v(" "),a("input",{attrs:{type:"radio",name:"dayType",id:"yes"},domProps:{checked:"defined"===t.initialTime},on:{change:function(e){return t._changeInitTime("defined")}}})]):"fixedValue"!==e||"select"!==t.curTarget.componentType&&"radio"!==t.curTarget.componentType?"fixedValue"===e&&"checkbox"===t.curTarget.componentType?a("v-select",{staticClass:"form-control info-value",attrs:{options:t._optionsFixed(t.curTarget.properties.basic.options),"data-attr":e,"options-value":"id","options-label":"name",multiple:""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(i){t.$set(t.curTarget.initialization.properties,e,i)},expression:"curTarget.initialization.properties[attr]"}}):"fixedValue"!==e||"input"!==t.curTarget.componentType&&"label"!==t.curTarget.componentType?"fixedValue"===e&&"number"===t.curTarget.componentType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.initialization.properties[e],expression:"curTarget.initialization.properties[attr]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.initialization.properties[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.initialization.properties,e,i.target.value)}}}):t._e():a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.initialization.properties[e],expression:"curTarget.initialization.properties[attr]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.initialization.properties[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.initialization.properties,e,i.target.value)}}}):a("v-select",{staticClass:"form-control info-value",attrs:{options:t._optionsFixed(t.curTarget.properties.basic.options),"data-attr":e,"options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(i){t.$set(t.curTarget.initialization.properties,e,i)},expression:"curTarget.initialization.properties[attr]"}}),t._v(" "),"fixedValue"===e&&"datetime"===t.curTarget.componentType&&"defined"===t.initialTime?a("v-datepicker",{staticClass:"info-value btn-block",staticStyle:{clear:"both"},attrs:{width:"100%","data-attr":e,format:t.curTarget.properties.basic.dateFormat},on:{daySelected:t._daySelectedOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(i){t.$set(t.curTarget.initialization.properties,e,i)},expression:"curTarget.initialization.properties[attr]"}}):t._e(),t._v(" "),"fixedValue"===e&&"address"===t.curTarget.componentType?a("div",[t.curTarget.initialization.properties[e]?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.provinceList,"data-attr":e,"data-add-type":"province","options-value":"name","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e].province,callback:function(i){t.$set(t.curTarget.initialization.properties[e],"province",i)},expression:"curTarget.initialization.properties[attr].province"}}):t._e(),t._v(" "),t.curTarget.initialization.properties[e]&&t.curTarget.initialization.properties[e].province?a("v-select",{staticClass:"form-control info-value",attrs:{options:t._getCityList(t.curTarget.initialization.properties[e].province),"data-attr":e,"data-add-type":"city","options-value":"name","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e].city,callback:function(i){t.$set(t.curTarget.initialization.properties[e],"city",i)},expression:"curTarget.initialization.properties[attr].city"}}):t._e(),t._v(" "),t.curTarget.initialization.properties[e]&&t.curTarget.initialization.properties[e].city?a("v-select",{staticClass:"form-control info-value",attrs:{options:t._getAreaList(t.curTarget.initialization.properties[e].city,t.curTarget.initialization.properties[e].province),"data-attr":e,"data-add-type":"area","options-value":"name","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e].area,callback:function(i){t.$set(t.curTarget.initialization.properties[e],"area",i)},expression:"curTarget.initialization.properties[attr].area"}}):t._e()],1):t._e(),t._v(" "),"sqlQuery"===e?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.initialization.properties[e],expression:"curTarget.initialization.properties[attr]"}],staticClass:"form-control",attrs:{rows:"6",cols:"30"},domProps:{value:t.curTarget.initialization.properties[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.initialization.properties,e,i.target.value)}}}):"dataSet"===e?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.dataSetOptions||[],"data-attr":e,"options-value":"name","options-label":"title","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(i){t.$set(t.curTarget.initialization.properties,e,i)},expression:"curTarget.initialization.properties[attr]"}}):"dataField"===e?a("v-select",{staticClass:"form-control info-value",attrs:{options:"table"===t.curTarget.componentType?t._getDataFieldOf(t.curTarget.initialization.properties.dataSet):t._filtArr(t.dataFieldOptions,t.curTarget.componentType)||[],"data-attr":e,value:t._getFieldOf(t.curTarget.initialization.properties),"options-value":"columnNameAndTypeName","options-label":"title","close-on-select":""},on:{afterSelected:t._afterSelectOfInit}}):"url"===e||"key"===e||"className"===e||"functionName"===e?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.initialization.properties[e],expression:"curTarget.initialization.properties[attr]"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curTarget.initialization.properties[e]},on:{input:function(i){i.target.composing||t.$set(t.curTarget.initialization.properties,e,i.target.value)}}}):"method"===e?a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.methodsList,"data-attr":e,"options-value":"id","options-label":"name","close-on-select":""},on:{afterSelected:t._afterSelectOfInit},model:{value:t.curTarget.initialization.properties[e],callback:function(i){t.$set(t.curTarget.initialization.properties,e,i)},expression:"curTarget.initialization.properties[attr]"}}):"dynamic"===e?a("div",{staticClass:"info-value disabled box_flex align_center"},[a("div",{staticClass:"bool-div",class:t.curTarget.initialization.properties[e]?"active":"",on:{click:function(i){return t.$set(t.curTarget.initialization.properties,e,!t.curTarget.initialization.properties[e])}}},[a("span",[t._v(t._s(t.curTarget.initialization.properties[e]?t.translate.on:t.translate.off))])])]):t._e(),t._v(" "),"params"===e?a("div",{staticClass:"options-div active"},[t._l(t.curTarget.initialization.properties[e],function(i,n){return a("div",{key:n,staticClass:"param-div"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v("name")]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:i.name}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[t._v("    ")])]),t._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v("value")]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:i.value}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t.curTarget.initialization.properties[e].splice(n,1)}}},[t._v("cancel")])])])])}),t._v(" "),a("div",{staticClass:"param-div"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v("name")]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newNameStr,expression:"newNameStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.initial.paramKey},domProps:{value:t.newNameStr},on:{input:function(e){e.target.composing||(t.newNameStr=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[t._v("    ")])]),t._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v("value")]),t._v(" "),a("div",{staticClass:"form-control info-value disabled",staticStyle:{"white-space":"nowrap"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newValueStr,expression:"newValueStr"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.initial.paramValue},domProps:{value:t.newValueStr},on:{input:function(e){e.target.composing||(t.newValueStr=e.target.value)}}})]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:function(i){return t._addParam(e)}}},[t._v("add")])])])])],2):t._e()],1)}),t._v(" "),t.curTarget.initialization.properties.dataSet?a("p",{staticStyle:{cursor:"pointer",float:"right",padding:"5px 10px",margin:"0",color:"#298df7"},on:{click:t.appearConfigIf}},[t._v("过滤条件")]):t._e(),t._v(" "),"table"===t.curTarget.componentType&&"systemValue"===t.curTarget.initialization.mode&&t.curTarget.initialization.properties.dataSet?a("div",{staticClass:"table-initial-div"},t._l(t.curTarget.properties.basic.tableFields,function(e,i){return a("div",{key:i,staticClass:"input-group"},[a("label",{staticClass:"info-name input-group-addon"},[t._v(t._s(e.title))]),t._v(" "),a("v-select",{staticClass:"form-control info-value",attrs:{autoSelect:!1,options:"table"===t.curTarget.componentType?t._getDataFieldOf(t.curTarget.initialization.properties.dataSet):t.dataFieldOptions||[],value:t.curTarget.initialization.properties.tableFields&&t.curTarget.initialization.properties.tableFields[e.name],"options-value":"columnName","options-label":"title","close-on-select":""},on:{afterSelected:function(i){return t._afterSelectOfTableInit(i,e)}}})],1)}),0):t._e()],2):t._e(),t._v(" "),"fixedValue"!==t.curTarget.initialization.mode?a("div",{staticClass:"input-group info-value disabled",staticStyle:{"max-width":"auto"}},[a("label",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.initial.dynamic))]),t._v(" "),a("div",{staticClass:"bool-div",class:t.curTarget.initialization.dynamic?"active":"",on:{click:function(e){return t.$set(t.curTarget.initialization,"dynamic",!t.curTarget.initialization.dynamic)}}},[a("span",[t._v(t._s(t.curTarget.initialization.dynamic?t.translate.on:t.translate.off))])])]):t._e()])]):t._e(),t._v(" "),t.curTarget&&"nameCard"!==t.curTarget.componentType&&(t.curTarget.name.indexOf("table_")<0||t.curTarget.name.indexOf("table_")>=0&&"table"===t.curTarget.componentType)&&(t.curTarget.name.indexOf("nameCard_")<0||t.curTarget.name.indexOf("nameCard_")>=0&&"nameCard"===t.curTarget.componentType)&&t.formSetting.attributesShow[t.curTarget.componentType]&&t.formSetting.attributesShow[t.curTarget.componentType].events?a("div",{staticClass:"info-part"},[a("label",{staticClass:"type-head"},[t._v(t._s(t.translate.events))]),t._v(" "),a("ul",{staticClass:"list-group event-list"},t._l(t.curTarget.events,function(e,i){return a("li",{key:i,staticClass:"list-group-item"},[a("span",{staticClass:"case-name",on:{click:function(i){t.eventShow=t.eventShow===e.name?"":e.name}}},[t._v(t._s(t.translate.eventsList[e.name]+"("+e.cases.length+")"))]),t._v(" "),t.eventShow===e.name?a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("expand_less"))},on:{click:function(i){t.eventShow=t.eventShow===e.name?"":e.name}}},[t._v("expand_less")]):a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("expand_more"))},on:{click:function(i){t.eventShow=t.eventShow===e.name?"":e.name}}},[t._v("expand_more")]),t._v(" "),t.eventShow===e.name?a("ul",{staticClass:"list-group case-list",on:{click:function(t){t.stopPropagation()}}},[t._l(e.cases,function(i,n){return a("li",{key:n,staticClass:"input-group"},[a("div",{staticClass:"form-control info-value disabled"},[t._v(t._s(i.name))]),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon pull-right",attrs:{title:t.translate.eventsList.set},domProps:{innerHTML:t._s(t.icons("view_quilt"))},on:{click:function(e){return e.stopPropagation(),t._setCase(i)}}},[t._v("view_quilt")]),t._v(" "),a("i",{staticClass:"maticon pull-right",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("delete"))},on:{click:function(t){return t.stopPropagation(),e.cases.splice(n,1)}}},[t._v("delete")])])])}),t._v(" "),a("li",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCaseNameStr,expression:"newCaseNameStr"}],staticClass:"form-control info-value text-left",attrs:{type:"text",placeholder:t.translate.eventsList.caseName},domProps:{value:t.newCaseNameStr},on:{input:function(e){e.target.composing||(t.newCaseNameStr=e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon pull-right",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:function(i){return i.stopPropagation(),t._addNewCase(e)}}},[t._v("add")])])])],2):t._e()])}),0)]):t._e()])])],1),t._v(" "),t.infoSetting&&t.tabShow?a("div",{staticClass:"info-cover",class:{active:t.tabShow},on:{click:function(e){t.tabShow=!1}}},[a("div",{staticClass:"tab-container3 container-fluid",class:{active:t.tabShow},on:{click:function(t){t.stopPropagation()}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShow,expression:"tabShow"}],staticClass:"row"},t._l(t.infoSetting.tabs,function(e,i){return a("div",{key:i,staticClass:"col-md-3 tab-item2",class:{active:t.personalInfoSetting.curInfoId===e.id},attrs:{title:e.title},on:{click:function(a){return t._getPersonalInfoOf(e,i)}}},[t._v("\n          "+t._s(e.title)+"\n          "),a("i",{staticClass:"maticon remove",attrs:{title:"删除"},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(a){return t._removeItem(e,i,a)}}})])}),0),t._v(" "),a("div",{staticClass:"text-center more",on:{click:function(e){t.tabShow=!t.tabShow}}},[a("i",{staticClass:"maticon",class:{active:t.tabShow},attrs:{title:"类别总览"},domProps:{innerHTML:t._s(t.icons("chevron_left"))}})])])]):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"create"===t.dragType,expression:"dragType === 'create'"}],staticClass:"drag-dom",class:t.layoutSetting.transition?"transition":"",style:{width:t.layoutSetting.cellWidth*t.dragData.w+"px",height:t.layoutSetting.cellLineHeight*t.dragData.h-t.layoutSetting.margin[0]-t.layoutSetting.margin[2]-4+"px"},attrs:{id:"dragDom"},on:{mouseup:t._mouseUp,mousemove:t._mouseMove}},[a("label",{staticClass:"form-label"},[t._v(t._s(t.dragData.title))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.dragData.show,expression:"dragData.show"}],staticClass:"drag-dom-shadow",class:{error:!t.isValid},style:{width:t.layoutSetting.cellWidth*t.dragData.w-t.layoutSetting.margin[1]-t.layoutSetting.margin[3]+"px",height:t.layoutSetting.cellLineHeight*t.dragData.h-t.layoutSetting.margin[0]-t.layoutSetting.margin[2]-4+"px",left:t.dragData.x*t.layoutSetting.cellWidth+t.layoutSetting.draggableX+t.layoutSetting.margin[3]+"px",top:t.dragData.y*t.layoutSetting.cellLineHeight+t.layoutSetting.draggableY+t.layoutSetting.margin[0]+"px"},on:{mouseup:t._mouseUp,mousemove:t._mouseMove}},[a("label",{staticClass:"form-label"},[t._v(t._s(t.dragData.title))])]),t._v(" "),t._l(t.wigtDataArr,function(e,i){return t.formSetting.attributesShow[e.componentType]?a("div",{directives:[{name:"show",rawName:"v-show",value:!t.layoutSetting.scriptShow,expression:"!layoutSetting.scriptShow"}],key:i,staticClass:"widget-cell drag",class:{transition:t.layoutSetting.transition,selected:t.curTarget&&t.curTarget.name===e.name},style:{width:t.layoutSetting.cellWidth*e.w-t.layoutSetting.margin[1]-t.layoutSetting.margin[3]+"px",height:t.layoutSetting.cellLineHeight*e.h-t.layoutSetting.margin[0]-t.layoutSetting.margin[2]-4+"px",left:e.x*t.layoutSetting.cellWidth+t.layoutSetting.draggableX+t.layoutSetting.margin[3]+"px",top:e.y*t.layoutSetting.cellLineHeight+t.layoutSetting.draggableY+t.layoutSetting.margin[0]+"px",padding:"table"===e.componentType?"0":""},attrs:{"data-key":i,"data-type":e.componentType},on:{mousedown:t._mouseDown,mousemove:t._mouseMove,mouseup:t._mouseUp,click:t._widgetClick}},["checkbox"===e.componentType?a("div",{staticClass:"pull-left special-icon"},[a("i",{staticClass:"maticon pull-right font18",staticStyle:{"margin-top":"-10px"},domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]),t._v(" "),a("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]),t._v(" "),a("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]),t._v(" "),a("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")])]):t._e(),t._v(" "),"radio"===e.componentType?a("div",{staticClass:"pull-left special-icon"},[a("i",{staticClass:"maticon pull-right font18",staticStyle:{"margin-top":"-10px"},domProps:{innerHTML:t._s(t.icons("radio_button_unchecked"))}},[t._v("radio_button_unchecked")]),t._v(" "),a("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("radio_button_checked"))}},[t._v("radio_button_checked")]),t._v(" "),a("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("radio_button_unchecked"))}},[t._v("radio_button_unchecked")]),t._v(" "),a("i",{staticClass:"maticon pull-right font18",domProps:{innerHTML:t._s(t.icons("radio_button_checked"))}},[t._v("radio_button_checked")])]):t._e(),t._v(" "),"image"===e.componentType?a("i",{staticClass:"maticon picture",domProps:{innerHTML:t._s(t.icons("photo"))}},[t._v("photo")]):"select"===e.componentType?a("label",{staticClass:"form-label pull-left",attrs:{disabled:""}},[a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("arrow_drop_down"))}},[t._v("arrow_drop_down")]),t._v("\n      "+t._s(e.title)+"\n    ")]):"radio"===e.componentType?a("label",{staticClass:"form-label",staticStyle:{border:"none"},attrs:{disabled:""}},[t._v(t._s(e.title))]):"checkbox"===e.componentType?a("label",{staticClass:"form-label",staticStyle:{border:"none"},attrs:{disabled:""}},[t._v(t._s(e.title))]):"datetime"===e.componentType?a("label",{staticClass:"form-label pull-left",attrs:{disabled:""}},[a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("event"))}},[t._v("event")]),t._v("\n      "+t._s(e.title)+"\n    ")]):"splitLine"===e.componentType?a("label",{staticClass:"form-label pull-left",style:"border-color:"+e.properties.style.color+";",attrs:{disabled:""}},[t._v(t._s(e.title))]):"attachment"===e.componentType?a("label",{staticClass:"form-label pull-left",staticStyle:{border:"none"},attrs:{disabled:""}},[a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("attachment"))}},[t._v("attachment")]),t._v("\n      "+t._s(e.title)+"\n    ")]):"map"===e.componentType?a("label",{staticClass:"form-label pull-left",staticStyle:{border:"none"},attrs:{disabled:""}},[a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("my_location"))}},[t._v("location")]),t._v("\n      "+t._s(e.title)+"\n    ")]):"label"===e.componentType?a("label",{staticClass:"form-label pull-left",style:"border:none;",attrs:{disabled:""}},[t._v(t._s(e.title))]):"table"===e.componentType||"signature"===e.componentType?a("label",{staticClass:"form-label pull-left",staticStyle:{padding:"0 12px",border:"none"},attrs:{disabled:""}},[t._v(t._s(e.title))]):"nameCard"===e.componentType?a("label",{staticClass:"form-label pull-left",staticStyle:{width:"0",height:"0"},attrs:{disabled:""}}):a("label",{staticClass:"form-label pull-left",attrs:{disabled:""}},[t._v(t._s(e.title))]),t._v(" "),"table"===e.componentType?a("GeminiScrollbar",{staticClass:"table-item-div",attrs:{scrollY:!1},nativeOn:{dragover:function(e){return t._dragover(e)},drop:function(e){return t._drop(e)},click:function(e){return t._widgetClick(e)}}},t._l(e.properties.basic.tableFields,function(n,s){return a("div",{key:s,staticClass:"table-item",class:t.curTarget&&t.curTarget.name===n.name?"selected":"",attrs:{"data-key":s,"data-index":i,title:n.title},on:{click:t._widgetClick}},[a("span",[t._v(t._s(n.title))]),t._v(" "),a("i",{staticClass:"maticon remove table-item-close",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t._removeTableItem(e,s,n.name)}}},[t._v("cancel")])])}),0):t._e(),t._v(" "),"nameCard"===e.componentType?a("GeminiScrollbar",{staticClass:"nameCard-item-div",attrs:{scrollY:!1,scrollX:!1},nativeOn:{dragover:function(e){return t._dragoverName(e)},drop:function(e){return t._dropName(e)},click:function(e){return t._widgetClick(e)}}},t._l(e.properties.basic.nameCardFields,function(n,s){return a("div",{key:s,staticClass:"nameCard-item",class:{selected:t.curTarget&&t.curTarget.name===n.name,"nameCard-item-name":0==s},attrs:{"data-key":s,"data-index":i,title:n.title},on:{click:t._widgetClick}},[a("span",[t._v(t._s(n.title))]),t._v(" "),a("i",{staticClass:"maticon remove nameCard-item-close",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t._removeNameCardItem(e,s,n.name)}}},[t._v("cancel")])])}),0):t._e(),t._v(" "),a("div",{staticClass:"pull-right cell-opt"},[a("i",{staticClass:"maticon remove",attrs:{title:t.translate.remove},domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t._remove(e)}}},[t._v("cancel")]),t._v(" "),t.formSetting.attributesShow[e.componentType].xResizable?a("i",{staticClass:"maticon resize-horizontal horizontal-resize",attrs:{title:t.translate.hrTip},domProps:{innerHTML:t._s(t.icons("trending_flat"))},on:{mousedown:t._scaleMouseDown,mouseup:t._scaleMouseUp,mousemove:t._scaleMouseMove}},[t._v("trending_flat")]):t._e(),t._v(" "),a("i",{staticClass:"maticon duplicate",attrs:{title:t.translate.duplicateTip},domProps:{innerHTML:t._s(t.icons("content_copy"))},on:{click:function(i){return t._duplicate(e)}}},[t._v("content_copy")]),t._v(" "),t.formSetting.attributesShow[e.componentType].yResizable?a("i",{staticClass:"maticon resize-vertical vertical-resize",attrs:{title:t.translate.vrTip},domProps:{innerHTML:t._s(t.icons("trending_flat"))},on:{mousedown:t._scaleMouseDown,mouseup:t._scaleMouseUp,mousemove:t._scaleMouseMove}},[t._v("trending_flat")]):t._e()])],1):t._e()}),t._v(" "),a("div",{staticClass:"trigger-cover",class:t.curCase?"active":""},[a("div",{staticClass:"trigger-content",on:{click:function(t){t.stopPropagation()}}},[a("i",{staticClass:"maticon close-cover",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){t.curCase=null}}},[t._v("cancel")]),t._v(" "),t.curCase?a("div",{staticClass:"trigger-global-settings"},[a("div",{staticClass:"input-group info-value disabled",staticStyle:{"max-width":"auto"}},[a("label",{staticClass:"input-group-addon info-name"},[t._v("在服务端执行")]),t._v(" "),a("div",{staticClass:"bool-div",class:t.curCase&&t.curCase.triggerInServer?"active":"",on:{click:function(e){t.curCase.triggerInServer=!t.curCase.triggerInServer}}},[a("span")])]),t._v(" "),t.curCase.triggerInServer?a("span",{staticStyle:{"margin-left":"24px","margin-right":"12px",color:"rgba(0, 0, 0, 0.44)"}},[t._v("执行顺序")]):t._e(),t._v(" "),t.curCase.triggerInServer?a("input",{directives:[{name:"model",rawName:"v-model",value:t.curCase.order,expression:"curCase.order"}],attrs:{type:"text",placeholder:"支持小数，数字越小越早执行"},domProps:{value:t.curCase.order},on:{input:function(e){e.target.composing||t.$set(t.curCase,"order",e.target.value)}}}):t._e()]):t._e(),t._v(" "),t.curCase&&!t.actionPartStatus?a("div",{staticClass:"top_wrap"},[a("div",{staticClass:"condition-wrap condition-part"},t._l(t.curCase.conditions,function(e,i){return a("div",{key:i,staticClass:"box_flex"},[a("label",{staticClass:"number_ball flex_shrink"},[t._v(t._s(i+1))]),t._v(" "),a("div",{staticClass:"container-fluid grow_1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("v-select",{ref:"componentSelect",refInFor:!0,staticClass:"info-value btn-block",staticStyle:{"max-width":"auto"},attrs:{options:t.conditionAllowedWigt,placeholder:t.translate.eventsList.fieldsList,autoSelect:!1,"options-value":"name","options-label":"title",width:"100%","data-action":"conditions","data-field":"component"},on:{afterSelected:function(i){return t._afterSelectedFields(i,e)}},model:{value:e.component,callback:function(i){t.$set(e,"component",i)},expression:"conditionItem.component"}})],1),t._v(" "),e&&e.component?a("div",{staticClass:"col-sm-9"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("v-select",{staticClass:"info-value btn-block",staticStyle:{"max-width":"auto"},attrs:{options:t.formSetting.attributesShow[e.component.split("_")[0]].conditions,placeholder:t.translate.eventsList.condition,autoSelect:!1,"options-value":"id","options-label":"name",width:"100%","data-action":"conditions","data-field":"operator"},on:{afterSelected:function(i){return t._afterSelectedFields(i,e)}},model:{value:e.operator,callback:function(i){t.$set(e,"operator",i)},expression:"conditionItem.operator"}})],1),t._v(" "),e.operator&&e.data?a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"row"},["between"===e.operator||"notBetween"===e.operator||e.component&&"address"===e.component.split("_")[0]?a("div",{staticClass:"col-sm-8"},["address"!==e.component.split("_")[0]?a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-6"},["number"===e.component.split("_")[0]?a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.minValue,expression:"conditionItem.data.minValue"}],staticClass:"form-control info-value",attrs:{type:"number","data-attr":"minValue"},domProps:{value:e.data.minValue},on:{change:t._addConditionProp,input:function(i){i.target.composing||t.$set(e.data,"minValue",i.target.value)}}}):a("v-datepicker",{staticClass:"info-value btn-block",attrs:{format:t.$refs.componentSelect&&t.$refs.componentSelect.selectedItems[0].properties.basic.dateFormat,"data-attr":"minValue","data-field":"conVal"},on:{daySelected:function(i){return t._daySelectedOfCondition(i,e)}},model:{value:e.data.minValue,callback:function(i){t.$set(e.data,"minValue",i)},expression:"conditionItem.data.minValue"}})],1),t._v(" "),e.data?a("div",{staticClass:"col-xs-6"},["number"===e.component.split("_")[0]?a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.maxValue,expression:"conditionItem.data.maxValue"}],staticClass:"form-control info-value",attrs:{type:"number","data-attr":"maxValue"},domProps:{value:e.data.maxValue},on:{change:t._addConditionProp,input:function(i){i.target.composing||t.$set(e.data,"maxValue",i.target.value)}}}):a("v-datepicker",{staticClass:"info-value btn-block",attrs:{format:t.$refs.componentSelect&&t.$refs.componentSelect.selectedItems[0].properties.basic.dateFormat,"data-attr":"maxValue","data-field":"conVal"},on:{daySelected:function(i){return t._daySelectedOfCondition(i,e)}},model:{value:e.data.maxValue,callback:function(i){t.$set(e.data,"maxValue",i)},expression:"conditionItem.data.maxValue"}})],1):t._e()]):a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-4"},[a("v-select",{staticClass:"info-value btn-block",attrs:{options:t.provinceList,autoSelect:!1,"options-value":"name","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"province"},on:{afterSelected:function(i){return t._afterSelectedFields(i,e)}},model:{value:e.data.province,callback:function(i){t.$set(e.data,"province",i)},expression:"conditionItem.data.province"}})],1),t._v(" "),e.data.province?a("div",{staticClass:"col-xs-4"},[a("v-select",{staticClass:"info-value btn-block",attrs:{options:t._getCityList(e.data.province),autoSelect:!1,"options-value":"name","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"city"},on:{afterSelected:function(i){return t._afterSelectedFields(i,e)}},model:{value:e.data.city,callback:function(i){t.$set(e.data,"city",i)},expression:"conditionItem.data.city"}})],1):t._e(),t._v(" "),e.data.city&&e.data.province?a("div",{staticClass:"col-xs-4"},[a("v-select",{staticClass:"info-value btn-block",attrs:{options:t._getAreaList(e.data.city,e.data.province),autoSelect:!1,"options-value":"name","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"area"},on:{afterSelected:function(i){return t._afterSelectedFields(i,e)}},model:{value:e.data.area,callback:function(i){t.$set(e.data,"area",i)},expression:"conditionItem.data.area"}})],1):t._e()])]):a("div",{staticClass:"col-sm-4"},["select"===e.component.split("_")[0]||"radio"===e.component.split("_")[0]?a("v-select",{staticClass:"info-value btn-block",attrs:{options:t._optionsFixed(t.getConditionsOptions(e.component)),autoSelect:!1,"options-value":"id","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"value"},on:{afterSelected:function(i){return t._afterSelectedFields(i,e)}},model:{value:e.data.value,callback:function(i){t.$set(e.data,"value",i)},expression:"conditionItem.data.value"}}):"checkbox"===e.component.split("_")[0]?a("v-select",{staticClass:"info-value btn-block",attrs:{options:t._optionsFixed(t.getConditionsOptions(e.component)),autoSelect:!1,"options-value":"id","options-label":"name",width:"100%","data-action":"conditions","data-field":"conVal","data-con":"value",multiple:""},on:{afterSelected:function(i){return t._afterSelectedFields(i,e)}},model:{value:e.data.value,callback:function(i){t.$set(e.data,"value",i)},expression:"conditionItem.data.value"}}):e.component&&"datetime"===e.component.split("_")[0]?a("v-datepicker",{staticClass:"info-value btn-block",attrs:{format:t.$refs.componentSelect&&t.$refs.componentSelect.selectedItems[0].properties.basic.dateFormat,"data-attr":"value","data-field":"conVal"},on:{daySelected:function(i){return t._daySelectedOfCondition(i,e)}},model:{value:e.data.value,callback:function(i){t.$set(e.data,"value",i)},expression:"conditionItem.data.value"}}):"input"===e.component.split("_")[0]?a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.value,expression:"conditionItem.data.value"}],staticClass:"form-control info-value",attrs:{type:"text","data-attr":"value"},domProps:{value:e.data.value},on:{change:t._addConditionProp,input:function(i){i.target.composing||t.$set(e.data,"value",i.target.value)}}}):"number"===e.component.split("_")[0]?a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.value,expression:"conditionItem.data.value"}],staticClass:"form-control info-value",attrs:{type:"number","data-attr":"value"},domProps:{value:e.data.value},on:{change:t._addConditionProp,input:function(i){i.target.composing||t.$set(e.data,"value",i.target.value)}}}):t._e()],1)])]):t._e()])]):t._e()])]),t._v(" "),a("div",{staticClass:"deleteCondition",on:{click:function(e){return t.deleteCondition(i)}}})])}),0),t._v(" "),a("button",{staticClass:"btn submit-btn",staticStyle:{"margin-left":"20px","margin-bottom":"10px"},on:{click:function(e){return t.addcondition()}}},[t._v("新增")])]):t._e(),t._v(" "),t.curCase&&!t.actionPartStatus?a("div",{staticClass:"conditionFunWrap box_flex flex_between"},[a("div",{staticClass:"left"},[a("div",{staticClass:"ball_wrap box_flex flex_wrap"},t._l(t.curCase.conditions,function(e,i){return a("div",{key:i,staticClass:"number_ball",on:{click:function(e){return t.addNumber(i+1)}}},[t._v(t._s(i+1))])}),0),t._v(" "),a("div",{staticClass:"operation_wrap box_flex flex_wrap"},[a("div",{staticClass:"operation",on:{click:function(e){return t.addOperation("&&")}}},[t._v("AND")]),t._v(" "),a("div",{staticClass:"operation",on:{click:function(e){return t.addOperation("||")}}},[t._v("OR")]),t._v(" "),a("div",{staticClass:"operation",on:{click:function(e){return t.addOperation("!")}}},[t._v("NOT")]),t._v(" "),a("div",{staticClass:"operation",staticStyle:{width:"56px"},on:{click:function(e){return t.addOperation("(")}}},[t._v("(")]),t._v(" "),a("div",{staticClass:"operation",staticStyle:{width:"56px"},on:{click:function(e){t.addOperation(")")}}},[t._v(")")])])]),t._v(" "),a("div",{staticClass:"right"},[a("div",{staticClass:"box_flex flex_wrap fun_wrap",domProps:{innerHTML:t._s(t.formatterFunToHtml)}}),t._v(" "),a("div",{staticClass:"box_flex flex_between action_row"},[t.checkOperationFun?a("div",{staticClass:"box_flex flex_center"},[a("img",{staticClass:"icon-status",attrs:{src:i("4VgE"),alt:""}}),t._v("输入正确\n            ")]):a("div",{staticClass:"box_flex flex_center"},[a("img",{staticClass:"icon-status",attrs:{src:i("2U6h"),alt:""}}),t._v("输入错误\n            ")]),t._v(" "),a("div",{staticClass:"box_flex"},[a("button",{staticClass:"btn submit-btn",on:{click:function(e){return t.clearOperations()}}},[t._v("清空")]),t._v(" "),a("button",{staticClass:"btn submit-btn",on:{click:function(e){return t.deleteOperation()}}},[t._v("删除")])])])])]):t.actionPartStatus?a("div",{staticClass:"action-part"},[a("div",{staticClass:"col-md-4 opt-area"},[a("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.actionList))]),t._v(" "),a("ul",{staticClass:"list-group action-list"},t._l(t.formSetting.triggers.actionsList,function(e,i){return a("li",{key:i,staticClass:"list-group-item",on:{click:function(i){return t._addAction(e.name)}}},[t._v(t._s(t.translate.eventsList[e.name]))])}),0)]),t._v(" "),a("div",{staticClass:"col-md-4 opt-area"},[a("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.orgAction))]),t._v(" "),t.curCase?a("ul",{staticClass:"list-group action-desc-list"},t._l(t.curCase.actions,function(e,i){return a("li",{key:i,staticClass:"list-group-item action-desc",on:{click:function(i){t.curAction=e}}},[a("div",{staticClass:"action-desc-head"},[a("i",{staticClass:"maticon pull-right",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){return e.stopPropagation(),t._removeAction(i)}}},[t._v("cancel")]),t._v(" "),a("span",[t._v(t._s(t.translate.eventsList[e.name])+":")])]),t._v(" "),"showComponent"===e.name||"hideComponent"===e.name?a("div",{staticClass:"list-group"},t._l(e.properties.fields,function(e,i){return a("span",{key:i,staticClass:"list-group-item",attrs:{title:e.name}},[t._v(t._s(e.title))])}),0):"setText"===e.name?a("ul",{staticClass:"list-group"},t._l(e.properties,function(e,i){return a("li",{key:i,staticClass:"list-group-item"},[t._v("\n                  "+t._s(t.translate.eventsList.set)+"\n                  "),a("span",{attrs:{title:e.fieldName}},[t._v(t._s(e.fieldTitle))]),t._v("\n                  "+t._s(t.translate.eventsList.valueTo)+"\n                  "),a("span",[t._v(t._s(t._getFieldValue(e)))])])}),0):"triggerEvent"===e.name?a("ul",{staticClass:"list-group"},t._l(e.properties,function(e,i){return a("li",{key:i,staticClass:"list-group-item"},[t._v("\n                  "+t._s(t.translate.eventsList.trigger)+"\n                  "),a("span",{attrs:{title:e.fieldName}},[t._v(t._s(e.fieldTitle))]),t._v(" "),a("span",[t._v(t._s(e.eventName))]),t._v("\n                  "+t._s(t.translate.eventsList.events)+"\n                ")])}),0):"script"===e.name?a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item"},[t._v(t._s(e.properties.script))])]):t._e()])}),0):t._e()]),t._v(" "),a("div",{staticClass:"col-md-4 opt-area"},[a("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.setAction))]),t._v(" "),t.curAction?a("div",{staticClass:"set-container"},["showComponent"===t.curAction.name||"hideComponent"===t.curAction.name?a("div",{staticClass:"components-div"},[a("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.fieldsList))]),t._v(" "),a("v-select",{staticClass:"form-control info-value",staticStyle:{"max-width":"auto"},attrs:{options:t.wigtDataArr,autoSelect:!1,value:t.curAction.properties?t._getFieldArr(t.curAction.properties.fields):"","options-value":"name","options-label":"title",width:"100%","data-action":t.curAction.name,multiple:""},on:{afterSelected:t._afterSelectedFields}})],1):t._e(),t._v(" "),"setText"===t.curAction.name?a("div",{staticClass:"settext-div"},[t.curAction.properties&&"{}"!==JSON.stringify(t.curAction.properties)?a("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.valueList))]):t._e(),t._v(" "),t._l(t.curAction.properties,function(e,i){return a("div",{key:i,staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(e.fieldTitle))]),t._v(" "),a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:t._getFieldValue(e)}}),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){return t._removeActionProp(i)}}},[t._v("cancel")])])])}),t._v(" "),t.curAction.properties&&"{}"!==JSON.stringify(t.curAction.properties)?a("div",{staticClass:"div-line"}):t._e(),t._v(" "),a("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.setText))]),t._v(" "),a("div",[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.eventsList.formFields))]),t._v(" "),a("v-select",{staticClass:"form-control info-value",attrs:{options:t.actionSetValueAllowedWigt,"options-value":"name","options-label":"title","data-action":t.curAction.name},on:{optionClick:t._afterSelectedFields}}),t._v(" "),t._m(1)],1),t._v(" "),t.showFieldValue?a("div",{staticClass:"input-group"},[a("span",{staticClass:"info-name",class:["label","datetime","address"].indexOf(t.showFieldValue)>=0?"btn-block":"input-group-addon"},[t._v(t._s(t.translate.eventsList.formFieldsValue))]),t._v(" "),"select"===t.showFieldValue||"radio"===t.showFieldValue?a("v-select",{staticClass:"form-control info-value",attrs:{options:t._optionsFixed(t.triggerSetTextField.properties.basic.options),"options-value":"id","options-label":"name","data-action":t.curAction.name},on:{afterSelected:t._afterSelectedFields}}):"checkbox"===t.showFieldValue?a("v-select",{staticClass:"form-control info-value",attrs:{options:t._optionsFixed(t.triggerSetTextField.properties.basic.options),"options-value":"id","options-label":"name","data-action":t.curAction.name,multiple:""},on:{afterSelected:t._afterSelectedFields}}):"datetime"===t.showFieldValue?a("v-datepicker",{staticClass:"form-control info-value btn-block action-datetime",attrs:{format:t.triggerSetTextField.properties.basic.dateFormat,width:"100%","data-action":t.curAction.name},on:{daySelected:t._daySelectedOfValue}}):"number"===t.showFieldValue?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newObj2.value,expression:"newObj2.value"}],staticClass:"form-control info-value",attrs:{type:"number"},domProps:{value:t.newObj2.value},on:{input:function(e){e.target.composing||t.$set(t.newObj2,"value",e.target.value)}}}):"input"===t.showFieldValue?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newObj2.value,expression:"newObj2.value"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.newObj2.value},on:{input:function(e){e.target.composing||t.$set(t.newObj2,"value",e.target.value)}}}):"label"===t.showFieldValue?a("div",{staticStyle:{position:"relative"}},[a("u-editor",{attrs:{config:t.formSetting.richTextConfig},model:{value:t.newObj2.value,callback:function(e){t.$set(t.newObj2,"value",e)},expression:"newObj2.value"}})],1):"address"===t.showFieldValue?a("div",{staticClass:"btn-block"},[a("v-select",{staticClass:"info-value",attrs:{options:t.provinceList,"options-value":"name","options-label":"name","data-action":t.curAction.name,"data-address":"province"},on:{afterSelected:t._afterSelectedFields},model:{value:t.newObj2.value.province,callback:function(e){t.$set(t.newObj2.value,"province",e)},expression:"newObj2.value.province"}}),t._v(" "),t.newObj2.value&&t.newObj2.value.province?a("v-select",{staticClass:"info-value",attrs:{options:t._getCityList(t.newObj2.value.province),"options-value":"name","options-label":"name","data-action":t.curAction.name,"data-address":"city"},on:{afterSelected:t._afterSelectedFields},model:{value:t.newObj2.value.city,callback:function(e){t.$set(t.newObj2.value,"city",e)},expression:"newObj2.value.city"}}):t._e(),t._v(" "),t.newObj2.value&&t.newObj2.value.city?a("v-select",{staticClass:"info-value",attrs:{options:t._getAreaList(t.newObj2.value.city,t.newObj2.value.province),"options-value":"name","options-label":"name","data-action":t.curAction.name,"data-address":"area"},on:{afterSelected:t._afterSelectedFields},model:{value:t.newObj2.value.area,callback:function(e){t.$set(t.newObj2.value,"area",e)},expression:"newObj2.value.area"}}):t._e()],1):t._e()],1):t._e(),t._v(" "),a("button",{staticClass:"btn btn-block action-add",on:{click:t._addActionProp2}},[a("i",{staticClass:"maticon pull-left",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))}},[t._v("add")]),t._v("新增事件值\n                ")])])],2):t._e(),t._v(" "),"triggerEvent"===t.curAction.name&&t.curAction.properties?a("div",{staticClass:"triggerEvents-div"},[t.curAction.properties&&JSON.stringify(t.curAction.properties)!=={}?a("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.eventsList))]):t._e(),t._v(" "),t._l(t.curAction.properties,function(e,i){return a("div",{key:i,staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(e.fieldTitle))]),t._v(" "),a("input",{staticClass:"form-control info-value disabled",attrs:{type:"text",readonly:""},domProps:{value:e.eventName}}),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(e){return t._removeActionProp(i)}}},[t._v("cancel")])])])}),t._v(" "),t.curAction.properties&&"{}"!==JSON.stringify(t.curAction.properties)?a("div",{staticClass:"div-line"}):t._e(),t._v(" "),a("label",{staticClass:"btn-block"},[t._v(t._s(t.translate.eventsList.addEvent))]),t._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.eventsList.formFields))]),t._v(" "),a("v-select",{staticClass:"form-control info-value",attrs:{options:t.triggerAllowedWigt,"options-value":"name","options-label":"title","data-action":t.curAction.name},on:{optionClick:t._afterSelectedFields}}),t._v(" "),t._m(2)],1),t._v(" "),t.showFieldEvents?a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon info-name"},[t._v(t._s(t.translate.eventsList.formFieldsEvents))]),t._v(" "),a("v-select",{staticClass:"form-control info-value",attrs:{options:t.formSetting.triggers.eventsList,"options-value":"id","options-label":"name","data-action":t.curAction.name,multiple:""},on:{afterSelected:t._afterSelectedFields}}),t._v(" "),a("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[a("i",{staticClass:"maticon",attrs:{title:t.translate.add},domProps:{innerHTML:t._s(t.icons("add"))},on:{click:t._addActionProp}},[t._v("add")])])],1):t._e()],2):t._e(),t._v(" "),"script"===t.curAction.name?a("div",{staticClass:"components-div"},[a("label",{staticClass:"btn-block setpart-head"},[t._v(t._s(t.translate.eventsList.script))]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.curAction.properties.script,expression:"curAction.properties.script"}],attrs:{rows:"20",placeholder:"这里放入你的脚本代码哟~"},domProps:{value:t.curAction.properties.script},on:{input:function(e){e.target.composing||t.$set(t.curAction.properties,"script",e.target.value)}}})]):t._e()]):t._e()])]):t._e(),t._v(" "),a("div",{staticClass:"footer-part"},[t.actionPartStatus?a("button",{staticClass:"btn submit-btn",on:{click:function(e){return t.hideActionPart()}}},[t._v("上一步")]):a("button",{staticClass:"btn submit-btn",on:{click:function(e){return t.showActionPart()}}},[t._v("下一步")]),t._v(" "),a("a",{on:{click:t._cancelSave}},[t._v(t._s(t.translate.cancel))]),t._v(" "),a("a",{on:{click:t._savecurCase}},[t._v(t._s(t.translate.sure))])])])]),t._v(" "),t.preview?a("div",{staticClass:"preview-container"},[a("preview",{attrs:{set:t.setPreview,data:t.wigtDataArr,title:t.title,script:t.code,appid:t.appId,previewType:"pre",infoSetting:t.infoSetting?{tabs:t.infoSetting.tabs,curInfoId:t.personalInfoSetting.curInfoId}:null},on:{tabExchange:t._getPersonalInfoOf,back:function(e){t.preview=!1}}})],1):t._e(),t._v(" "),t.formModel?a("div",{staticClass:"formModel-container"},[a("formModel",{attrs:{data:t.wigtDataArr,script:t.code,appid:t.appId,previewType:"pre",infoSetting:t.infoSetting?{tabs:t.infoSetting.tabs,curInfoId:t.personalInfoSetting.curInfoId}:null},on:{tabExchange:t._getPersonalInfoOf,back:function(e){t.formModel=!1}}})],1):t._e(),t._v(" "),t.formSetting.editorShow?a("div",{staticClass:"editor-cover"},[a("div",{staticClass:"editor-content modal-content"},[t._m(3),t._v(" "),t.curTarget?a("div",{staticClass:"modal-body",staticStyle:{padding:"0",overflow:"hidden"}},[a("u-editor",{attrs:{config:t.formSetting.richTextConfig},model:{value:t.curTarget.properties.basic.content,callback:function(e){t.$set(t.curTarget.properties.basic,"content",e)},expression:"curTarget.properties.basic['content']"}})],1):t._e(),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.formSetting.editorShow=!1}}},[t._v("确定")])])])]):t._e(),t._v(" "),t.formSetting.mapShow?a("div",{staticClass:"editor-cover"},[a("div",{staticClass:"editor-content modal-content"},[t._m(4),t._v(" "),t.curTarget?a("div",{staticClass:"modal-body",staticStyle:{width:"100%",padding:"0",overflow:"hidden"}},[a("v-map",{staticClass:"map",attrs:{center:t.curTarget.properties.basic.map.center,search:!0,location:!1,searchText:"请输入地名设置中心点",radius:t.curTarget.properties.basic.map.radius},on:{markerClick:t._markerClick}}),t._v(" "),a("div",{staticClass:"form-group map-params"},[a("span",[t._v("中心位置：经纬度("+t._s(t.curTarget.properties.basic.map.center.lat)+","+t._s(t.curTarget.properties.basic.map.center.lng)+")")]),t._v(" "),a("div",[a("span",[t._v("定位半径")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.curTarget.properties.basic.map.radius,expression:"curTarget.properties.basic.map['radius']"}],staticClass:"form-control text-right map-radius-input",attrs:{type:"number",placeholder:"定位半径"},domProps:{value:t.curTarget.properties.basic.map.radius},on:{input:function(e){e.target.composing||t.$set(t.curTarget.properties.basic.map,"radius",e.target.value)}}}),t._v(" "),a("span",[t._v("米（m）")])])])],1):t._e(),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.formSetting.mapShow=!1}}},[t._v("确定设置")])])])]):t._e(),t._v(" "),a("v-modal",{staticClass:"organization-modal",attrs:{show:t.showAddMemberModal,effect:"fade",width:"446"}},[a("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("新增分类")])]),t._v(" "),a("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newFenlei,expression:"newFenlei"}],staticClass:"form-control search-input organization-input",attrs:{type:"text",placeholder:t.请输入新增分类名称},domProps:{value:t.newFenlei},on:{input:function(e){e.target.composing||(t.newFenlei=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showAddMemberModal=!1}}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t._checkNewFenlei}},[t._v("确定")])])]),t._v(" "),a("v-modal",{staticClass:"organization-modal",attrs:{show:t.showComputedModal,effect:"fade",width:"995"}},[a("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("设置公式")])]),t._v(" "),a("div",{staticClass:"modal-body",staticStyle:{padding:"0","max-height":"600px"},attrs:{slot:"modal-body"},slot:"modal-body"},[a("computed",{ref:"computed",attrs:{showComputedModal:t.showComputedModal,wigtDataArr:t.wigtDataArr,properties:t.computedProperties}})],1),t._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showComputedModal=!1}}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t._setComputed}},[t._v("确定")])])]),t._v(" "),a("v-modal",{attrs:{show:t.advancedSearch.show,effect:"fade",width:"720"}},[a("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("设置过滤条件")])]),t._v(" "),a("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[t._l(t.advancedSearch.searchItems,function(e,i){return a("div",{key:"search-item-"+i,staticClass:"form-group advancedSearch-group"},[a("v-select",{attrs:{options:t._getDataFieldOf(t.curTarget.initialization.properties.dataSet),"options-value":"id","options-label":"title",value:e.key,search:!0,"data-index":i},on:{afterSelected:t.advancedSearchKeySelected}}),t._v(" "),a("v-select",{attrs:{options:e.options.relation,value:e.relation,search:!0,"data-index":i},on:{afterSelected:t.advancedSearchRelationSelected}}),t._v(" "),e.isDict?a("v-select",{attrs:{options:e.options.dictOptions,value:e.value,optionsLabel:"text",optionsValue:"id",search:!0,multiple:!0,"data-index":i},on:{afterSelected:t.advancedSearchValueSelected}}):t._e(),t._v(" "),e.isAddress?a("v-select",{attrs:{options:e.options.province,value:e.province,optionsLabel:"text",optionsValue:"id",search:!0,multiple:!0,"data-index":i},on:{afterSelected:t.advancedSearchProvinceSelected}}):t._e(),t._v(" "),e.isSelectProvince?a("v-select",{attrs:{options:e.options.city,value:e.city,optionsLabel:"text",optionsValue:"id",search:!0,multiple:!0,"data-index":i},on:{afterSelected:t.advancedSearchCitySelected}}):t._e(),t._v(" "),e.isSelectCity?a("v-select",{attrs:{options:e.options.county,value:e.county,optionsLabel:"text",optionsValue:"id",search:!0,multiple:!0,"data-index":i},on:{afterSelected:t.advancedSearchCountySelected}}):t._e(),t._v(" "),e.isDate?a("v-datepicker",{ref:"datepicker",refInFor:!0,staticClass:"btn-block time-picker value-datepicker",attrs:{value:e.value,clearButton:!1,showTime:!1,"data-index":i},on:{daySelected:t.advancedSearchDateValue}}):t._e(),t._v(" "),e.isInput?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"searchItem.value"}],staticClass:"value-input",attrs:{type:"text"},domProps:{value:e.value},on:{input:function(i){i.target.composing||t.$set(e,"value",i.target.value)}}}):t._e(),t._v(" "),a("button",{staticClass:"btn deleteBtn clearBtnBorder",attrs:{type:"button","data-index":i},on:{click:function(e){return t.deleteSearchItem(i)}}},[t._v(t._s(t.translateI.remove))])],1)}),t._v(" "),a("button",{staticClass:"btn addBtn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){return t.addSearchItem()}}},[t._v(t._s(t.translateI.addNew))])],2),t._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.advancedSearch.show=!1}}},[t._v(t._s(t.translateI.cancel))]),t._v(" "),a("button",{staticClass:"btn submit-btn clearBtnBorder",class:{disabled:t.isDisabled},attrs:{type:"button"},on:{click:function(e){return t.execAdvancedSearch(1)}}},[t._v("确定")])])])],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tip"},[i("label",[t._v("可能用到的数据（请严格按照下方提示取值，否则将影响脚本的正常执行，window不可忽略。）")]),t._v(" "),i("p",[i("strong",[t._v("表单实例：")]),t._v("window.vue\n          ")]),t._v(" "),i("p",[i("strong",[t._v("表单实例id：")]),t._v("window.vue.defaultData.id\n          ")]),t._v(" "),i("p",[i("strong",[t._v("表单所属人、代理人：")]),t._v("window.vue.defaultData.applicant、window.vue.defaultData.proxyApplicant\n          ")]),t._v(" "),i("p",[i("strong",[t._v("组件name与值的集合：")]),t._v("window.vue.formData\n          ")]),t._v(" "),i("p",[i("strong",[t._v("当前操作表单人的信息：")]),t._v("window.vue.$account\n          ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[e("i",{staticClass:"maticon"},[this._v("   ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon info-name",staticStyle:{width:"auto"}},[e("i",{staticClass:"maticon"},[this._v("   ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("文本编辑")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("\n          定位范围设置\n          "),e("span",{staticClass:"pull-right"},[this._v("点击定位图标设置当前中心，以定位中心为圆心设置定位半径")])])])}]};var s=function(t){i("oIon")},o=i("C7Lr")(a.a,n,!1,s,null,null);e.default=o.exports},"7Fkl":function(t,e){},"81bq":function(t,e){},"8c0Y":function(t,e,i){"use strict";var a=i("C331"),n=(Object,Boolean,Number,String,String,String,Array,{name:"EmUser",componentName:"EmUser",props:{user:{type:Object,default:function(){return null}},isShowConsole:{type:Boolean,default:!0},pageType:{type:Number,default:0},loginUrl:{type:String,default:"/"},msgUrl:{type:String,default:"/"},infoUrl:{type:String,default:"/"},menu:{type:Array,default:function(){return[{name:"单位管理",url:"/"},{name:"系统管理",url:"/"}]}},userInfo:null},data:function(){return{loginTypeList:{STUDENT:"STUDENT",TEACHER:"TEACHER",COMPANY:"COMPANY"},loginType:null,showDropdown:!1}},methods:{showOrHideUserDropdown:function(){this.showDropdown=!this.showDropdown},toPerson:function(){this.user.id&&this.$router.push("/employment")},msgClick:function(){this.$toast("暂未开放，敬请期待")},_checkLogin:function(){var t=this;Object(a.e)({url:"/login/check",type:"get",success:function(e){e.state?(t.userInfo=e.data,t.user={id:e.data.id,name:e.data.name},e.data.email&&(t.user.email=e.data.email.replace(e.data.email.substring(3,7),"****"))):t.$message.error(e.message)}})},logout:function(){var t=this;Object(a.e)({url:"/logout",type:"get",success:function(e){t.user=null,t.pageType=0,document.title="就业管理系统",t.$router.push("/employment/index")}}),this.showOrHideUserDropdown()},toLogin:function(){this.$router.push("/login/employment")}},created:function(){var t=this;this._checkLogin(),Object(a.e)({url:"/api/employment/user/getLoginType",type:"get",success:function(e){e&&e.state&&(t.loginType=e.data.loginType)}})}}),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"em-user__container"},[t.user||0!==t.pageType?t.user||1!==t.pageType?t.user||2!==t.pageType?t.user?i("div",{staticClass:"em-user__main"},[t.user.access?i("div",{staticClass:"em-user__menu"},[t._t("menu",t._l(t.menu,function(e,a){return i("a",{key:a,attrs:{href:e.url}},[t._v("\n          "+t._s(e.name)+"\n        ")])}))],2):t._e(),t._v(" "),t.isShowConsole&&"STUDENT"!=t.loginType?i("el-button",{staticClass:"enter-console",attrs:{type:"text"},on:{click:t.toPerson}},[t._v("进入控制台")]):t._e(),t._v(" "),i("div",{staticClass:"em-user__msg"},[t._t("msg",[i("div",{staticClass:"em-user__name",attrs:{title:t.user.name?t.user.name:t.user.email}},[t._v(t._s(t.user.name?t.user.name:t.user.email))]),t._v(" "),i("a",{on:{click:function(e){return t.msgClick()}}},[i("i",{staticClass:"icon",domProps:{innerHTML:t._s(t.icons("notifications"))}})])])],2),t._v(" "),i("div",{staticClass:"em-user__info"},[t._t("user",[i("div",{class:["em-user__content",t.showDropdown?"active":""]},[i("div",{staticClass:"em-user__more",on:{click:function(e){return t.showOrHideUserDropdown()}}},[i("i",{staticClass:"icon",domProps:{innerHTML:t._s(t.icons("more_vert"))}})]),t._v(" "),t.showDropdown?i("div",{staticClass:"em-user__dropdown-mask",on:{click:function(e){return t.showOrHideUserDropdown()}}}):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDropdown,expression:"showDropdown"}],staticClass:"em-user__dropdown"},[i("ul",["STUDENT"==t.loginType?i("li",{on:{click:t.toPerson}},[t._v("个人信息")]):t._e(),t._v(" "),i("li",{on:{click:t.logout}},[t._v("退出登录")])])])])])],2)],1):t._e():i("div",{staticClass:"em-user__empty"}):i("div",{staticClass:"em-user__sign"},[t._v("\n    已有帐号？"),i("span",{staticClass:"em-user__btn",on:{click:t.toLogin}},[t._v("马上登录")])]):i("div",{staticClass:"em-user__login"},[i("div",{staticClass:"em-user__btn",on:{click:t.toLogin}},[t._v("登录")])])])},staticRenderFns:[]};var o=i("C7Lr")(n,s,!1,function(t){i("CJFp")},"data-v-1319dd58",null);e.a=o.exports},"8vQV":function(t,e,i){"use strict";var a=i("NSP0"),n=i("A1wG"),s=i("RFLz"),o=i("Y3Xi"),r=i("kCOx"),l=Object.prototype.toString,c=0,u=-1,d=0,p=8;function h(t){if(!(this instanceof h))return new h(t);this.options=n.assign({level:u,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var i=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==c)throw new Error(o[i]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var m;if(m="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(i=a.deflateSetDictionary(this.strm,m))!==c)throw new Error(o[i]);this._dict_set=!0}}function m(t,e){var i=new h(e);if(i.push(t,!0),i.err)throw i.msg||o[i.err];return i.result}h.prototype.push=function(t,e){var i,o,r=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=s.string2buf(t):"[object ArrayBuffer]"===l.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new n.Buf8(u),r.next_out=0,r.avail_out=u),1!==(i=a.deflate(r,o))&&i!==c)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(s.buf2binstring(n.shrinkBuf(r.output,r.next_out))):this.onData(n.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==i);return 4===o?(i=a.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c):2!==o||(this.onEnd(c),r.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=h,e.deflate=m,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,m(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,m(t,e)}},"9roS":function(t,e){},"9xzn":function(t,e,i){"use strict";var a={name:"signature",props:["canvasUrl","height"],data:function(){return{points:[],canvasTxt:null,startX:0,startY:0,moveY:0,moveX:0,endY:0,endX:0,w:null,h:null,isDown:!1}},created:function(){},mounted:function(){var t=this.$refs.canvasF;t.height=this.$refs.canvasHW.offsetHeight-60,t.width=this.$refs.canvasHW.offsetWidth-10,this.height&&(t.height=100,t.width=this.$refs.canvasHW.offsetWidth-10),this.canvasTxt=t.getContext("2d")},methods:{setCanvas:function(){if(this.canvasUrl){var t="/downloads/storage/images/"+this.canvasUrl+".png",e=this.$refs.canvasF,i=new Image;i.src=t,e.height=this.$refs.canvasHW.offsetHeight-60,e.width=this.$refs.canvasHW.offsetWidth-10,this.canvasTxt=e.getContext("2d"),setTimeout(function(){i.onload=function(){this.canvasTxt.drawImage(i,0,0,200,100)}},300)}},backHome:function(){window.history.back()},mouseDown:function(t){(t=t||event).preventDefault(),this.$emit("isdraw","true");var e={x:t.offsetX,y:t.offsetY};this.startX=e.x,this.startY=e.y,this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(e.x,e.y),this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.points.push(e),this.isDown=!0},touchStart:function(t){if((t=t||event).preventDefault(),1==t.touches.length){var e={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY-48};this.startX=e.x,this.startY=e.y,this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(e.x,e.y),this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.points.push(e)}},mouseMove:function(t){if((t=t||event).preventDefault(),this.isDown){var e={x:t.offsetX,y:t.offsetY};this.moveY=e.y,this.moveX=e.x,this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(e.x,e.y),this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.startY=e.y,this.startX=e.x,this.points.push(e)}},touchMove:function(t){if((t=t||event).preventDefault(),1==t.touches.length){var e={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY-48};this.moveY=e.y,this.moveX=e.x,this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(e.x,e.y),this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.startY=e.y,this.startX=e.x,this.points.push(e)}},mouseUp:function(t){(t=t||event).preventDefault();var e={x:t.offsetX,y:t.offsetY};this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(e.x,e.y),this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.points.push(e),this.points.push({x:-1,y:-1}),this.isDown=!1},touchEnd:function(t){if((t=t||event).preventDefault(),1==t.touches.length){var e={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY-48};this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(e.x,e.y),this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.points.push(e),this.points.push({x:-1,y:-1})}},overwrite:function(){this.canvasTxt.clearRect(0,0,this.$refs.canvasF.width,this.$refs.canvasF.height),this.points=[]},dataURLtoFile:function(t,e){for(var i=t.split(","),a=i[0].match(/:(.*?);/)[1],n=atob(i[1]),s=n.length,o=new Uint8Array(s);s--;)o[s]=n.charCodeAt(s);return new File([o],e,{type:a})},getFile:function(){var t=this.$refs.canvasF.toDataURL("image/jpg");return this.dataURLtoFile(t,"sign")},getBase64:function(){return this.$refs.canvasF.toDataURL("image/jpg")}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"signatureBox"},[e("div",{ref:"canvasHW",staticClass:"canvasBox"},[e("canvas",{ref:"canvasF",on:{touchstart:this.touchStart,touchmove:this.touchMove,touchend:this.touchEnd,mousedown:this.mouseDown,mousemove:this.mouseMove,mouseup:this.mouseUp}})])])},staticRenderFns:[]};var s=i("C7Lr")(a,n,!1,function(t){i("LTIR")},"data-v-7ddbb8a8",null);e.a=s.exports},Acjl:function(t,e){},"B/WJ":function(t,e,i){"use strict";var a=i("2IYH"),n=i("Se9A"),s=(Boolean,Boolean,Object,a.a,n.a,{props:{inline:Boolean,edit:Boolean,rules:{type:Object,default:{}}},mixins:[a.a],components:{ModuleContainer:n.a},data:function(){return{editorConfig:{autoHeightEnabled:!0,wordCount:!1,autoFloatEnabled:!1,toolbars:[["source","undo","redo","bold","italic","underline","strikethrough","fontborder","subscript","superscript","formatmatch","removeformat","time","date","horizontal"],["paragraph","fontfamily","fontsize","justifyleft","justifyright","justifycenter","justifyjustify","forecolor","backcolor","insertorderedlist","insertunorderedlist","lineheight","rowspacingtop","rowspacingbottom"],["insertimage","attachment","link","emotion","spechars","imagenone","imageleft","imageright","autotypeset","snapscreen","preview","print","fullscreen","background","insertcode","directionalityltr","directionalityrtl","customstyle","template"]]}}}}),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("module-container",{attrs:{title:"招聘简章",inline:t.inline}},[t.edit?i("u-editor",{ref:"descEditor",attrs:{config:t.editorConfig},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}}):i("div",{domProps:{innerHTML:t._s(t.form)}})],1)},staticRenderFns:[]},r=i("C7Lr")(s,o,!1,null,null,null);e.a=r.exports},B87C:function(t,e){},B8ac:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAGO0lEQVRYR82YbYxU5RXH/+eZYXd9KSC6Ym3UGEuKBLQq0dakUWHl3qGKHxpWkZ2ZDyi4LnNHE7CUNqT2JVTaptk7u+pGK86dRZuJrbbGnTu7kE1opY1oEylWLdi0yruWVYjs28zzb+6+tHTC7r17dz50Ps55+93znOecc6+gSj87V2wGuTEqjD0cj71fJbeQajmyHdclaShRD6QSxi+r5bfqgFDyYDpuPvt/B9jqFF4DsRwiiXTCzPkBtuXcG7VEB6ymhr9OpjthBklKJld8GcAcqNl3WU1fOzWZo0yusEJTHqyBrGlOGCcm023NuaYQXSAOWUnzylCAnlGr4x4B+UUAnelkLO6XlSDyp5zipUPgPpBzIfhVOhFbFR4w694D8BXPgQi+ZSViv6l0lunsWUSWFoJyOYCZQjkOhSNRYs+5Mmln3R8T3CyCQ9HIhdc9vPobfaEBPcOMU7A1kVKQLamk+UPvPzu/u54DZzYIsJLk1RME0AL8UURtn1u37PnGRimP+isuIblBKXxvfdz8s1/WA91iu3Pngtr5sw+svemmcqazuImamwB8YcS5oB+UvQIcBuQUoS8F5GoRXO/V8aiOvBtRKrW+adkuP6BKeSBAz6gj3zNrsL/8IsHY2JG/CWBr7UX17rq7F5+pdNye772s1D+0EsLvjNWxFpHHrIT586lABgJsz/deWOof/D3Ar0LkcwDNVtzoFBH6Bet49c3zB/o+/hGIRz1dJWprKmFs9rMbl/sCjrcbkvcIcAxKTCtuvh00wLheW7aYLEM/5zEG7ZWjFeTza3WKa0Hd4dVaVM24raWpYa+fzURyO1vYSGCbAGekJjIvtWrZET9fYnf+aeaMSN+c5lWxf1QqO07xgk+pDxK4TCl5JBU3W/0c+sltx+0h2SAiz1kJc83Z+l7dlvuHllO4XEjWzqlPiu0U9pFYBMHfFfBatK7miebGpYc9w1bHbQHZJiIHaxdcsmDd4sXDfgB+cjvbcwOk/BZJRs+r+1JL4x3HPBvb6b6NKHeDqBm9hELF6HyxHdch+Z8pIZC8lTTvHTUq7CKxBEptTMeNn/kFDyq3Hfd1kreKwkNWPNbh2bV1di8t63KXACcIdEUiasf61cbukRrsyPZcOaj0N0HeTJFn0nFjz8jNHRjsAxmV2povW/ct/SAogJ9exnEf0+QTInjVSsRWjOvbXQdqreXzBs+2n/CSeM2Z5eF3RHDKSsRm+QWdirwtV7yzrHW3QN6xkubCyWwnBsy6DQR7BPKelTSvnQqAn+5TTnHhEPVfAPk0nTQvCgWYcQqGJtwgT+kHVClvd3quLbHk7YGn08nYzHCAnT2LdLm0TwR9ViI2Z6oQk+mPXIhyeacI/mYlYl8JBbj95d7Zp08PnvQmiUTqrrCa7jhULUjbcR8h+QsBuq1kzAgFONpm3D0kvw6R9emE2V5FwF6St4vIBr/lYdJR9992IG+n4saNIqKnC5l5oTifJb2fRCSqZF5L3DwYOoNt2Z0Xa5Q+IDhrKgN+soC2U/gdibsre+BENr7Lgp1zv03Nn3iXpSYSueWh1csOhM2inSuso8bTAHSNqOubE8Z+P1++gPn8/ppjA4e8mrkVIu9HZ8idLauMj/wcV8pbvfcbwUveZALweDoZ+34QH76AnhPvTWwY+g0SV0HkeCQijd6cDBIgn2fk6ED3JlD/YGwX/LUVN1YGWXY9/4EAPcX2F4tXlIf1b0ncMGb4klKydaIXH2+uyicHV2jI4yDHJpFsl/prmivnbehLUmk4tr57/WuNdwtHQAX/BGQ3wcOK6jMK5wK8hpAlIC8YfRj5jILvhmlVgTN4Nqy3SECXthC4axzinFkQOS7E8+efh20PNJong5REpU4owHEn23t76z7/cKiBwEKIvlwLZiqNjzVwVKLyh9T9xt6gtRa6zYR56mrahM7gyEQY5hYAI3V27iPGyVrB5nVx82hY6PCA2cJPNbDBL7Ao1WTFjR1+elU/4rYdu67SpeG1UKibJPiJ2tmXZM715SEocOgMBg0wXb1pA3r7ov1C8fZIWeaOw0Qj8tZ0ZvbZDzVtQO9zmqb+n69WIvKvVNyon26LmdKom+ioxlayJzEyQUZ/AulKJcxt0z1ez/7fGeapgL919dIAAAAASUVORK5CYII="},BvaA:function(t,e,i){"use strict";var a=i("fUz/");var n=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var a=0;a<8;a++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();t.exports=function(t,e){return void 0!==t&&t.length?"string"!==a.getTypeOf(t)?function(t,e,i,a){var s=n,o=a+i;t^=-1;for(var r=a;r<o;r++)t=t>>>8^s[255&(t^e[r])];return-1^t}(0|e,t,t.length,0):function(t,e,i,a){var s=n,o=a+i;t^=-1;for(var r=a;r<o;r++)t=t>>>8^s[255&(t^e.charCodeAt(r))];return-1^t}(0|e,t,t.length,0):0}},C6fk:function(t,e,i){"use strict";var a=i("lC5x"),n=i.n(a),s=i("J0Oq"),o=i.n(s),r=i("IwLe"),l=i("VDkK"),c=i("hn+R"),u=i("713C"),d=i("V/it"),p=i("B/WJ"),h=i("Se9A"),m=i("N9Ox"),_=i("fSJ2"),f=i("p+qa"),v=i("t7Ya"),g=(Number,String,h.a,m.a,r.a,l.a,c.a,u.a,d.a,p.a,{props:{id:Number,dcwName:String},components:{ModuleContainer:h.a,ModuleLoader:m.a,BaseInfo:r.a,StandInfo:l.a,StandPicker:c.a,UnitInfo:u.a,PositionsInfo:d.a,RecruitmentInfo:p.a},data:function(){return{loading:!0,dcw:null,unitApplyInfo:new v.d,stands:[],myUnit:null,rules:{name:{hidden:!0},applyTime:{hidden:!0}}}},computed:{},created:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initDcw();case 2:return e.next=4,t.initMyUnit();case 4:return e.next=6,t.initStands();case 6:t.loading=!1;case 7:case"end":return e.stop()}},e,t)}))()},methods:{initDcw:function(){var t=this;return o()(n.a.mark(function e(){var i,a,s,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.dcw.get(t.id);case 2:i=e.sent,a=i.state,s=i.message,o=i.data,a?t.dcw=v.a.fromApi(o):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},initMyUnit:function(){var t=this;return o()(n.a.mark(function e(){var i,a,s,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.k)();case 2:i=e.sent,a=i.state,s=i.message,o=i.data,a?t.unitApplyInfo=v.d.fromUnit(o):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},initStands:function(){var t=this;return o()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=t.unitApplyInfo.stands.map(function(t){return t.id}),t.stands=t.dcw.standInfo.stands.map(function(t){var e=new v.c(t);return i.includes(t.id)&&(e.selected=!0,e.occupied=!1),e});case 2:case"end":return e.stop()}},e,t)}))()},submit:function(){var t=this;return o()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.unitInfo.validate();case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),Object(f.a)(0,200),e.abrupt("return");case 9:if(t.unitApplyInfo.stands=t.stands.filter(function(t){return t.selected}),"UNIT"!==t.dcw.standInfo.chooseType||t.unitApplyInfo.stands.length){e.next=13;break}return t.$toast("您还未选择展位"),e.abrupt("return");case 13:return e.next=15,_.a.dcw.apply(t.dcw.id,t.unitApplyInfo);case 15:i=e.sent,a=i.state,s=i.message,i.data,a?(t.$toast("提交成功"),t.toMyDcw()):t.$toast(s);case 20:case"end":return e.stop()}},e,t,[[0,5]])}))()},backToList:function(){this.$emit("back-to-list")},toMyDcw:function(){this.$emit("to-my-dcw")}}}),y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"back",on:{click:t.backToList}},[i("i",{staticClass:"el-icon-back"}),t._v("返回\n  ")]),t._v(" "),i("div",{staticClass:"page-title"},[t._v("\n    "+t._s("双选会名称："+t.dcwName)+"\n  ")]),t._v(" "),t.loading?i("module-loader",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]}):i("div",{staticClass:"module-container"},[i("unit-info",{ref:"unitInfo",attrs:{dcw:t.dcw,edit:""},model:{value:t.unitApplyInfo,callback:function(e){t.unitApplyInfo=e},expression:"unitApplyInfo"}}),t._v(" "),i("positions-info",{attrs:{dcw:t.dcw,edit:""},model:{value:t.unitApplyInfo.positions,callback:function(e){t.$set(t.unitApplyInfo,"positions",e)},expression:"unitApplyInfo.positions"}}),t._v(" "),i("recruitment-info",{attrs:{dcw:t.dcw,edit:""},model:{value:t.unitApplyInfo.recruitment,callback:function(e){t.$set(t.unitApplyInfo,"recruitment",e)},expression:"unitApplyInfo.recruitment"}}),t._v(" "),i("stand-info",{model:{value:t.dcw.standInfo,callback:function(e){t.$set(t.dcw,"standInfo",e)},expression:"dcw.standInfo"}},[i("template",{slot:"start"},[i("el-form",[i("el-form-item",{attrs:{label:"双选会场地"}},[i("p",[t._v(t._s(t.dcw.baseInfo.address))])])],1)],1)],2),t._v(" "),i("module-container",{attrs:{inline:""}},["UNIT"===t.dcw.standInfo.chooseType?i("stand-picker",{attrs:{dcw:t.dcw,published:"",selectable:""},model:{value:t.stands,callback:function(e){t.stands=e},expression:"stands"}}):i("el-form",[i("el-form-item",{attrs:{label:"展位号"}},[i("p",[t._v("由校方分配")])])],1)],1),t._v(" "),"MANAGER"===t.dcw.standInfo.chooseType?i("module-container",{attrs:{title:"备注"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:3},placeholder:""},model:{value:t.unitApplyInfo.remark,callback:function(e){t.$set(t.unitApplyInfo,"remark",e)},expression:"unitApplyInfo.remark"}})],1):t._e(),t._v(" "),t.dcw.applied?t._e():i("module-container",{attrs:{actions:""}},[i("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.submit}},[t._v("提交审核")])],1)],1)],1)},staticRenderFns:[]},b=i("C7Lr")(g,y,!1,null,null,null);e.a=b.exports},C6sy:function(t,e,i){t.exports=i("GMoo")},CJFp:function(t,e){},CjlP:function(t,e,i){"use strict";var a=i("fUz/");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return a.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=n},"DW+B":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAGyklEQVR4Xu2aWYgcVRSG/797lqrWcQloXOIGSaY7cUWNCeIGkeAWN+KDglFwA6OY7s5oFCVBE5VUj6gRFyIYVMQF1LjEBSUoJGYUF5SpGjPGqFGjQh4yoatnnK4jd+JAZrq7tq7uiib10g/3nHvP//WpunVPHWIvv7iX68c+APsyoAkEMisGjxeWLwZ5LCGHAZgowokgDqPAAbBNiD8gso3kH44jP7KFr1oL9S2NDq9ht8C07sHpjjjzKJgHYloYIQL5ksArkuDLjYIROYC0Yc8n0BVWdC1QAvmCTC43s+2vh4FZyycyAJlC6UKBs5zgSVEGWDGXyEYhslYutT6KdeoGkDaGTiWHVwKcGUVAvucQrIUkusxF7d/59qliGB6ACNPdpWUEFtcTQD2+oh6glEVWLtUddp5QACZ1i94hpdcAXBh24Sj9RPCidbQ2H1exHHTewAAmP1yc1JLkWhLHB12skfYCrE9Qu6Q3y+1B1gkEIGPYxwikh+ShQRYZb9vRTtw6K4nLpyexYxD4qL+MJzaUMTAo9UwLATYPt2oz+2/nX34n8g1g4grZbwJLPVFsb8/Na8OMoxJjYlQQblvzt9+4XeykxxzQz8QSDvuZzDeAtGG/R2KOn0ndbJRwBaDadf6qQfy6o74sUPOKYLWV16/zE6svAGnDXkbibj8Tetm4Abju1SH0/KLejOu/HOEdfXntUa+ZPAFM7R6akZTyRq+J/I43C4AA5eEyO/u7tB/cYvMEkDGKX4E82a9AL7tmAdh1K8hbVj41NzSATsO+JkG84CUqyHgzAYzEJTjHzOuf1IqxZgZMWyJtToe9heDhQQR62cYAoNfM69MDA0gb9n0klnoJCjredAC7suBGM6+vqhZrzQxIG/YOEh1BBXrZxwFARLZa+dRRvgGooy0g73iJCTMeBwAVZ1mSM77Pt30+PuaqGZAu2E8RuDmMQC+fuAA4wP19Of0+nwCKv0X98BtdOC4AAvnGyqUqtvOKDJhqDJ2eZLnH658MOx4XgJF4E9oR5kL+vnvsFQAyBfsBAPeEFejlFysAcIGZ055wBZA2im+TvMhLSNjxeAHgWTOn3+CeAUbxM5BneAlMH5pAR/VDnaur8lt8bktVmwfXDcP6M/hhaGAI/vxE3jDzqcu9boFNACbXUqGKGY/Pba04z3sBa/S4qifc/f6wV1HlUzOnn+2VAdtBHlwr4OVzWnHZ9GSj9YSa//kvh6GyyOUyzZw+5iNNtYega0Vi463tUFmwJ16qmKKKKrUuEfnTyqcmuj8EC7ZD1P5qvCcD+G2HYHb9AIpbCR75v7wFRL4286lTPDKg+DnB09wegisvbcXpk8YWNeO+JT7+oYzF73k+BN81c/qYLb7iZk4bxTUkL/ESpLazA9q9rCrH04ckcFeNbfAhtQ3+FXwbVKV1n9un93tA2rCfJnFTcGn+POJ8Eap2IKrIgE6jdEuC8qQ/OcGt4gQAJq4Y/3m98jDULUcmpbQ1uDR/HnEBUFXindQ6tmZpuz4E1WCmYPeqH3+SglnFBkCwzsrr542PtkZBpFQgJBtMmj/ruAA4jnT1LUqt8AUg012aDZEP/UkKZhUXADiJE6o1U9R8p80Y9k4Q+wWT520dE4CfzZx+TLXo3KrCS0lU1NC8JbpbxAFAyNusrLYyEIAjnpbUgTvtXwBOqFf07v7NBiDAFmtAm1Lrc7nrsS5TKN0ByCP/aQAiV1v51Eu1NLifa5dIS3p/+0eSk6KC0MwMEMF3Vl4/wS12z4N9pmBfC2D1fxIAOcfKah/UBUA5pwvF1wheGQWEZmWACJ6x8rrnxx3PDFCiR74U719aR2JWvRCa0SID4F0zq6nmbM9+G18AlOhjH5GD9PJIk9SUeiGsvqqtop6gzvML3qy/SUqAb0sD2owtS1jyE6dvAGqyzhX2cYmEbAA4pq7mZ6HdbVRNccGs5EhxdeDfNrmVEbTJQfATHW1mbxe3+Y0pEAA16Z7aKAnIZ6R+UUMbJUep7mqVtV8CeKlf0g21EzxvHq1d35RW2d2FZAr2vQIsdasiN1j4sEPm+nLaY2HXCXwLjF9ItcuD5QKBc8IGEcZPdYCVk8k7Ny1sN8P4j/rUDWB0orRRmkM4D0XZUldVmMjGcqLl9u+zbZF8wo8MwGiwqrWOkC6SJ9bzz1T6So+DxLK+nLYmynkjBzAa3FRVW3RKFwjkApCzCRwQLHDZLsIPSKz9u1VbG6QDPMg6DQMwPoip3fZZSQedAhxHyhT1C2EnKertp1+Emwn0O4LNDpK9mxa1Rdae6wakaQCC/CvNtN0HoJm098S19voM+Af+gedfR5L9yQAAAABJRU5ErkJggg=="},DkpT:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return l}),i.d(e,"c",function(){return c}),i.d(e,"d",function(){return u}),i.d(e,"e",function(){return d});var a,n,s=i("a3Yh"),o=i.n(s),r={AUDITING:0,PASSED:1,FAILED:2,COUNTERMAND:3,REJECT:4},l=(a={},o()(a,r.AUDITING,"待审核"),o()(a,r.PASSED,"已通过"),o()(a,r.FAILED,"未通过"),o()(a,r.COUNTERMAND,"已撤回"),o()(a,r.REJECT,"已驳回"),a),c=o()({},r.REJECT,"已驳回"),u=(n={},o()(n,r.AUDITING,"warning"),o()(n,r.PASSED,"success"),o()(n,r.FAILED,"danger"),o()(n,r.COUNTERMAND,"warning"),o()(n,r.REJECT,"warning"),n),d=[];for(var p in l)d.push({id:p,text:l[p]})},Do79:function(t,e,i){"use strict";var a=i("HzJ8"),n=i.n(a),s=(i("qqHy"),i("kV13")),o=(i("C331"),Boolean,{props:{isShowDateOfDay:{default:!0},tableType:{default:null},tableData:{default:null},timeQuantumArray:{default:null},isChangeDate:{default:null},dataType:{default:null},consultantId:{default:null},studentId:{default:null},enableShowReservedPeople:{type:Boolean}},data:function(){return{weekData:["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],dayOfWeek:[1,2,3,4,5,6,7],tableCells:[],dateOfday:[],weekStartTime:"",weekEndTime:"",currentFirstDate:"",dateStart:"",dateEnd:"",newTableData:[],selectedTabelCells:[],curSelectedDate:"",loadingText:"数据加载中~",reservedPeopleVisible:!1}},watch:{timeQuantumArray:{deep:!0,handler:function(){this._initData()}},tableData:{deep:!0,handler:function(){this._initData()}}},created:function(){this.isChangeDate?(this.setDate(new Date(this.isChangeDate)),this.isChangeDate=null):this.setDate(new Date),"setting"===this.dataType?this._initData():0===this.newTableData.length&&this._initData()},methods:{_initData:function(){for(var t in this.loadingText="数据加载中~",this.newTableData=[],this.tableCells=[],this.timeQuantumArray)for(var e in this.newTableData.push({timeQuantum:this.timeQuantumArray[t].timeQuantum,tableData:[]}),this.dayOfWeek)this.tableCells.push({tablex:this.dayOfWeek[e],tabley:this.timeQuantumArray[t].timeQuantum,timeSettingId:this.timeQuantumArray[t].id,isChecked:!1,data:{}});if("setting"===this.dataType)for(var t in this.tableCells)for(var e in s.default.set(this.tableCells[t].data,"dayTimeTeacher",[]),s.default.set(this.tableCells[t].data,"dayOfWeek",null),s.default.set(this.tableCells[t].data,"timeSetting",{}),this.tableData){var i=this.tableData[e].timeSetting.timeQuantumStart+"-"+this.tableData[e].timeSetting.timeQuantumEnd;this.tableData[e].dayOfWeek===this.tableCells[t].tablex&&i===this.tableCells[t].tabley&&(this.tableCells[t].data.dayTimeTeacher.push(this.tableData[e]),this.tableCells[t].data.dayOfWeek=this.tableData[e].dayOfWeek,this.tableCells[t].data.timeSetting=this.tableData[e].timeSetting)}else for(var t in this.tableData)for(var e in this.tableCells)this.tableData[t].dayOfWeek===this.tableCells[e].tablex&&this.tableData[t].timeQuantum===this.tableCells[e].tabley&&(this.tableCells[e].data=this.tableData[t]);for(var t in this.newTableData)for(var e in this.tableCells)this.newTableData[t].timeQuantum===this.tableCells[e].tabley&&this.newTableData[t].tableData.push(this.tableCells[e]);0===this.newTableData.length?this.loadingText="暂无排班~":this.loadingText=""},_selectTabelCell:function(t){var e=this,i=t.data.dateTime;if(!i)return this.$toast("该时间段不在当前预约日期内");if(!this.consultantId)return this.$toast("请先检索咨询师");if(new Date(i).getTime()<(new Date).getTime())return this.$toast("只能选取当天之后的时间");if("addPersonnel"===this.dataType){if(!this.studentId)return this.$toast("请先检索学生");if(t.data.dayTimeTeacher.length>0&&t.data.dayTimeTeacher[0].isReserved)return this.$toast("预约已满")}t.isChecked=!t.isChecked,t.isChecked?this.selectedTabelCells.push(t):this.selectedTabelCells.forEach(function(i,a){i.tablex===t.tablex&&i.tabley===t.tabley&&e.selectedTabelCells.splice(a,1)}),this.$emit("selectTabelCell",this.selectedTabelCells)},_editConsultant:function(t,e){if("check"!==this.tableType&&"disabled"!==e&&!this.reservedPeopleVisible){var i=t.data.dateTime;return i?new Date(i).getTime()<(new Date).getTime()?this.$toast("只能选取当天之后的时间"):void this.$emit("editConsultant",t):this.$toast("该时间段不在当前预约日期内")}},_showReservation:function(t){t.studentUserId&&this.$emit("showReservation",t)},_isTableCellFull:function(t){return!!t.data&&(!!t.data.dayTimeTeacher&&(t.data.dayTimeTeacher.length>0&&t.data.dayTimeTeacher[0].isReserved))},changeDate:function(t){var e=this,i=window.event||t;setTimeout(function(){e.$date({dateFormat:"yyyy-MM-dd",value:e.curSelectedDate||"",type:"init",event:i,onSelect:function(t){e._daySelectedOfValue({value:t})}})},100)},_daySelectedOfValue:function(t){this.curSelectedDate=t.value,this.dateOfday=[],this.setDate(this._parserDate(t.value))},_parserDate:function(t){var e=Date.parse(t);return isNaN(e)?new Date:new Date(Date.parse(t.replace(/-/g,"/")))},lastWeek:function(){this.dateOfday=[],this.setDate(this.addDate(this.currentFirstDate,-7))},nextWeek:function(){this.dateOfday=[],this.setDate(this.addDate(this.currentFirstDate,7))},addDate:function(t,e){return t.setDate(t.getDate()+e),t},setDate:function(t){var e=t.getDay()-1;t=this.addDate(t,-1*e),this.currentFirstDate=new Date(t);for(var i=0;i<this.weekData.length;i++){var a=this.getWeekDay(0==i?t:this.addDate(t,1),i);a<10&&(a="0"+a),this.dateOfday.push(a)}this.weekStartTime&&this.weekEndTime&&this.$emit("getWeekTime",{weekStartTime:this.weekStartTime,weekEndTime:this.weekEndTime,dateStart:this.dateStart,dateEnd:this.dateEnd})},_getTableCellBg:function(t){var e=[];if(t.data&&t.data.timeSetting){var i=t.data.timeSetting.timeQuantumStart.split(":")[0];parseInt(i)<12&&t.data.dayTimeTeacher.length>0&&e.push("morning-bg-color"),parseInt(i)>=12&&t.data.dayTimeTeacher.length>0&&e.push("afternoon-bg-color")}if(t.data&&t.data.dayTimeTeacher&&t.data.dayTimeTeacher.length){var a=!0,s=!1,o=void 0;try{for(var r,l=n()(t.data.dayTimeTeacher);!(a=(r=l.next()).done);a=!0){if(!r.value.isVisual)break}}catch(t){s=!0,o=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw o}}}return e},changeReservedPeopleVisibility:function(){this.reservedPeopleVisible=!this.reservedPeopleVisible,this.$emit("reservedPeopleVisibilityChange",this.reservedPeopleVisible)},getWeekDay:function(t,e){var i=t.getDate();if(0===e||6===e){var a=t.getFullYear(),n=t.getMonth()+1;n<=9&&(n="0"+n);var s=t.getDate();s<=9&&(s="0"+s),0===e?(this.weekStartTime=a+"年"+n+"月"+s+"日",this.dateStart=a+"-"+n+"-"+s):(this.weekEndTime=a+"年"+n+"月"+s+"日",this.dateEnd=a+"-"+n+"-"+s)}return i}}}),r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"reserveTable"}},[i("div",{staticClass:"table-header"},[t._t("header-select"),t._v(" "),t.isShowDateOfDay?i("div",{staticClass:"week"},[i("div",{staticClass:"week-lable"},[t._v("周")]),t._v(" "),i("div",{staticClass:"week-select"},[i("i",{staticClass:"glyphicon glyphicon-menu-left week-before-icon",on:{click:t.lastWeek}}),t._v(" "),i("i",{staticClass:"maticon week-icon",domProps:{innerHTML:t._s(t.icons("event"))},on:{click:function(e){return t.changeDate(e)}}},[t._v("event")]),t._v(" "),i("i",{staticClass:"glyphicon glyphicon-menu-right week-after-icon",on:{click:t.nextWeek}})])]):t._e(),t._v(" "),i("div",{staticClass:"actions"},[t.enableShowReservedPeople?i("button",{staticClass:"btn table-btn clearBtnBorder",attrs:{type:"button"},on:{click:t.changeReservedPeopleVisibility}},[t._v("\n        "+t._s(t.reservedPeopleVisible?"切换到排班视图":"切换到人员视图")+"\n      ")]):t._e()])],2),t._v(" "),i("div",{staticClass:"table-body"},[t._t("body-slot"),t._v(" "),i("div",{staticClass:"table-content"},[i("div",{staticClass:"table-top"},[t.isShowDateOfDay?i("div",{staticClass:"table-date"},[i("div",{staticClass:"table-left-time"},[t._v("日期")]),t._v(" "),t._l(t.dateOfday,function(e,a){return i("div",{key:a,staticClass:"date-day"},[t._v(t._s(e))])})],2):t._e(),t._v(" "),i("div",{staticClass:"table-date"},[i("div",{staticClass:"table-left-time"},[t._v("时间段")]),t._v(" "),t._l(t.weekData,function(e,a){return i("div",{key:a},[t._v(t._s(e))])})],2)]),t._v(" "),t.newTableData.length>0?i("GeminiScrollbar",{staticClass:"table-srcoll",attrs:{scrollX:!1}},t._l(t.newTableData,function(e,a){return"add"===t.tableType?i("div",{key:a,staticClass:"table-info"},[i("div",{staticClass:"table-time"},[t._v(t._s(e.timeQuantum))]),t._v(" "),t._l(e.tableData,function(e,a){return i("div",{key:a,staticClass:"name-container black-font-color can-click",class:[e.isChecked?"selected-bg-color":"",t._isTableCellFull(e)?"full-bg-color":"",0==Object.keys(e.data).length?"disabled":""],on:{click:function(i){return t._selectTabelCell(e)}}},[e.data&&e.data.dayTimeTeacher&&0===e.data.dayTimeTeacher.length?i("div",{staticClass:"one-name"}):e.data&&e.data.dayTimeTeacher&&1===e.data.dayTimeTeacher.length?i("div",{staticClass:"one-name"},t._l(e.data.dayTimeTeacher,function(e,a){return i("div",{key:a,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}),0):e.data&&e.data.dayTimeTeacher&&2===e.data.dayTimeTeacher.length?i("div",{staticClass:"two-name"},t._l(e.data.dayTimeTeacher,function(e,a){return i("div",{key:a,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}),0):i("div",{staticClass:"other-name"},t._l(e.data.dayTimeTeacher,function(e,a){return i("div",{key:a,attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}),0)])})],2):i("div",{staticClass:"table-info"},[i("div",{staticClass:"table-time"},[t._v(t._s(e.timeQuantum))]),t._v(" "),t._l(e.tableData,function(e,a){return e.data&&e.data.id?i("div",{key:a,staticClass:"name-container black-font-color",class:t._getTableCellBg(e).concat(["check"===t.tableType?"":"can-click"],[0==Object.keys(e.data).length?"disabled":""]),on:{click:function(i){return t._editConsultant(e,"click")}}},[t.reservedPeopleVisible?i("GeminiScrollbar",{staticStyle:{height:"100%"},attrs:{scrollX:!1}},t._l(e.data.dayTimeTeacher,function(e,a){return i("div",{key:a,staticClass:"teacher-student-name",class:{"is-reserved":!!e.studentUserId},on:{click:function(i){return t._showReservation(e)}}},[i("span",{attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))]),t._v(" "),i("span",{attrs:{title:e.studentName||"-"}},[t._v(t._s(e.studentName||""))])])}),0):i("div",[e.data&&e.data.dayTimeTeacher&&0===e.data.dayTimeTeacher.length?i("div",{staticClass:"one-name"}):e.data&&e.data.dayTimeTeacher&&1===e.data.dayTimeTeacher.length?i("div",{staticClass:"one-name"},t._l(e.data.dayTimeTeacher,function(e,a){return i("div",{key:a,class:{isVisual:!e.isVisual},attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}),0):e.data&&e.data.dayTimeTeacher&&2===e.data.dayTimeTeacher.length?i("div",{staticClass:"two-name"},t._l(e.data.dayTimeTeacher,function(e,a){return i("div",{key:a,class:{isVisual:!e.isVisual},attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}),0):i("div",{staticClass:"other-name"},t._l(e.data.dayTimeTeacher,function(e,a){return i("div",{key:a,class:{isVisual:!e.isVisual},attrs:{title:e.user.teacherBaseInfo.name}},[t._v(t._s(e.user.teacherBaseInfo.name))])}),0)])],1):i("div",{staticClass:"name-container white-font-color",on:{click:function(i){return t._editConsultant(e,"disabled")}}},[i("div",{staticClass:"other-name"})])})],2)}),0):i("div",{staticClass:"loading"},[t._v(t._s(t.loadingText))]),t._v(" "),i("div",{staticClass:"clear"})],1)],2)])},staticRenderFns:[]};var l=i("C7Lr")(o,r,!1,function(t){i("TETH")},null,null);e.a=l.exports},EBaK:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADMklEQVR4Xu1bT28SURCf2cUKvZSTZ2OitB6UnhtrNX4foVQ/g5FWiF/Akx+jsa3Go4GYCNGLHwE9FCTsjtmtkJf6eDuzYSmU2Svz3rz97fz9zQNhxR9c8feHCQBbh+dNAnw4L0CC0K/+eLnWivSV6n8eoBe+nZduAGp3a+vPI30TADaP+icI8Hheh6AQnnRfFE4ifVuH/V1AOJ2XbgD42KkVdhUAtQB1AY0BGgTHkdedBbBKIcUpS/R41MQpqdXMAvfe9B/5BGe2vQnoC4RYE+mNgpuHZQBqWNcRnHUOCnHGY1mAeVjJQVygCtLgcadWeCbRG8lu1vt76MGHKetkaVABMIqW2w0q5mlgrRiDkf9rXN3FX8FRXKW1gLuvh2U/F2zYvuwA8+2fVexlagEu0yKA026tsMeJK2kB4IKamQsoAI7gohagLqAx4PoHwTgN+UHTloaQqNU5WK9kmQVi4gajKu//Jwj8yjgNZ5YFJBUZN2UlECJaCWopfNW9ABC1CC5KTMmDSGUALFq7PKO8dnWDANQjwLZE74UsFad1oiDtBuXKk1cISuHkzeQSsm5Qvn/yCgVAaXGdC+hgZKEmQ3GJi4E1ZSWHNLnEIJdvjdmbO69oY80fbMt3SbciIL83Lpl1OpwOw+uzamIBLrIxi9c1CUwJ0co9C3dP1lyAq1QiZxZCEp6Rq4O7pwLAIS+4qEvk1AKMUphrrhKAuXuqC6gL/EPAyd8BtSEFIQJEZUS0zvHMGOAkWkP4Fubovc38kfzf3f2bX22/cclblgtkPR12+Xapcb7jhfjJyioBfO7WCjuS2HBZVgHgxAC1ACNlxb7lBdarJwjUTjMYWSoX4ObX6KW4gxEFwIHAwgXBZbGAuBscDewzRBshwjXXZQEgs+GoApDBFZksgmBmFsD1ravOApkBICk7uXFlqSxgJQEICSvoyS9LY0hNmHKdxSyvXQQmjW7c8vzhvr0Zwu8QwjtrpzjLy9KSr86VnQUlVqr3n3oeHHN1GnKLNR6XpFbzZRUAtQB1AY0BMwuCrhuYKaJs4hLzVieXwLy86f2j4XYIdnLGfQDLX2cTT3xNBVb+fsBfnfxBjFFU32MAAAAASUVORK5CYII="},EVdu:function(t,e,i){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var a=new ArrayBuffer(0);try{e.blob=0===new Blob([a],{type:"application/zip"}).size}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(a),e.blob=0===n.getBlob("application/zip").size}catch(t){e.blob=!1}}}try{e.nodestream=!!i("C6sy").Readable}catch(t){e.nodestream=!1}}).call(e,i("NfRg").Buffer)},EoEJ:function(t,e,i){"use strict";var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"act-toast"},[e("img",{attrs:{src:i("f+SA")("./"+this.imgUrl+".png"),alt:""}}),this._v(" "),e("span",[this._v(this._s(this.title))])])},staticRenderFns:[]};var n=i("C7Lr")({props:{imgUrl:{default:""},title:{default:"成功！"}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},a,!1,function(t){i("qqyD")},"data-v-12888028",null);e.a=n.exports},Esja:function(t,e,i){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},"FDR+":function(t,e,i){"use strict";var a=i("RyAT"),n=i("/Dyk"),s=i("PObU"),o=i("1+29"),r=i("uezc"),l=function(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};l.prototype={internalStream:function(t){var e=null,i="string";try{if(!t)throw new Error("No output type specified.");var n="string"===(i=t.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),e=this._decompressWorker();var o=!this._dataBinary;o&&!n&&(e=e.pipe(new s.Utf8EncodeWorker)),!o&&n&&(e=e.pipe(new s.Utf8DecodeWorker))}catch(t){(e=new r("error")).error(t)}return new a(e,i,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof o&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new s.Utf8EncodeWorker)),o.createWorkerFrom(i,t,e)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof r?this._data:new n(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)l.prototype[c[d]]=u;t.exports=l},FEOm:function(t,e,i){"use strict";i("kV13");var a=i("HJbL"),n=(a.a,Array,{components:{VIcon:a.a},props:{moreAddress:!0,locations:{type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){},computed:{},methods:{addLocation:function(){this.locations.push({address:"请选择地图中的地点作为中心点",radius:500,lat:0,lng:0,init:!1,showMap:!0})},deleteLocation:function(t){this.locations.splice(t,1)},initQrCodeLocation:function(t){var e=this.locations[t.target.$attrs["data-index"]];e.lat||(e.lat=t.lat,e.lng=t.lng)},radiusChange:function(t){},selectQrCodeLocation:function(t){var e=this.locations[t.target.$attrs["data-index"]];e.address=t.address,e.lat=t.location.lat,e.lng=t.location.lng,e.init=!0}}}),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"locations"},[t._l(t.locations,function(e,a){return i("div",{key:a,staticClass:"location"},[i("div",{staticClass:"title"},[i("v-icon",{attrs:{name:e.showMap?"expand_more":"chevron_right"},nativeOn:{click:function(t){e.showMap=!e.showMap}}}),t._v(" "),i("span",[t._v("地点"+t._s(a+1)+"："+t._s(e.address))]),t._v(" "),i("span",{staticClass:"radius"},[t._v("范围：")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.radius,expression:"location.radius"}],staticClass:"form-control",staticStyle:{padding:"0 5px !important"},attrs:{type:"text"},domProps:{value:e.radius},on:{change:t.radiusChange,input:function(i){i.target.composing||t.$set(e,"radius",i.target.value)}}}),t._v(" "),i("span",[t._v("米")]),t._v(" "),i("v-icon",{staticClass:"delete",attrs:{name:"delete",title:"删除此地点"},nativeOn:{click:function(e){return t.deleteLocation(a)}}})],1),t._v(" "),i("v-map",{directives:[{name:"show",rawName:"v-show",value:e.showMap,expression:"location.showMap"}],staticClass:"map",attrs:{center:{lat:e.lat,lng:e.lng},search:!0,location:!0,searchText:"请输入地名设置中心点",radius:e.radius,"data-index":a},on:{markerClick:t.selectQrCodeLocation,getLocation:t.initQrCodeLocation}})],1)}),t._v(" "),t.moreAddress||t.locations.length<1?i("div",{staticClass:"action-add-location",on:{click:t.addLocation}},[i("v-icon",{attrs:{name:"add"}}),t._v("\n    添加地点\n  ")],1):t._e()],2)},staticRenderFns:[]};var o=i("C7Lr")(n,s,!1,function(t){i("wc+N")},null,null);e.a=o.exports},"Fz+m":function(t,e){},G1RR:function(t,e,i){"use strict";i("68u/"),i("YXeK");var a=i("EA6R"),n=i.n(a),s=i("lC5x"),o=i.n(s),r=i("J0Oq"),l=i.n(r),c=i("713C"),u=i("V/it"),d=i("B/WJ"),p=i("WD6V"),h=i("Se9A"),m=i("N9Ox"),_=i("XfSg"),f=(i("p+qa"),i("MVd6")),v=i("DkpT"),g=(Boolean,Boolean,Object,Number,Boolean,Boolean,String,Boolean,Boolean,Boolean,h.a,m.a,c.a,u.a,d.a,p.a,{props:{isManager:Boolean,isUnit:Boolean,ojf:Object,ojfUnitApplyId:Number,showOplog:Boolean,edit:Boolean,from:String,hideStatus:Boolean,hideOplog:Boolean,onlyLook:Boolean},components:{ModuleContainer:h.a,ModuleLoader:m.a,UnitInfo:c.a,PositionsInfo:u.a,RecruitmentInfo:d.a,Oplog:p.a},data:function(){return{UnitApplyAuditStatus:v.a,UnitApplyAuditStatusLabel:v.b,loading:!0,ojfUnitApply:new f.b,ojfUnitApplyTemp:null,showOpLogs:this.showOplog||!1,passedInfoEditing:!1,savingPassedInfo:!1,shouldRefreshTable:!1,managerUnitApplyRules:{desc:{readonly:!0}},opLogDataUrl:"/api/employment/manage/networkMeeting/getOperationDetailList?participantId="+this.ojfUnitApplyId}},computed:{auditStatusLabelType:function(){return v.d[this.ojfUnitApply.status]},canEditApplyInfo:function(){return!!this.passedInfoEditing||(this.isManager?this.ojfUnitApply.status===v.a.AUDITING:!!this.isUnit&&[v.a.COUNTERMAND,v.a.REJECT].includes(this.ojfUnitApply.status))},canAuditing:function(){return this.isManager&&this.ojfUnitApply.status===v.a.AUDITING},auditReasonVisiable:function(){return[v.a.FAILED,v.a.REJECT].includes(this.ojfUnitApply.status)},canEditPassedInfo:function(){return this.isManager&&this.ojfUnitApply.status===v.a.PASSED&&this.edit}},created:function(){var t=this;return l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initOjf();case 2:return e.next=4,t.initOjfUnitApply();case 4:t.loading=!1;case 5:case"end":return e.stop()}},e,t)}))()},methods:{initOjf:function(){var t=this;return l()(o.a.mark(function e(){var i,a,n,s,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ojf.initialized){e.next=2;break}return e.abrupt("return");case 2:return i=_.a.get,t.onlyLook&&(i=_.a.getPublic),e.next=6,i(t.ojf.id);case 6:a=e.sent,n=a.state,s=a.message,r=a.data,n?t.ojf=f.a.fromApi(r):t.$toast(s);case 11:case"end":return e.stop()}},e,t)}))()},initOjfUnitApply:function(){var t=this;return l()(o.a.mark(function e(){var i,a,n,s,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=_.a.getOjfUnitApplyById,t.onlyLook&&(i=_.a.getPublicOjfUnitApplyById),e.next=4,i(t.ojfUnitApplyId);case 4:a=e.sent,n=a.state,s=a.message,r=a.data,n?(t.ojfUnitApply=f.b.fromApi(r),t.ojfUnitApply.ojf=t.ojf):t.$toast(s);case 9:case"end":return e.stop()}},e,t)}))()},resubmitApply:function(){var t=this;return l()(o.a.mark(function e(){var i,a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.apply(t.ojfUnitApply);case 2:i=e.sent,a=i.state,n=i.message,i.data,a?(t.$toast("重新提交成功"),t.ojfUnitApply.status=v.a.AUDITING,t.shouldRefreshTable=!0):t.$toast(n);case 7:case"end":return e.stop()}},e,t)}))()},countermandApply:function(){var t=this;return l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.a.confirm("确认撤回申请?").then(l()(o.a.mark(function e(){var i,a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.countermand(t.ojfUnitApply.id);case 2:i=e.sent,a=i.state,n=i.message,i.data,a?(t.ojfUnitApply.status=v.a.COUNTERMAND,t.shouldRefreshTable=!0,t.$toast("撤回成功")):t.$toast(n);case 7:case"end":return e.stop()}},e,t)})));case 1:case"end":return e.stop()}},e,t)}))()},rejectApply:function(){var t=this;return l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.a.prompt("请填写驳回意见","驳回").then(function(){var e=l()(o.a.mark(function e(i){var a,n,s,r=i.value;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.reject(t.ojfUnitApply.id,r);case 2:a=e.sent,n=a.state,s=a.message,a.data,n?(t.ojfUnitApply.status=v.a.REJECT,t.ojfUnitApply.auditReason=r,t.shouldRefreshTable=!0,t.$toast("驳回成功")):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},disagreeApply:function(){var t=this;return l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.a.prompt("请填写不通过意见","不通过").then(function(){var e=l()(o.a.mark(function e(i){var a,s,r,l=i.value;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.disagree(t.ojfUnitApply.id,l);case 2:a=e.sent,s=a.state,r=a.message,a.data,s?(t.ojfUnitApply.status=v.a.FAILED,t.ojfUnitApply.auditReason=l,t.shouldRefreshTable=!0,n.a.confirm("不通过成功，是否返回审核列表?").then(function(){t.back()})):t.$toast(r);case 7:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},agreeApply:function(){var t=this;return l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.a.confirm("确认同意该申请?").then(l()(o.a.mark(function e(){var i,a,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.agree(t.ojfUnitApply);case 2:i=e.sent,a=i.state,s=i.message,i.data,a?(t.ojfUnitApply.status=v.a.PASSED,t.shouldRefreshTable=!0,n.a.confirm("操作成功，是否返回审核列表?").then(function(){t.back()})):t.$toast(s);case 7:case"end":return e.stop()}},e,t)})));case 1:case"end":return e.stop()}},e,t)}))()},toEditPassedInfo:function(){this.passedInfoEditing=!0},cancelEditPassedInfo:function(){var t=this;return l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.initOjfUnitApply();case 3:t.loading=!1,t.passedInfoEditing=!1;case 5:case"end":return e.stop()}},e,t)}))()},saveEditPassedInfo:function(){var t=this;return l()(o.a.mark(function e(){var i,a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.savingPassedInfo=!0,e.next=3,_.a.upsertOjfUnitApply(t.ojfUnitApply);case 3:if(i=e.sent,a=i.state,n=i.message,i.data,t.savingPassedInfo=!1,!a){e.next=17;break}return t.$toast("更新成功"),t.loading=!0,e.next=13,t.initOjfUnitApply();case 13:t.loading=!1,t.passedInfoEditing=!1,e.next=18;break;case 17:t.$toast(n);case 18:case"end":return e.stop()}},e,t)}))()},back:function(){this.$emit("back",{refresh:this.shouldRefreshTable,tableName:"auditList",from:this.from})}}}),y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"module-container"},[i("el-button",{staticStyle:{color:"#666"},attrs:{type:"text",icon:"el-icon-back"},on:{click:t.back}},[t._v("返回")])],1),t._v(" "),i("div",{staticClass:"page-title-status"},[t.hideStatus?t._e():i("p",[i("span",{staticClass:"title"},[t._v("审核状态：")]),i("el-tag",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:t.auditStatusLabelType,effect:"dark"}},[t._v(t._s(t.UnitApplyAuditStatusLabel[this.ojfUnitApply.status]))])],1),t._v(" "),t.auditReasonVisiable?i("p",[i("span",{staticClass:"title"},[t._v("审核意见：")]),i("span",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[t._v(t._s(this.ojfUnitApply.auditReason))])]):t._e(),t._v(" "),i("p",[i("span",{staticClass:"title"},[t._v("网招会名称：")]),i("span",[t._v(t._s(t.ojf.name))])]),t._v(" "),i("div",{staticClass:"operations-container-action"},[t.canEditPassedInfo&&!t.passedInfoEditing?i("el-button",{attrs:{type:"text"},on:{click:t.toEditPassedInfo}},[t._v("编辑")]):t._e(),t._v(" "),t.passedInfoEditing?i("el-button",{attrs:{type:"text"},on:{click:t.cancelEditPassedInfo}},[t._v("取消编辑")]):t._e(),t._v(" "),t.hideOplog?t._e():i("el-button",{attrs:{type:"text"},on:{click:function(e){t.showOpLogs=!t.showOpLogs}}},[t._v("操作日志")])],1)]),t._v(" "),t.loading?i("module-loader",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]}):i("div",{staticClass:"module-container"},[i("unit-info",{attrs:{edit:t.canEditApplyInfo,rules:t.isManager?t.managerUnitApplyRules:{}},model:{value:t.ojfUnitApply,callback:function(e){t.ojfUnitApply=e},expression:"ojfUnitApply"}}),t._v(" "),i("positions-info",{attrs:{edit:t.canEditApplyInfo},model:{value:t.ojfUnitApply.positions,callback:function(e){t.$set(t.ojfUnitApply,"positions",e)},expression:"ojfUnitApply.positions"}}),t._v(" "),i("recruitment-info",{attrs:{edit:t.canEditApplyInfo},model:{value:t.ojfUnitApply.recruitment,callback:function(e){t.$set(t.ojfUnitApply,"recruitment",e)},expression:"ojfUnitApply.recruitment"}}),t._v(" "),t.isUnit?i("module-container",{staticClass:"audit-actions",attrs:{actions:""}},[[t.UnitApplyAuditStatus.COUNTERMAND,t.UnitApplyAuditStatus.REJECT].includes(t.ojfUnitApply.status)?i("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.resubmitApply}},[t._v("重新提交")]):t._e(),t._v(" "),t.ojfUnitApply.status===t.UnitApplyAuditStatus.AUDITING?i("el-button",{attrs:{type:"danger",plain:"",size:"large"},on:{click:t.countermandApply}},[t._v("撤回")]):t._e()],1):t._e(),t._v(" "),t.isManager&&t.ojfUnitApply.status===t.UnitApplyAuditStatus.AUDITING?i("module-container",{staticClass:"audit-actions",attrs:{actions:""}},[i("el-button",{attrs:{type:"danger",plain:"",size:"large"},on:{click:t.rejectApply}},[t._v("驳回")]),t._v(" "),i("el-button",{attrs:{size:"large"},on:{click:t.disagreeApply}},[t._v("不通过")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.agreeApply}},[t._v("通过")])],1):t._e(),t._v(" "),t.passedInfoEditing?i("module-container",{attrs:{actions:""}},[i("el-button",{attrs:{size:"large"},on:{click:t.cancelEditPassedInfo}},[t._v("取消")]),t._v(" "),i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.savingPassedInfo,expression:"savingPassedInfo"}],attrs:{type:"primary",size:"large"},on:{click:t.saveEditPassedInfo}},[t._v("保存")])],1):t._e(),t._v(" "),t.hideOplog?t._e():i("div",{staticClass:"operations-container",class:{show:t.showOpLogs}},[t.showOpLogs?i("oplog",{attrs:{dataUrl:t.opLogDataUrl}}):t._e()],1)],1)],1)},staticRenderFns:[]};var b=i("C7Lr")(g,y,!1,function(t){i("KXA3")},"data-v-60896c42",null);e.a=b.exports},GHBH:function(t,e){},Gme2:function(t,e,i){"use strict";var a=i("C331"),n={name:"EmSearch",componentName:"EmSearch",data:function(){return{keyWord:"",showInput:!1,loading:!1,searchResult:[],showResult:!1,options:[],result:""}},methods:{searchCancle:function(){this.keyWord="",this.showInput=!1,this.showResult=!1},show:function(){},toDetails:function(t){var e=this;if(this.$nextTick(function(){e.showOrHideUserDropdown(),e.searchCancle()}),t.type.indexOf("POSITION")>=0)this.$emit("toSomePage",{path:"/positionDetails",props:{id:t.id,positionFrom:t.module,from:"index",rootPath:"index"}});else switch(t.type){case"RECRUITMENT":this.$emit("toSomePage",{path:"/recruit2Index",props:{recruitId:t.id,curTab:"recruitment",from:"index",rootPath:"index"}});break;case"DOUBLE_CHOOSE":this.$emit("toSomePage",{path:"/student/doubleChooseWill/detail",props:{id:t.id,curTab:"recruitment"}});break;case"NETWORK_MEETING":this.$emit("toSomePage",{path:"/student/onlineJobFair/detail",props:{id:t.id,curTab:"recruitment",from:"index"}});break;case"PREACH_MEETING":this.$emit("toSomePage",{path:"/student/techin/detail",props:{id:t.id,curTab:"recruitment",from:"index"}})}},search:function(){var t=this;this.loading=!0,this.options=[];var e="/api/employment/platform/searchAllByKeyWord?keyWord="+this.keyWord;Object(a.e)({url:e,type:"get",success:function(e){e.state?(t.loading=!1,e.data&&(t.options=e.data)):setTimeout(function(){t.options=[],t.options=e.data},200)}})},focus:function(){var t=this;this.showInput=!0,this.showResult=!0,this.$nextTick(function(){t.$refs.searchContent.focus()})},showOrHideUserDropdown:function(){this.showResult=!1},searching:function(){var t=this;setTimeout(function(){t.loading=!1},100)}},watch:{keyWord:function(){this.search()},showResult:function(t){var e=this;t||this.$nextTick(function(){e.showInput=!1,e.keyWord=""})}},created:function(){}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["searchBox",t.showInput?"visibilityShow":"visibilityHide"]},[a("div",{staticClass:"searchContent"},[a("i",{class:["closeIcon",t.showInput?"visibilityShow":"visibilityHide"],on:{click:t.searchCancle}}),t._v(" "),a("el-input",{ref:"searchContent",class:{visibilityShow:!!t.showInput,visibilityHide:!t.showInput},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}}),t._v(" "),a("i",{staticClass:"searchIcon",on:{click:t.focus}})],1),t._v(" "),a("div",{class:["searchResult",t.showInput?"visibilityShow":"visibilityHide"]},[a("ul",[a("img",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{src:i("+OQL"),alt:""}}),t._v(" "),t._l(t.options,function(e,i){return t.options.length?a("li",{key:i,attrs:{id:e.id,url:e.detailUrl},on:{click:function(i){return t.toDetails(e)}}},[a("a",{domProps:{innerHTML:t._s(e.fitContent)}})]):t._e()}),t._v(" "),0!=t.options.length||t.loading?t._e():a("p",[t._v("暂无搜索结果")])],2)]),t._v(" "),t.showResult?a("div",{staticClass:"em-user__dropdown-mask",on:{click:function(e){return t.showOrHideUserDropdown()}}}):t._e()])},staticRenderFns:[]};var o=i("C7Lr")(n,s,!1,function(t){i("6dK9"),i("JqGb")},"data-v-61fdab98",null).exports,r=(Object,{name:"EmHeader",componentName:"EmHeader",props:{platIn:{default:!1},title:{type:Object,default:function(){return{name:"就业管理系统",url:"/",logo:""}}}},data:function(){return{activeIndex:"-5",navgationList:[],webTitle:{name:"就业管理系统"},showSearch:!1}},created:function(){var t=this,e=window.location.href;e&&e.indexOf("index")>=0&&(this.showSearch=!0),Object(a.e)({url:"/api/cms/navigation/getNavigationList?systemId=298164f6766b42c990dc2a05f02c1d41",success:function(e){e.state&&(t.navgationList=e.data)}}).always(function(){}),Object(a.e)({url:"/api/employment/platform/getSchoolInfo",async:!1,success:function(e){if(e.state){sessionStorage.setItem("schoolId",e.data.id);var i={name:e.data&&e.data.name+"就业管理系统"||"就业管理系统",url:"/",logo:""};t.webTitle=i,document.title=i.name}}}).always(function(){document.title="就业管理系统"})},components:{EmSearch:o},methods:{toModulePage:function(t){if("/employment/index"==this.$router.currentRoute.path){switch(t){case"/recruitmentInfoApply":this.$emit("toSomePage",{path:"/recruitmentInfoApply",recruitId:null,props:{curTab:"recruitment",id:null}});break;case"/techinList2Index":this.$emit("toSomePage",{path:"/techinList2Index",props:{curTab:"careerTalk"}});break;case"/student/doubleChooseWill/list":this.$emit("toSomePage",{path:"/student/doubleChooseWill/list",props:{curTab:"jobFairOnsite"}});break;case"/student/onlineJobFair/list":this.$emit("toSomePage",{path:"/student/onlineJobFair/list",props:{curTab:"jobFairOnline"}})}if(t.indexOf("/contentManageIndex")>-1){var e=t.split(",")[1];this.$emit("toSomePage",{path:"/contentManageIndex",props:{curTab:"careerTalk",parentId:e}})}if(t.indexOf("/student/doubleChooseWill/detail")>-1){var i=t.split(",")[1];this.$emit("toSomePage",{path:"/student/doubleChooseWill/detail",props:{id:i,curTab:"jobFairOnsite"}})}if(t.indexOf("/student/onlineJobFair/detail")>-1){var a=t.split(",")[1];this.$emit("toSomePage",{path:"/student/onlineJobFair/detail",props:{id:a,curTab:"jobFairOnline"}})}if(t.indexOf("/student/techin/detail")>-1){var n=t.split(",")[1];this.$emit("toSomePage",{path:"/student/techin/detail",props:{id:n,curTab:"careerTalk",from:"index"}})}if(t.indexOf("/recruit2Index")>-1){var s=t.split(",")[1];this.$emit("toSomePage",{path:"/recruit2Index",props:{recruitId:s,curTab:"recruitment",from:"index",rootPath:"index"}})}if(t.indexOf("/student/content/detail")>-1){var o=t.split(",")[1];this.$emit("toSomePage",{path:"/student/content/detail",props:{id:o,curTab:"careerTalk",from:"index"}})}}else this.$router.push({path:"/employment/index",query:{from:t}})},handleSelect:function(t,e){},toIndex:function(){this.platIn?this.$emit("backToIndex","/index"):this.$router.push("/employment/index")}}}),l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"em-header__container"},[i("div",{staticClass:"em-header__main"},[i("div",{staticClass:"em-header__title",on:{click:t.toIndex}},[t._t("title",[t.webTitle&&t.webTitle.logo?i("img",{attrs:{src:t.webTitle&&t.webTitle.logo}}):t._e(),t._v(" "),i("span",[t._v(t._s(t.webTitle&&t.webTitle.name||"就业管理系统"))])])],2),t._v(" "),i("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},t._l(t.navgationList,function(e,a){return e.sonNavigationList?i("el-submenu",{key:a,attrs:{index:a+1}},[i("template",{slot:"title"},[t._v(t._s(e.title))]),t._v(" "),t._l(e.sonNavigationList,function(e,a){return i("el-menu-item",{key:a,attrs:{index:a+1+"-"+(a+1)}},[1==e.newWindow?i("a",{staticStyle:{"text-decoration":"none"},attrs:{href:e.url,target:"_blank"}},[t._v(t._s(e.title))]):i("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:void(0)"},on:{click:function(i){return t.toModulePage(e.url)}}},[t._v(t._s(e.title))])])})],2):t._e()}),1),t._v(" "),i("div",{staticClass:"em-header_search"},[t.showSearch?i("Em-search",t._g(t._b({},"Em-search",t.$attrs,!1),t.$listeners)):t._e()],1),t._v(" "),i("div",{staticClass:"em-header__nav"},[t._t("top-nav")],2)],1)])},staticRenderFns:[]};var c=i("C7Lr")(r,l,!1,function(t){i("KaeW"),i("0qmq")},"data-v-12456344",null);e.a=c.exports},GwEi:function(t,e,i){"use strict";var a=i("jCtM"),n=i("p+qa"),s={props:["loginType","defaultInfo"],data:function(){return{unitForm:{companyName:"",contactPeople:"",email:"",contactPhone:""},unitList:[],status:"",unitInfo:{},unitFormRules:{companyName:[{required:!0,message:"请选择公司",trigger:"change"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确格式的邮箱",trigger:"blur"}],contactPhone:[{required:!0,message:"请输入联系人电话",trigger:"blur"},{validator:function(t,e,i){if(!e)return i(new Error("手机号不能为空"));if(!/^1[3|4|5|7|8][0-9]\d{8}$/.test(e))return i(new Error("请输入正确的手机号"));i()},message:"请输入正确格式的手机号码",trigger:"blur"}],contactPeople:[{required:!0,message:"请输入联系人",trigger:"blur"}]}}},methods:{catchUnitInfo:function(){var t=this;Object(a.e)().then(function(e){e&&(t.unitInfo=e,t.unitForm.companyId=e.id,t.unitForm.contactPeople=e.contactPeople,t.unitForm.contactPhone=e.contactPhone,t.unitForm.email=e.mailAddress)})},catchUnitList:function(){var t=this;Object(n.p)().then(function(e){e.state&&(t.unitList=e.data)})},unitChange:function(t){var e=this;Object(a.e)(t).then(function(t){window.sessionStorage.setItem("addPosition_unitId",t.id),t&&(e.unitInfo=t,e.unitForm.companyId=t.id,e.unitForm.contactPeople=t.contactPeople,e.unitForm.contactPhone=t.contactPhone,e.unitForm.email=t.mailAddress,e.$refs.unitInfoForm.validate())})},vali:function(){var t=!1;return this.$refs.unitInfoForm.validate(function(e){e?t=e:Object(n.a)(300,20)}),t},setDefaultInfo:function(){this.unitInfo=this.defaultInfo,this.unitInfo.scaleName=this.defaultInfo.scale,this.unitInfo.propertyName=this.defaultInfo.property;var t=this.defaultInfo;this.defaultInfo&&(this.status=this.defaultInfo.status,this.unitForm={contactPeople:t.contactPeople,email:t.email,contactPhone:t.contactPhone},"COMPANY"==this.loginType.loginType?this.unitForm.companyName=t.companyName:(this.unitForm.companyName=t.companyName,this.unitForm.companyId=t.id))}},created:function(){"COMPANY"==this.loginType.loginType?this.catchUnitInfo():this.catchUnitList(),this.defaultInfo&&this.setDefaultInfo()}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"unitInfo"}},[t._m(0),t._v(" "),i("div",{staticClass:"unitForm"},[i("el-form",{ref:"unitInfoForm",attrs:{model:t.unitForm,rules:t.unitFormRules,"label-width":"150px"}},[i("div",{staticClass:"inline"},["COMPANY"==t.loginType.loginType?i("el-form-item",{attrs:{label:"单位名称："}},[i("span",[t._v(t._s(t.unitInfo.companyName))])]):i("el-form-item",{attrs:{label:"单位名称：",prop:"companyName"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"0"==t.status,placeholder:"请选择或输入公司名称",filterable:""},on:{change:t.unitChange},model:{value:t.unitForm.companyName,callback:function(e){t.$set(t.unitForm,"companyName",e)},expression:"unitForm.companyName"}},t._l(t.unitList,function(t,e){return i("el-option",{key:e,attrs:{label:t.companyName,value:t.id}})}),1)],1),t._v(" "),i("el-form-item",{staticClass:"pull-right",attrs:{label:"单位性质："}},[i("span",[t._v(t._s(t.unitInfo.propertyName))])])],1),t._v(" "),i("div",{staticClass:"inline"},[i("el-form-item",{attrs:{label:"单位联系人：",prop:"contactPeople"}},[i("el-input",{model:{value:t.unitForm.contactPeople,callback:function(e){t.$set(t.unitForm,"contactPeople",e)},expression:"unitForm.contactPeople"}})],1),t._v(" "),i("el-form-item",{staticClass:"pull-right",attrs:{label:"单位规模："}},[i("span",[t._v(t._s(t.unitInfo.scaleName))])])],1),t._v(" "),i("div",{staticClass:"inline"},[i("el-form-item",{attrs:{label:"电话：",prop:"contactPhone"}},[i("el-input",{model:{value:t.unitForm.contactPhone,callback:function(e){t.$set(t.unitForm,"contactPhone",e)},expression:"unitForm.contactPhone"}})],1),t._v(" "),i("el-form-item",{staticClass:"pull-right",attrs:{label:"邮箱：",prop:"email"}},[i("el-input",{model:{value:t.unitForm.email,callback:function(e){t.$set(t.unitForm,"email",e)},expression:"unitForm.email"}})],1)],1),t._v(" "),i("el-form-item",{staticClass:"w100",attrs:{label:"单位地址："}},[i("span",[t._v(t._s(t.unitInfo.addressDetail))])]),t._v(" "),i("el-form-item",{staticClass:"w100",attrs:{label:"单位简介："}},[i("span",{domProps:{innerHTML:t._s(t.unitInfo.summary)}})])],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title clearfix"},[e("h1",[e("span",[e("em"),e("i",[this._v("单位信息")])])])])}]};var r=i("C7Lr")(s,o,!1,function(t){i("q1YX"),i("2FIc")},"data-v-1ecf6247",null);e.a=r.exports},HDIR:function(t,e,i){"use strict";(function(t){var e=i("rVsN"),a=(i.n(e),i("a3Yh")),n=(i.n(a),i("TD+U"));i.n(n),i("C331"),i("b62r")}).call(e,i("qqHy"))},HJbL:function(t,e,i){"use strict";String;var a={props:{name:String}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("i",{staticClass:"maticon"},[this._v(this._s(this.name))])},staticRenderFns:[]},s=i("C7Lr")(a,n,!1,null,null,null);e.a=s.exports},Ioml:function(t,e,i){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=i("Y9KO"),s=i("fUz/"),o=i("uezc"),r=a?"uint8array":"array";function l(t,e){o.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}e.magic="\b\0",s.inherits(l,o),l.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(r,t.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e.compressWorker=function(t){return new l("Deflate",t)},e.uncompressWorker=function(){return new l("Inflate",{})}},Iu39:function(t,e){},IwLe:function(t,e,i){"use strict";var a=i("lC5x"),n=i.n(a),s=i("J0Oq"),o=i.n(s),r=i("2IYH"),l=i("zR28"),c=i("Se9A"),u=(Boolean,Boolean,Object,r.a,l.a,c.a,{props:{inline:Boolean,edit:Boolean,rules:{type:Object,default:{}}},mixins:[r.a,l.a],components:{ModuleContainer:c.a},data:function(){return{formRules:{name:[{required:!0,message:"请输入双选会名称",trigger:"blur"},{min:2,max:60,message:"长度在2到60个汉字",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],timeRange:[{required:!0,message:"请选择双选会起止时间",trigger:"blur"}],applyTimeRange:[{required:!0,message:"请选择申请起止时间",trigger:"blur"}]},editorConfig:{autoHeightEnabled:!0,wordCount:!1,autoFloatEnabled:!1,toolbars:[["source","undo","redo","bold","italic","underline","strikethrough","fontborder","subscript","superscript","formatmatch","removeformat","time","date","horizontal"],["paragraph","fontfamily","fontsize","justifyleft","justifyright","justifycenter","justifyjustify","forecolor","backcolor","insertorderedlist","insertunorderedlist","lineheight","rowspacingtop","rowspacingbottom"],["insertimage","attachment","link","emotion","spechars","imagenone","imageleft","imageright","autotypeset","snapscreen","preview","print","fullscreen","background","insertcode","directionalityltr","directionalityrtl","customstyle","template"]]}}},methods:{validate:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$refs.form.validate());case 1:case"end":return e.stop()}},e,t)}))()}}}),d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("module-container",{attrs:{title:"基本信息",inline:t.inline}},[t.edit?i("el-form",{ref:"form",attrs:{model:t.form,rules:t.formRules}},[i("el-form-item",{attrs:{label:"双选会名称",prop:"name"}},[i("el-input",{attrs:{placeholder:"请输入双选会名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"双选会时间",prop:"timeRange"}},[i("el-date-picker",{attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm","range-separator":"到","start-placeholder":"开始时间","end-placeholder":"结束时间","picker-options":t.timeRangePickerOptions},model:{value:t.form.timeRange,callback:function(e){t.$set(t.form,"timeRange",e)},expression:"form.timeRange"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"双选会地点",prop:"address"}},[i("el-input",{attrs:{placeholder:"请输入双选会地点"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"申请时间",prop:"applyTimeRange"}},[i("el-date-picker",{attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm","range-separator":"到","start-placeholder":"开始时间","end-placeholder":"结束时间","picker-options":t.applyTimeRangePickerOptions},model:{value:t.form.applyTimeRange,callback:function(e){t.$set(t.form,"applyTimeRange",e)},expression:"form.applyTimeRange"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"简介"}},[i("u-editor",{ref:"descEditor",attrs:{config:t.editorConfig},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1)],1):i("el-form",{attrs:{model:t.form,size:"small"}},[t.rules.name&&t.rules.name.hidden?t._e():i("el-form-item",{attrs:{label:"双选会名称"}},[i("p",[t._v(t._s(t.form.name))])]),t._v(" "),i("el-form-item",{attrs:{label:"双选会时间"}},[i("p",[t._v(t._s(t.form.timeRange.map(function(t){return new Date(t).format("yyyy-MM-dd HH:mm")}).join(" ~ ")))])]),t._v(" "),i("el-form-item",{attrs:{label:"双选会地点"}},[i("p",[t._v(t._s(t.form.address))])]),t._v(" "),t.rules.applyTime&&t.rules.applyTime.hidden?t._e():i("el-form-item",{attrs:{label:"申请时间"}},[i("p",[t._v(t._s(t.form.applyTimeRange.map(function(t){return new Date(t).format("yyyy-MM-dd HH:mm")}).join(" ~ ")))])]),t._v(" "),i("el-form-item",{attrs:{label:"简介"}},[i("p",{domProps:{innerHTML:t._s(t.form.desc)}})])],1)],1)},staticRenderFns:[]},p=i("C7Lr")(u,d,!1,null,null,null);e.a=p.exports},J0Oq:function(t,e,i){"use strict";e.__esModule=!0;var a,n=i("rVsN"),s=(a=n)&&a.__esModule?a:{default:a};e.default=function(t){return function(){var e=t.apply(this,arguments);return new s.default(function(t,i){return function a(n,o){try{var r=e[n](o),l=r.value}catch(t){return void i(t)}if(!r.done)return s.default.resolve(l).then(function(t){a("next",t)},function(t){a("throw",t)});t(l)}("next")})}}},JUJb:function(t,e,i){"use strict";var a=i("rVsN"),n=i.n(a),s=i("C331");e.a={data:function(){return{statusUrl:"/api/async/exports/exportStatus/",exportCode:""}},methods:{exportFile:function(t,e,i){var a=this;return new n.a(function(n,o){a.$waiting.show({text:"正在导出...(导出时间跟学生数量相关，请耐心等待)",container:"body"}),Object(s.d)(t,e,i).then(function(t){if(t.state){a.exportCode=t.data;var e=a;!function t(){Object(s.d)(e.statusUrl+e.exportCode).then(function(i){e.$waiting.close();var a="";i.data&&i.data.fileName?(clearTimeout(a),n(i)):i.data?(i.data.count?e.$waiting.show({text:"正在导出...("+parseInt(i.data.hadSearchCount/i.data.count*100)+"%)",container:"body"}):e.$waiting.show({text:"正在导出...("+parseInt(i.data.hadSearchCount/100*100)+"%)",container:"body"}),a=setTimeout(t,2e3)):(e.$toast(i.message),clearTimeout(a),o(i))})}()}else a.$waiting.close()})})}}}},JqGb:function(t,e){},KH7x:function(t,e,i){"use strict";e.__esModule=!0;var a=s(i("MGgt")),n=s(i("HzJ8"));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,a.default)(Object(t)))return function(t,e){var i=[],a=!0,s=!1,o=void 0;try{for(var r,l=(0,n.default)(t);!(a=(r=l.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw o}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},KU9P:function(t,e){},KXA3:function(t,e){},KaeW:function(t,e){},KutU:function(t,e){},LGxb:function(t,e,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},LNiB:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__=__webpack_require__("HzJ8"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__=__webpack_require__("ZLEe"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__=__webpack_require__("3cXf"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_3_vue__=__webpack_require__("kV13"),__WEBPACK_IMPORTED_MODULE_4_jquery__=__webpack_require__("qqHy"),__WEBPACK_IMPORTED_MODULE_4_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_jquery__),__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__=__webpack_require__("C331"),__WEBPACK_IMPORTED_MODULE_6__computed__=__webpack_require__("6s1/"),__WEBPACK_IMPORTED_MODULE_7__mixins_advancedSearch2_js__=__webpack_require__("/LmD"),_unused_webpack_default_export={mixins:[__WEBPACK_IMPORTED_MODULE_7__mixins_advancedSearch2_js__.a],inject:{windowObj:{default:null}},props:{departmentId:{default:null},student:{default:null},appId:{default:null},formId:{default:null},initWay:{default:"create"},app:{default:null},businessId:{default:null},infoSetting:{default:null}},components:{computed:__WEBPACK_IMPORTED_MODULE_6__computed__.a},created:function(){var t=this,e=localStorage.getItem("lang");Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.g)(e)&&(this.lang=e),this.pageStamp=Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)(),this.layoutSetting.scrollContainer="#formSetPage"+this.pageStamp+" .form-part .cells-div",this.title!==this.app||this.app.name,this.formSetting.leftSideData.base.forEach(function(e){e.title=t.translate.fieldTypeList[e.componentType],t._initWigt(e)}),this.formSetting.leftSideData.table.forEach(function(e){e.title=t.translate.fieldTypeList[e.componentType],t._initWigt(e)}),this.formSetting.leftSideData.nameCard.forEach(function(e){e.title=t.translate.fieldTypeList[e.componentType],t._initWigt(e)}),this.formSetting.triggers.eventsList.forEach(function(e){e.name=t.translate.eventsList[e.id]}),this._getSettingData(),this.infoSetting?(Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/information/columns/"+this.infoSetting.type,type:"get",success:function(e){e.state&&e.data&&e.data.length>0&&(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.info=e.data)}}),this.personalInfoSetting.infoLayoutUrl="/api/information/infoSettings/init/"+this.infoSetting.type,this._getPersonalInfoOf(this.infoSetting.tabs&&this.infoSetting.tabs[0])):this._getFormInfo()},data:function(){return{appearConfig:!1,appearRoleId:!1,nameCardTypeRoleIdArr:[],dataCenterArray:[{value:1,label:"是的"}],actionPartStatus:!1,showAddMemberModal:!1,showComputedModal:!1,computedProperties:"",controlList:[{name:"控件1",value:1,id:"kj1"},{name:"控件2",value:2,id:"kj2"},{name:"控件3",value:3,id:"kj3"},{name:"控件4",value:4,id:"kj4"},{name:"控件5",value:5,id:"kj5"},{name:"控件6",value:6,id:"kj6"}],newFenlei:"",setPreview:!1,pageStamp:"",title:"",formSetting:{leftSideControl:{showFavorWigt:!1,showFormWigt:!1,showInfoWigt:!1,showSysWigt:!1,showFormName:"",showSysName:""},nameCardItemInitial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]}],leftSideData:{base:[{title:"输入框",top:0,left:0,w:3,h:1,componentType:"input"},{title:"下拉单选框",top:0,left:0,w:3,h:1,componentType:"select"},{title:"单选框",top:0,left:0,w:3,h:1,componentType:"radio"},{title:"复选框",top:0,left:0,w:3,h:1,componentType:"checkbox"},{title:"数字框",top:0,left:0,w:3,h:1,componentType:"number"},{title:"日期",top:0,left:0,w:3,h:1,componentType:"datetime"},{title:"文本",top:0,left:0,w:3,h:1,componentType:"label"},{title:"图片",top:0,left:0,w:3,h:2,componentType:"image"},{title:"电子签名",top:0,left:0,w:3,h:2,componentType:"signature"},{title:"定位",top:0,left:0,w:6,h:3,componentType:"map"},{title:"附件",top:0,left:0,w:3,h:2,componentType:"attachment"},{title:"分割线",top:0,left:0,w:12,h:1,componentType:"splitLine"},{title:"省、地、市(县)",top:0,left:0,w:6,h:1,componentType:"address"},{title:"表格(下方区域配置表格字段)",top:0,left:0,w:12,h:1,componentType:"table"},{title:"名片(下方区域配置名片字段)",top:0,left:0,w:6,h:3,componentType:"nameCard"}],table:[{title:"输入框",componentType:"input"},{title:"下拉单选框",componentType:"select"},{title:"单选框",componentType:"radio"},{title:"复选框",componentType:"checkbox"},{title:"数字框",componentType:"number"},{title:"日期",componentType:"datetime"}],nameCard:[{title:"输入框",componentType:"input"},{title:"日期",componentType:"datetime"}],info:[],favor:[],form:[],sys:[]},attributesShow:{nameCardItem:{initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]}]},input:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","rows","joinStatistics","joinTableCompare"],verification:["regexExpression","errorPrompt","maxLength","minLength"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},number:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","precision"],verification:["maxValue","minValue"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]},{id:"computed",name:"计算结果"}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},datetime:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","dateFormat","joinStatistics"],verification:["maxDate","minDate"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},radio:{xResizable:!0,yResizable:!0,basic:["exportable","options","autoSelect","joinStatistics"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},checkbox:{xResizable:!0,yResizable:!0,basic:["exportable","options","autoSelect","joinStatistics"],verification:["maxSelect","minSelect"],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},select:{xResizable:!0,yResizable:!1,basic:["exportable","options","autoSelect","joinStatistics","joinTableCompare"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},address:{xResizable:!1,yResizable:!1,basic:["exportable","joinStatistics"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"systemValue",name:"系统值",attributes:["dataField"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},table:{xResizable:!1,yResizable:!1,collector:[{type:"bool",id:"flag"},{type:"select",id:"dataSet"},{type:"bool",id:"coverTable"}],basic:["exportable","autoNumber","checkable","importable"],initial:[{id:"systemValue",name:"系统值",attributes:["dataSet"]}],events:!0},nameCard:{xResizable:!1,yResizable:!1,basic:["nameCardType","nameCardTypeRoleId"],initial:[{id:"systemValue",name:"系统值",attributes:["dataSet"]}],events:!0},label:{xResizable:!0,yResizable:!0,basic:["content"],style:["borderTop","borderBottom","color"]},splitLine:{xResizable:!1,yResizable:!1,style:["color"]},image:{xResizable:!0,yResizable:!0,collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],basic:["exportable","image"],initial:[{id:"systemValue",name:"系统值",attributes:["dataField"]}],events:!0,conditions:[{id:"!=",name:"已上传",data:"value"},{id:"=",name:"未上传",data:"value"}],verification:["fileFormat","fileSize","minWidth","minHeight","maxWidth","maxHeight"]},signature:{xResizable:!0,yResizable:!0,basic:["exportable"]},map:{xResizable:!0,yResizable:!0,basic:["exportable","map"],conditions:[{id:"inRange",name:"在定位范围内"},{id:"notInRange",name:"不在定位范围内"}],events:!0},attachment:{xResizable:!0,yResizable:!0,verification:["fileMaxNumber","fileFormat","fileSize"]}},attributes:{nameCardType:{type:"select",data:[{id:"CLASS_COMMITTEE",name:"对应班委"},{id:"INSTRUCTOR",name:"对应辅导员"},{id:"SCHOOL",name:"对应学校"},{id:"COLLEGE",name:"对应院系"},{id:"TUTOR",name:"对应导师"},{id:"PART_BUILD_ORGANIZATION",name:"对应党组织关系"},{id:"VOLUNTEERS",name:"对应志愿者"}]},nameCardTypeRoleId:{type:"select",data:[{id:1,name:"班长"},{id:2,name:"班主任"},{id:3,name:"团支部书记"},{id:4,name:"学校委员"},{id:5,name:"劳动委员"}]},placeholder:{type:"text"},rows:{type:"number",min:1},options:{type:"options"},autoSelect:{type:"bool"},precision:{type:"number",min:0},dateFormat:{type:"select",data:[{id:"yyyy-MM-dd",name:"yyyy-MM-dd"},{id:"yyyyMMdd",name:"yyyyMMdd"},{id:"yyyy-MM-dd hh:ii:ss",name:"yyyy-MM-dd hh:ii:ss"},{id:"yyyy-MM",name:"yyyy-MM"},{id:"yyyy年MM月dd日 hh:ii:ss",name:"yyyy年MM月dd日 hh:ii:ss"},{id:"yyyy年MM月dd日",name:"yyyy年MM月dd日"},{id:"yyyy年MM月",name:"yyyy年MM月"}]},autoNumber:{type:"bool"},checkable:{type:"bool"},joinTableCompare:{type:"bool"},joinStatistics:{type:"bool"},exportable:{type:"bool"},importable:{type:"bool"},content:{type:"richText"},color:{type:"color"},borderBottom:{type:"bool"},borderTop:{type:"bool"},regexExpression:{type:"text"},errorPrompt:{type:"text"},maxWidth:{type:"number"},maxHeight:{type:"number"},minWidth:{type:"number"},minHeight:{type:"number"},maxLength:{type:"number",min:0},minLength:{type:"number",min:0},maxSelect:{type:"number",min:1},minSelect:{type:"number",min:1},maxValue:{type:"number",min:0},minValue:{type:"number",min:0},maxDate:{type:"datetime"},minDate:{type:"datetime"},fileFormatImage:{type:"multi",required:!0,data:[{id:".jpg",name:".jpg"},{id:".png",name:".png"},{id:".gif",name:".gif"},{id:".bmp",name:".bmp"}]},fileFormat:{type:"multi",required:!0,data:[{id:".txt",name:".txt"},{id:".doc",name:".doc"},{id:".docx",name:".docx"},{id:".wps",name:".wps"},{id:".pdf",name:".pdf"},{id:".ppt",name:".ppt"},{id:".pptx",name:".pptx"},{id:".xls",name:".xls"},{id:".xlsx",name:".xlsx"},{id:".rar",name:".rar"},{id:".zip",name:".zip"},{id:".png",name:".png"},{id:".jpg",name:".jpg"},{id:".jpeg",name:".jpeg"},{id:".gif",name:".gif"},{id:".bmp",name:".bmp"},{id:".lrc",name:".lrc"},{id:".rm",name:".rm"},{id:".rmvb",name:".rmvb"},{id:".mp3",name:".mp3"},{id:".mp4",name:".mp4"},{id:".wma",name:".wma"},{id:".wav",name:".wav"},{id:".avi",name:".avi"},{id:".wfs",name:".wfs"}]},fileMaxNumber:{type:"number",min:1},fileSize:{type:"select",data:[{id:51200,name:"50MB"},{id:10240,name:"10MB"},{id:5120,name:"5MB"},{id:2048,name:"2MB"},{id:1024,name:"1MB"}]},map:{type:"map"},image:{type:"image"}},triggers:{eventsList:[{id:"FOCUS",name:"获取焦点"},{id:"BLUR",name:"失去焦点"},{id:"CHANGE",name:"值改变"}],actionsList:[{name:"showComponent",properties:{field:[]}},{name:"hideComponent",properties:{field:[]}},{name:"setText"},{name:"triggerEvent"},{name:"script"}],conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},triggerNotAllowWigt:["table","label","attachment","splitLine","signature"],actionNotAllowSetWigt:["table","attachment","splitLine","signature"],methodsList:[{id:"get",name:"GET"},{id:"post",name:"POST"},{id:"delete",name:"DELETE"},{id:"put",name:"PUT"},{id:"patch",name:"PATCH"}],richTextConfig:{toolbars:[["source","undo","redo","500","italic","underline","strikethrough","forecolor","backcolor","lineheight","fontfamily","fontsize","indent","justifyleft","justifycenter","justifyright","justifyjustify","link","unlink","horizontal","date","time","spechars","attachment"]],initialFrameHeight:280},editorShow:!1,mapShow:!1,originalSettingStr:""},layoutSetting:{transition:!0,scriptShow:!1,margin:[8,6,8,6],cellsLines:100,cellLineHeight:86,cellWidth:62,cellHeight:65,draggableX:0,draggableY:0,timer:null,timer2:null,delay:300,scrollContainer:""},globalCollector:{show:!1,valueTypeOptions:[{value:"COMPONENT",label:"关联组件"},{value:"FIXED",label:"固定值"}],collectors:[]},searching:!1,searchingText:"",containerDom:null,scaleTarget:null,scaleData:{_startX:0,_startY:0},dragTarget:null,dragData:{show:!1,title:"输入框",top:0,left:0,w:3,h:1,x:0,y:0},dragType:"",cellsDom:null,wigtDataArr:[],code:"",curTarget:null,optionsShow:!1,optionsway:"",urlAddr:"",newOptStr:"",dataSetOptions:[],dataFieldOptions:[],dictionaryOptions:[],initialTime:"currentTime",newNameStr:"",newValueStr:"",newCaseNameStr:"",eventShow:"",curCase:null,oldCase:null,curAction:null,showFieldEvents:!1,showFieldValue:"",triggerSetTextField:null,newObj:{},newObj2:{},preview:!1,formModel:!1,isClick:!1,wigtDataArrHistory:[],historyIndex:0,isRedoOrBack:!1,reviseFromId:"",reviseRemark:null,personalInfoSetting:{curInfoId:"",infoIndexJson:{},oldIndexJsonStr:{},infoLayoutUrl:"",changedIds:[]},tabStyleParam:{scrollDeltaX:300,duration:.5},tabShow:!1,lang:"zh-cn"}},computed:{translateI:function(){return Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.g)(this.lang).infoManage},checkOperationFun:function checkOperationFun(){var status=!0,str=this.curCase.operationFun;try{var indexArr=this.getNumInFun(str);indexArr.forEach(function(o){var reg="/\\$\\{"+o+"\\}/g";str=str.replace(eval(reg),o+" ")}),eval(str)}catch(t){status=!1}return status},formatterFunToHtml:function formatterFunToHtml(){var str=this.curCase.operationFun;if(str){var indexArr=this.getNumInFun(str);return indexArr.forEach(function(o){var reg="/\\$\\{"+o+"\\}/g";str=str.replace(eval(reg),'<div class="number_ball">'+o+"</div>")}),str=str.replace(/\&\&/g,'<div class="operation">AND</div>'),str=str.replace(/\|\|/g,'<div class="operation">OR</div>'),str=str.replace(/\!/g,'<div class="operation">NOT</div>'),str=str.replace(/\(/g,'<div class="operation">(</div>'),str=str.replace(/\)/g,'<div class="operation">)</div>'),str}},cellsArray:function(){for(var t=[],e=0;e<this.layoutSetting.cellsLines;e++){for(var i=[],a=0;a<12;a++)i.push("");t.push(i)}return t},singularDataSetOptions:function(){var t=[];return this.dataSetOptions.forEach(function(e){e.multiple||t.push(e)}),t},multipleDataSetOptions:function(){var t=[];return this.dataSetOptions.forEach(function(e){e.multiple&&t.push(e)}),t},singularWidgets:function(){var t=[];return this.wigtDataArr.forEach(function(e){"table"!==e.componentType&&t.push(e)}),t},multipleWidgets:function(){var t=[];return this.wigtDataArr.forEach(function(e){"table"===e.componentType&&t.push(e)}),t},dataSetId:function(){var t=this,e="";return this.dataSetOptions.forEach(function(i){i.name===t.curTarget.initialization.properties.dataSet&&(e=i.id)}),e},dataSetIdOfCollection:function(){var t=this,e="";return this.dataSetOptions.forEach(function(i){i.name===t.curTarget.collector.dataSet&&(e=i.id)}),e},isValid:function(){return this.dragData.x>=0&&this.dragData.y>=0&&12-this.dragData.x>=this.dragData.w},conditionField:function(){var t=this,e={};return this.wigtDataArr.forEach(function(i){i.name===t.curCase.condition.component&&(e=i)}),e},translate:function(){return Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.g)(this.lang).formManage},conditionAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(i){!t.formSetting.triggerNotAllowWigt.indexOf(i.componentType)>=0&&e.push(i)}),e},actionSetValueAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(i){t.formSetting.actionNotAllowSetWigt.indexOf(i.componentType)<0&&e.push(i)}),e},triggerAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(i){t.formSetting.attributesShow[i.componentType].events&&e.push(i)}),e},leftBaseHeight:function(){return 48*Math.ceil(this.formSetting.leftSideData.base.length/2)+70},isChange:function(t){return!!this.formSetting.originalSettingStr&&this.formSetting.originalSettingStr!==__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()({title:this.title,code:this.code,components:this.wigtDataArr})},isChangeOfInfo:function(){if(this.personalInfoSetting.curInfoId&&this.wigtDataArr&&this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]){var t=this.personalInfoSetting.changedIds.indexOf(this.personalInfoSetting.curInfoId);this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]!==__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()({code:this.code,components:this.wigtDataArr})?t<0&&this.personalInfoSetting.changedIds.push(this.personalInfoSetting.curInfoId):t>=0&&this.personalInfoSetting.changedIds.splice(t,1)}return this.personalInfoSetting.changedIds.length>0}},watch:{wigtDataArr:{deep:!0,handler:function(){var t=this;this.infoSetting||(this.isRedoOrBack?this.isRedoOrBack=!1:(this.layoutSetting.timer2&&clearTimeout(this.layoutSetting.timer2),this.layoutSetting.timer2=setTimeout(function(){t.historyIndex<t.wigtDataArrHistory.length&&t.wigtDataArrHistory.splice(t.historyIndex),t.wigtDataArrHistory.push(JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(t.wigtDataArr))),t.historyIndex++},200)))}},windowObj:{deep:!0,handler:function(t){this._pauseTransition(),this._justifyLayoutParam()}}},mounted:function(){var t=this;this.containerDom=document.getElementById("formSetPage"+this.pageStamp),__WEBPACK_IMPORTED_MODULE_4_jquery___default()(""+this.layoutSetting.scrollContainer).on("scroll",function(){t._pauseTransition(),t._justifyLayoutParam()}),__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp).keydown(function(e){if(1==e.ctrlKey){if(83===e.keyCode)return t._saveLayout(),e.preventDefault(),!1;if(90===e.keyCode){if(t.isRedoOrBack=!0,t.historyIndex--,t.historyIndex<=0)return t.historyIndex++,t.isRedoOrBack=!1,!1;t.wigtDataArr=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(t.wigtDataArrHistory[t.historyIndex-1]))}if(89===e.keyCode){if(t.isRedoOrBack=!0,t.historyIndex++,t.historyIndex>t.wigtDataArrHistory.length)return t.historyIndex--,t.isRedoOrBack=!1,!1;t.wigtDataArr=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(t.wigtDataArrHistory[t.historyIndex-1]))}}return!0}),__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp).on("mousewheel",function(e,i){if(__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.target).is(t.layoutSetting.scrollContainer)||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.target).parents(t.layoutSetting.scrollContainer)[0]||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.target).is(".widget-cell")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.target).parents(".widget-cell")[0]){if(__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.target).is(".script-div")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.target).parents(".script-div")[0])return;var a=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.layoutSetting.scrollContainer).scrollTop();__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.layoutSetting.scrollContainer).scrollTop(a+e.originalEvent.deltaY)}}),t._justifyLayoutParam()},methods:{appearConfigIf:function(){this.resetSearchItem(),this.showSearch()},requirePositionRange:function(t){t.properties.basic.positionRangeRequired=!t.properties.basic.positionRangeRequired,this.$forceUpdate()},canUseLocalImg:function(t){t.properties.basic.canNotGetFromAlbum=!t.properties.basic.canNotGetFromAlbum,this.$forceUpdate()},getNumInFun:function(t){var e=[];return function i(){var a=t.substring(t.indexOf("${"),t.indexOf("}")+1);e.push(a),-1!=(t=t.replace(a,"")).indexOf("${")&&i()}(),e.map(function(t){return t.substring(2,t.length-1)})},showActionPart:function(){this.actionPartStatus=!0},hideActionPart:function(){this.actionPartStatus=!1},addNumber:function(t){this.curCase.operationFun+="${"+t+"}"},addOperation:function(t){this.curCase.operationFun+=t},clearOperations:function(){this.curCase.operationFun=""},deleteOperation:function(){var t=this.curCase.operationFun;t=t.substring(t.length-2,t.length-1)===t.substring(t.length-1,t.length)?t.substring(0,t.length-2):"}"===t.substring(t.length-1,t.length)?t.substring(0,t.lastIndexOf("$")):t.substring(0,t.length-1),this.curCase.operationFun=t},deleteCondition:function(t){this.curCase.conditions.splice(t,1)},addcondition:function(){this.curCase.conditions.push({})},getConditionsOptions:function(t){var e={};return this.wigtDataArr.forEach(function(i){i.name===t&&(e=i)}),e.properties?e.properties.basic.options:[]},collectClick:function(){this.layoutSetting.scriptShow?this.$toast("请先返回布局页"):this.globalCollector.show=!this.globalCollector.show},scriptClick:function(){this.globalCollector.show?this.$toast("请先返回布局页"):this.layoutSetting.scriptShow=!this.layoutSetting.scriptShow},daochumoban:function(){this.isChange?alert("请先保存模块设置"):this.formModel=!0},_back:function(){(this.isChange||this.isChangeOfInfo)&&confirm(this.translate.backTip)?this._saveLayout():this.$emit("back")},_gotoRoleSet:function(){this.$emit("gotoRoleSet")},_searchKeyUp:function(t){13===t.keyCode&&(this.searchingText=t.target.value)},_getSettingData:function(){var t=this;Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/document/data/types",type:"get",success:function(e){e.state?t.dataSetOptions=e.data:t.$toast(e.message)}}).always(function(){Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/document/data/types/columns/all",type:"get",success:function(e){e.state?(t.dataFieldOptions=e.data,t.dataFieldOptions.forEach(function(t){t.columnTitle=t.title,t.title=t.title+" ("+t.typeTitle+")",t.columnNameAndTypeName=t.columnName+"+"+t.typeName})):t.$toast(e.message)}}).always(function(){Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/system/dictTypes",type:"get",success:function(e){e.state?t.dictionaryOptions=e.data:t.$toast(e.message)}}).always(function(){Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/system/components",type:"get",success:function(e){e.state?(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.sys=e.data):t.$toast(e.message)}})})})})},_getFormInfo:function(){var t=this;this.departmentId&&Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/departments/"+this.departmentId+"/apps/forms/components",type:"get",success:function(e){e.state?(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.form=e.data):t.$toast(e.message)}});var e=this.formId?"/api/apps/settings/forms/"+this.formId:"";"edit"===this.initWay?e=this.businessId?"/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/formSetting":"/api/apps/"+this.appId+"/settings/forms":this.title=this.app.name,e&&(this.$waiting.show(),Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:e,type:"get",success:function(e){e.state?e.data&&("edit"===t.initWay&&(t.title=e.data.name,t.reviseFromId=e.data.fromId,t.reviseRemark=e.data.remark),setTimeout(function(){t._pageClick(),t._componentsProcess(e.data),t.formSetting.originalSettingStr=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()({title:t.title,code:t.code,components:t.wigtDataArr})},300)):t.$toast(e.message)}}).always(function(){setTimeout(function(){t.$waiting.close()},300)}))},_componentsProcess:function(t){var e=this;t.components.forEach(function(t,i){t.location&&(e.$set(t,"x",parseInt(t.location.left)),e.$set(t,"y",parseInt(t.location.top))),t.size&&(e.$set(t,"w",parseInt(t.size.width)),e.$set(t,"h",parseInt(t.size.height))),e._initWigt(t)}),this.code=t.property?t.property.script:"",t.property&&t.property.collectors&&t.property.collectors.length&&(this.globalCollector.collectors=t.property.collectors.map(function(t){return{dataSet:t.dataSet,fields:t.tableInitializations.map(function(e){return{name:e.fieldName,isKey:t.tableKeys.includes(e.fieldName),valueType:e.mode,value:e.value}})}})),this.wigtDataArr=t.components,this.$nextTick(function(){e._clearEmptyLine()})},_filtArr:function(t,e){var i=[];switch(e){case"datetime":t.forEach(function(t){"Date"==t.dataType&&i.push(t)});break;case"input":t.forEach(function(t){"Date"!=t.dataType&&"Dict"!=t.dataType&&"College"!=t.dataType&&"Class"!=t.dataType&&"Teacher"!=t.dataType&&"Instructor"!=t.dataType&&"String"!=t.dataType&&"Volunteer"!=t.dataType&&"Boolean"!=t.dataType||i.push(t)});break;case"select":t.forEach(function(t){"Dict"!=t.dataType&&"College"!=t.dataType&&"Class"!=t.dataType&&"Boolean"!=t.dataType&&"String"!=t.dataType||i.push(t)});break;case"number":t.forEach(function(t){"Float"==t.dataType&&i.push(t)});break;case"image":t.forEach(function(t){"Image"==t.dataType&&i.push(t)});break;case"address":t.forEach(function(t){"Address"==t.dataType&&i.push(t)});break;default:i=t}return i},_getDataFieldOf:function(t){var e=[];return this.dataFieldOptions.forEach(function(i){i.typeName===t&&e.push(i)}),e},_getFieldOf:function(t){var e="";return this.dataFieldOptions.forEach(function(i){i.typeName===t.dataSet&&i.columnName===t.dataField&&(e=i.columnName+"+"+i.typeName)}),e+""},_getAttributesOfInitialMode:function(t){var e=[];return this.formSetting.attributesShow[t.componentType].initial.forEach(function(i){i.id===t.initialization.mode&&(e=i.attributes||[])}),e},_getFieldValue:function(t){var e=t.fieldName.split("_")[0],i=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(t));return"address"===e?(i.value.province||"")+(i.value.city||"")+(i.value.area||"")||this.translate.empty:i.value||this.translate.empty},_exchangeCollection:function(t){this.curTarget.collector||this.$set(this.curTarget,"collector",{flag:!1,dataSet:"",dataField:""}),this.curTarget.collector[t.id]=!this.curTarget.collector[t.id]},_initWigt:function(t){this.$set(t,"initialization",{mode:t.initialization&&t.initialization.mode||"",dynamic:t.initialization&&t.initialization.dynamic||!1,properties:{fixedValue:t.initialization&&t.initialization.properties&&t.initialization.properties.fixedValue||"",sqlQuery:t.initialization&&t.initialization.properties&&t.initialization.properties.sqlQuery||"",dataField:t.initialization&&t.initialization.properties&&t.initialization.properties.dataField||"",dataSet:t.initialization&&t.initialization.properties&&t.initialization.properties.dataSet||"",url:t.initialization&&t.initialization.properties&&t.initialization.properties.url||"",method:t.initialization&&t.initialization.properties&&t.initialization.properties.method||"",key:t.initialization&&t.initialization.properties&&t.initialization.properties.key||"",functionName:t.initialization&&t.initialization.properties&&t.initialization.properties.functionName||"",className:t.initialization&&t.initialization.properties&&t.initialization.properties.className||"",functionCode:t.initialization&&t.initialization.properties&&t.initialization.properties.functionCode||"",functionHtml:t.initialization&&t.initialization.properties&&t.initialization.properties.functionHtml||"",params:t.initialization&&t.initialization.properties&&t.initialization.properties.params||[],tableFields:t.initialization&&t.initialization.properties&&t.initialization.properties.tableFields||{},nameCardFields:t.initialization&&t.initialization.properties&&t.initialization.properties.nameCardFields||{}}}),this.$set(t,"properties",{basic:{positionRangeRequired:t.properties&&t.properties.basic&&t.properties.basic.positionRangeRequired||!1,canNotGetFromAlbum:t.properties&&t.properties.basic&&t.properties.basic.canNotGetFromAlbum||!1,placeholder:t.properties&&t.properties.basic&&t.properties.basic.placeholder||"",rows:t.properties&&t.properties.basic&&t.properties.basic.rows||1,options:t.properties&&t.properties.basic&&t.properties.basic.options||[],tableFields:t.properties&&t.properties.basic&&t.properties.basic.tableFields||[],searchDTOS:t.properties&&t.properties.basic&&t.properties.basic.searchDTOS||[],nameCardFields:t.properties&&t.properties.basic&&t.properties.basic.nameCardFields||[],precision:t.properties&&t.properties.basic&&t.properties.basic.precision||0,nameCardType:t.properties&&t.properties.basic&&t.properties.basic.nameCardType||null,nameCardTypeRoleId:t.properties&&t.properties.basic&&t.properties.basic.nameCardTypeRoleId||null,dateFormat:t.properties&&t.properties.basic&&t.properties.basic.dateFormat||"yyyy-MM-dd",autoNumber:t.properties&&t.properties.basic&&t.properties.basic.autoNumber||!1,autoSelect:t.properties&&t.properties.basic&&t.properties.basic.autoSelect||!1,checkable:t.properties&&t.properties.basic&&t.properties.basic.checkable||!1,joinStatistics:t.properties&&t.properties.basic&&t.properties.basic.joinStatistics||!1,joinTableCompare:t.properties&&t.properties.basic&&t.properties.basic.joinTableCompare||!1,exportable:!t.properties||!t.properties.basic||0!=t.properties.basic.exportable,importable:!t.properties||!t.properties.basic||0!=t.properties.basic.importable,content:t.properties&&t.properties.basic&&t.properties.basic.content||"",map:t.properties&&t.properties.basic&&t.properties.basic.map||{radius:300,positionRangeRequired:!0,center:{lat:"",lng:""}},image:t.properties&&t.properties.basic&&t.properties.basic.image||{canNotGetFromAlbum:!1}},style:{color:t.properties&&t.properties.style&&t.properties.style.color||"#000000",fontSize:t.properties&&t.properties.style&&t.properties.style.fontSize||"",borderTop:t.properties&&t.properties.style&&t.properties.style.borderTop||!1,borderBottom:t.properties&&t.properties.style&&t.properties.style.borderBottom||!1},verification:{regexExpression:t.properties&&t.properties.verification&&t.properties.verification.regexExpression||"",errorPrompt:t.properties&&t.properties.verification&&t.properties.verification.errorPrompt||"",maxLength:t.properties&&t.properties.verification&&t.properties.verification.maxLength||"",minLength:t.properties&&t.properties.verification&&t.properties.verification.minLength||"",maxSelect:t.properties&&t.properties.verification&&t.properties.verification.maxSelect||"",minSelect:t.properties&&t.properties.verification&&t.properties.verification.minSelect||"",maxValue:t.properties&&t.properties.verification&&t.properties.verification.maxValue||"",minValue:t.properties&&t.properties.verification&&t.properties.verification.minValue||"",maxDate:t.properties&&t.properties.verification&&t.properties.verification.maxDate||"",minDate:t.properties&&t.properties.verification&&t.properties.verification.minDate||"",maxHeight:t.properties&&t.properties.verification&&t.properties.verification.maxHeight||"",maxWidth:t.properties&&t.properties.verification&&t.properties.verification.maxWidth||"",minHeight:t.properties&&t.properties.verification&&t.properties.verification.minHeight||"",minWidth:t.properties&&t.properties.verification&&t.properties.verification.minWidth||"",fileFormat:t.properties&&t.properties.verification&&t.properties.verification.fileFormat&&("string"==typeof t.properties.verification.fileFormat?t.properties.verification.fileFormat:t.properties.verification.fileFormat.join(","))||".txt,.doc,.docx,.wps,.pdf,.ppt,.pptx,.xls,.xlsx,.rar,.zip,.png,.jpg,.jpeg,.gif,.bmp,.lrc,.rm,.rmvb,.mp3,.mp4,.wma,.wav,.avi,.wfs",fileMaxNumber:t.properties&&t.properties.verification&&t.properties.verification.fileMaxNumber||"",fileSize:t.properties&&t.properties.verification&&t.properties.verification.fileSize||10240}}),this.$set(t,"collector",{flag:t.collector&&t.collector.flag||!1,coverTable:t.collector&&t.collector.coverTable||!1,dataSet:t.collector&&t.collector.dataSet||"",dataField:t.collector&&t.collector.dataField||"",tableFields:t.collector&&t.collector.tableFields||{},tableKeys:t.collector&&t.collector.tableKeys||[]}),this.$set(t,"events",[{name:"FOCUS",cases:t.events&&t.events[0]&&t.events[0].cases||[]},{name:"BLUR",cases:t.events&&t.events[1]&&t.events[1].cases||[]},{name:"CHANGE",cases:t.events&&t.events[2]&&t.events[2].cases||[]}])},_searchWigt:function(t){this.searchingText=t.target.value},_showWigtContainer:function(t){for(var e in this.formSetting.leftSideControl)!0===this.formSetting.leftSideControl[e]&&e!==t&&(this.formSetting.leftSideControl[e]=!1);this.formSetting.leftSideControl[t]=!this.formSetting.leftSideControl[t]},_showFormWigt:function(t){this.formSetting.leftSideControl.showFormName=this.formSetting.leftSideControl.showFormName==="form"+t?"":"form"+t},_showInfoWigt:function(t){this.formSetting.leftSideControl.showFormName=this.formSetting.leftSideControl.showFormName==="info"+t?"":"info"+t},_showSysWigt:function(t){this.formSetting.leftSideControl.showSysName=this.formSetting.leftSideControl.showSysName==="sys"+t?"":"sys"+t},_optionsTxtChange:function(t,e,i){var a=e[i];e.splice(i,1),e.indexOf(t.target.value)>=0?(this.$toast("选项已存在列表中"),e.splice(i,0,a)):e.splice(i,0,t.target.value)},_justifyLayoutParam:function(){this.layoutSetting.draggableX=__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .cell").eq(0).offset().left-__WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.containerDom).offset().left,this.layoutSetting.draggableY=__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .cell").eq(0).offset().top-__WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.containerDom).offset().top},_clearEmptyLine:function(){var t=0,e=0;this.wigtDataArr.forEach(function(t){e<t.y+t.h-1&&(e=t.y+t.h-1)});for(var i=0;i<=e;){t=i;for(var a=0;a<this.wigtDataArr.length;a++)if(i>=this.wigtDataArr[a].y&&i<=this.wigtDataArr[a].y+this.wigtDataArr[a].h-1){i+=1;break}if(t===i){var n=!0;if(this.wigtDataArr.forEach(function(e){e.y>t&&(n=!1,e.y=e.y-1)}),n)break;e-=1}}},_testTwoNode:function(t,e){return(t.x+t.w-1>=e.x&&t.x<=e.x||t.x<=e.x+e.w-1&&t.x>=e.x||t.x>=e.x&&t.x+t.w-1<=e.x+e.w-1||t.x<=e.x&&t.x+t.w-1>=e.x+e.w-1)&&(t.y+t.h-1>=e.y&&t.y<=e.y||t.y<=e.y+e.h-1&&t.y>=e.y||t.y>=e.y&&t.y+t.h-1<=e.y+e.h-1||t.y<=e.y&&t.y+t.h-1>=e.y+e.h-1)},_collisionDetect:function(t){var e=this;this.wigtDataArr.forEach(function(i){if(t.name!==i.name){var a=i.y-t.y;(t.x+t.w-1>=i.x&&t.x<=i.x||t.x<=i.x+i.w-1&&t.x>=i.x||t.x>=i.x&&t.x+t.w-1<=i.x+i.w-1||t.x<=i.x&&t.x+t.w-1>=i.x+i.w-1)&&(t.y+t.h-1>=i.y&&t.y<=i.y||t.y<=i.y+i.h-1&&t.y>=i.y||t.y>=i.y&&t.y+t.h-1<=i.y+i.h-1||t.y<=i.y&&t.y+t.h-1>=i.y+i.h-1)&&e.wigtDataArr.forEach(function(e){e.y+e.h-1>=t.y&&e.name!==t.name&&(e.y=e.y+t.h-a)})}}),this.$nextTick(function(){e._clearEmptyLine()})},_mouseDown:function(t){var e=this;t.cancelBubble=!0,this.isClick=!0,this.layoutSetting.timer=setTimeout(function(){e.isClick=!1},300),setTimeout(function(){if(!t.button&&!e.isClick){e._pauseTransition();var i=null;if(__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".drag")?i=t.target:__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".form-label")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".table-item-div .gm-scroll-view")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".nameCard-item-div .gm-scroll-view")?i=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag")[0]:__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".duplicate")&&(i=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag")[0]),i){var a,n;if(i.getAttribute("data-wigt-type")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".duplicate"))for(n in e.dragTarget=document.getElementById("dragDom"),e.dragType="create",a="form"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.form[i.getAttribute("data-formindex")].wigts[i.getAttribute("data-key")])):"info"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.info[i.getAttribute("data-infoindex")].wigts[i.getAttribute("data-key")])):"base"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.base[i.getAttribute("data-key")])):"sys"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.sys[i.getAttribute("data-sysindex")].wigts[i.getAttribute("data-key")])):JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e.wigtDataArr[i.getAttribute("data-key")])))e.dragData[n]=a[n];else{for(n in e.dragTarget=i,e.dragType="move",a=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e.wigtDataArr[i.getAttribute("data-key")])))e.dragData[n]=a[n];__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.dragTarget).addClass("active")}e.dragData.show=!0,e.dragData.top=i.offsetTop,e.dragData.left=i.offsetLeft}}},this.layoutSetting.delay)},_pauseTransition:function(){var t=this;this.layoutSetting.transition=!1,setTimeout(function(){t.layoutSetting.transition=!0},100)},_mouseUp:function(t){var e=this;if(clearTimeout(this.layoutSetting.timer),!t.button&&!this.isClick){if(this.scaleTarget&&this._scaleMouseUp(t),this.dragData.show&&this.dragTarget&&this.isValid){if(__WEBPACK_IMPORTED_MODULE_4_jquery___default()(".cell.active").removeClass("active"),"create"===this.dragType){var i={};for(var a in this.dragData)i[a]=this.dragData[a];i.name=i.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)(),"table"===i.componentType&&i.properties.basic.tableFields.forEach(function(t){t.name=i.componentType+"_"+t.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)()});var n=!1;if(this.wigtDataArr.forEach(function(t){t.name===i.name&&(n=!0)}),n);else{if("nameCard"==i.componentType){var s={title:"姓名",componentType:"input",initialization:{mode:"",dynamic:!1,properties:{fixedValue:"",sqlQuery:"",dataField:"",dataSet:"",url:"",method:"",key:"",functionName:"",className:"",functionCode:"",functionHtml:"",params:[],tableFields:{},nameCardFields:[]}},properties:{basic:{placeholder:"",rows:1,options:[],tableFields:[],nameCardFields:[],precision:0,dateFormat:"yyyy-MM-dd",autoNumber:!1,autoSelect:!1,checkable:!1,joinStatistics:!1,joinTableCompare:!1,exportable:!0,importable:!0,content:"",map:{radius:300,center:{lat:"",lng:""}}},style:{color:"#000000",fontSize:"",borderTop:!1,borderBottom:!1},verification:{regexExpression:"",errorPrompt:"",maxLength:"",minLength:"",maxSelect:"",minSelect:"",maxValue:"",minValue:"",maxDate:"",minDate:"",maxHeight:"",maxWidth:"",minHeight:"",minWidth:"",fileFormat:".txt,.doc,.docx,.wps,.pdf,.ppt,.pptx,.xls,.xlsx,.rar,.zip,.png,.jpg,.jpeg,.gif,.bmp,.lrc,.rm,.rmvb,.mp3,.mp4,.wma,.wav,.avi,.wfs",fileMaxNumber:"",fileSize:10240}},collector:{flag:!1,coverTable:!1,dataSet:"",dataField:"",tableFields:{},tableKeys:[]},events:[{name:"FOCUS",cases:[]},{name:"BLUR",cases:[]},{name:"CHANGE",cases:[]}],name:"nameCard_input_"+(new Date).getTime()};i.properties.basic.nameCardFields.push(s)}this.curTarget=i,this.wigtDataArr.push(i),this._collisionDetect(i)}}else __WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.dragTarget).removeClass("active"),this.wigtDataArr.forEach(function(t){if(t.name===e.dragData.name){for(var i in t)t[i]=e.dragData[i];e._collisionDetect(t)}});this.dragTarget.style.left=this.dragData.x*this.layoutSetting.cellWidth+this.layoutSetting.draggableX+this.layoutSetting.margin[3]+"px",this.dragTarget.style.top=this.dragData.y*this.layoutSetting.cellLineHeight+this.layoutSetting.draggableY+this.layoutSetting.margin[0]+"px"}else if(this.dragTarget&&this.dragTarget.getAttribute("data-key")){var o=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(this.wigtDataArr[this.dragTarget.getAttribute("data-key")]));for(var r in o)this.dragData[r]=o[r];this.dragTarget.style.left=this.dragData.x*this.layoutSetting.cellWidth+this.layoutSetting.draggableX+this.layoutSetting.margin[3]+"px",this.dragTarget.style.top=this.dragData.y*this.layoutSetting.cellLineHeight+this.layoutSetting.draggableY+this.layoutSetting.margin[0]+"px"}this.infoSetting&&(this.dragData.location||this.$set(this.dragData,"location",{}),this.$set(this.dragData.location,"left",this.dragData.x),this.$set(this.dragData.location,"top",this.dragData.y),this.dragData.size||this.$set(this.dragData,"size",{}),this.$set(this.dragData.size,"width",this.dragData.w),this.$set(this.dragData.size,"height",this.dragData.h)),this.dragTarget=null,this.dragData.show=!1,this.dragType=""}},_mouseMove:function(t){if(!t.button&&!this.isClick&&(this.scaleTarget&&this._scaleMouseMove(t),this.dragTarget)){var e,i;if(this.dragData.top=t.pageY-this.dragTarget.offsetHeight/3-__WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.containerDom).offset().top,this.dragData.left=t.pageX-this.dragTarget.offsetWidth/3-__WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.containerDom).offset().left,this.dragTarget.style.top=this.dragData.top+"px",this.dragTarget.style.left=this.dragData.left+"px",e=Math.round((this.dragData.left-this.layoutSetting.draggableX)/this.layoutSetting.cellWidth),i=Math.round((this.dragData.top-this.layoutSetting.draggableY)/this.layoutSetting.cellLineHeight),__WEBPACK_IMPORTED_MODULE_4_jquery___default()(".cell.active").removeClass("active"),this.dragData.x=e,this.dragData.y=i,e>=0&&i>=0&&12-e>=this.dragData.w)for(var a=0;a<this.dragData.h;a++)for(var n=0;n<this.dragData.w;n++)__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .cell .cell[data-x="+(e+n)+"][data-y="+(i+a)+"]").addClass("active")}},_checkNewFenlei:function(){this.$emit("addNewFenlei",this.newFenlei),this.showAddMemberModal=!1,this.newFenlei=""},_showComputedModal:function(){this.showComputedModal=!0;var t=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(".transition.selected").data("key");(t||0==t)&&(this.computedProperties=this.wigtDataArr[t].initialization.properties)},checkCode:function checkCode(funStr){function re(str){var _this16=this,computedTypes=["max","min","avg","sum"];function getComput(t,e){if(t=t.replace(e+"(","").replace(")",""))return"5.5"}var status=!0;if(computedTypes.forEach(function(t){if(-1!==str.indexOf(t)){var e={max:/max\((.+?)\)/g,min:/min\((.+?)\)/g,avg:/avg\((.+?)\)/g,sum:/sum\((.+?)\)/g}[t],i=str.match(e);if(!i)return status=!1;i.forEach(function(e){str=str.replace(e,getComput.call(_this16,e,t))})}}),!status)return this.$toast("公式有误,请检查!"),!1;if(-1!==str.indexOf("table"))return this.$toast("表格控件不允许放在特殊函数外面!"),!1;var index1=str.indexOf("<"),index2=str.indexOf(">");if(index1>=0){var reStr=str.substring(index1,index2+1);str=str.replace(reStr,"5.5")}if(-1!=str.indexOf("<"))return re.call(this,str);try{eval(str)}catch(t){return this.$toast("公式有误,请检查!"),!1}return!0}return re.call(this,funStr)},_setComputed:function(){var t=this.$refs.computed.patchFunctionHtml();if(this.checkCode(t.functionCode)){var e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(".transition.selected").data("key");(e||0==e)&&(this.wigtDataArr[e].initialization.properties.functionCode=t.functionCode.toLowerCase(),this.wigtDataArr[e].initialization.properties.functionHtml=t.functionHtml),this.showComputedModal=!1}},_removeItem:function(t,e,i){this.personalInfoSetting.curInfoId==t.id?confirm("确定删除此分类嘛？")&&(this.$emit("remove",t.id),this.infoSetting.tabs.splice(e,1),this.personalInfoSetting.curInfoId=this.infoSetting.tabs[0].id,this._getPersonalInfoOf(this.infoSetting.tabs[0])):confirm("确定删除此分类嘛？")&&(this.$emit("remove",t.id),this.infoSetting.tabs.splice(e,1)),i.stopPropagation()},_scaleMouseDown:function(t){if(!t.button){this.scaleTarget=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag"),this.scaleTarget.addClass("active");var e=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(this.wigtDataArr[this.scaleTarget.attr("data-key")]));for(var i in e)this.scaleData[i]=e[i];this.scaleData._startX=t.pageX,this.scaleData._startY=t.pageY,__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".vertical-resize")?this.scaleData.way="vertical":this.scaleData.way="horizontal"}},_scaleMouseUp:function(t){var e=this;t.button||(this.scaleTarget.removeClass("active"),this.wigtDataArr.forEach(function(t){if(t.name===e.scaleData.name){for(var i in t)i===("vertical"===e.scaleData.way?"h":"w")?(t[i]=e.scaleData[i]+e.scaleData["d"+i]<=0?1:e.scaleData[i]+e.scaleData["d"+i],"vertical"!==e.scaleData.way&&(t[i]=e.scaleData.x+t[i]>12?12-e.scaleData.x:t[i])):t[i]=e.scaleData[i];e._collisionDetect(t)}}),"vertical"===this.scaleData.way?this.scaleTarget[0].style.height=this.layoutSetting.cellLineHeight*this.scaleData.h-this.layoutSetting.margin[0]-this.layoutSetting.margin[2]-4+"px":this.scaleTarget[0].style.width=this.layoutSetting.cellWidth*this.scaleData.w-this.layoutSetting.margin[1]-this.layoutSetting.margin[3]+"px",this.scaleTarget=null)},_scaleMouseMove:function(t){if(!t.button&&this.scaleTarget){var e=t.pageX,i=t.pageY;"vertical"===this.scaleData.way?(this.scaleTarget[0].style.height=this.layoutSetting.cellLineHeight*this.scaleData.h-this.layoutSetting.margin[0]-this.layoutSetting.margin[2]+(i-this.scaleData._startY)+"px",this.scaleData.dh=Math.round((i-this.scaleData._startY)/this.layoutSetting.cellLineHeight)):(this.scaleTarget[0].style.width=this.layoutSetting.cellWidth*this.scaleData.w-this.layoutSetting.margin[1]-this.layoutSetting.margin[3]+(e-this.scaleData._startX)+"px",this.scaleData.dw=Math.round((e-this.scaleData._startX)/this.layoutSetting.cellWidth))}},_remove:function(t){var e=this;this.wigtDataArr.forEach(function(i,a){e.curTarget&&e.curTarget.name===t.name&&(e.curTarget=null),i.name===t.name&&e.wigtDataArr.splice(a,1)}),this._pauseTransition(),this.$nextTick(function(){e._clearEmptyLine()})},_removeTableItem:function(t,e,i){t.collector&&t.collector.tableFields&&delete t.collector.tableFields[i],t.initialization&&t.initialization.tableFields&&delete t.initialization.tableFields[i];var a=t.collector.tableKeys.indexOf(i);a>=0&&t.collector.tableKeys.splice(a,1),t.properties.basic.tableFields.splice(e,1)},_removeNameCardItem:function(t,e,i){t.collector&&t.collector.nameCardFields&&delete t.collector.nameCardFields[i],t.initialization&&t.initialization.nameCardFields&&delete t.initialization.nameCardFields[i],t.properties.basic.nameCardFields.splice(e,1)},_drag:function(t){t.dataTransfer.setData("data",t.target.getAttribute("data-key"))},_dragover:function(t){__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag").is(".selected")&&t.preventDefault()},_dragoverName:function(t){__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag").is(".selected")&&t.preventDefault()},_drop:function(t){if(__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag").is(".selected")){t.preventDefault();var e=this.formSetting.leftSideData.table[t.dataTransfer.getData("data")],i={};(i=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e))).name="table_"+i.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)();var a=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag").attr("data-key");void 0!==a&&this.wigtDataArr[a].properties.basic.tableFields&&this.wigtDataArr[a].properties.basic.tableFields.push(i)}},_dropName:function(t){if(__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag").is(".selected")){t.preventDefault();var e=this.formSetting.leftSideData.nameCard[t.dataTransfer.getData("data")],i={};(i=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e))).name="nameCard_"+i.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)();var a=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag").attr("data-key");void 0!==a&&this.wigtDataArr[a].properties.basic.nameCardFields&&(this.wigtDataArr[a].properties.basic.nameCardFields.length>=7?this.$toast("不可再添加控件！"):this.wigtDataArr[a].properties.basic.nameCardFields.push(i))}},_pageClick:function(t){this._justifyLayoutParam(),this.curTarget=null},_widgetClick:function(t){t.cancelBubble=!0;var e=null;__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".drag")?e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target):__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".form-label")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".table-item-div .gm-scroll-view")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".nameCard-item-div .gm-scroll-view")?e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag"):__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".table-item")?e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target):__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".nameCard-item")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".nameCard-item-name")?e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target):__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".table-item span")?e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".table-item"):__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".nameCard-item span")?e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".nameCard-item"):__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".nameCard-item-name span")&&(e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".nameCard-item-name")),e&&(e.is(".drag")?this.curTarget=this.wigtDataArr[e.attr("data-key")]:e.is(".table-item")?this.curTarget=this.wigtDataArr[e.attr("data-index")].properties.basic.tableFields[e.attr("data-key")]:(e.is(".nameCard-item")||e.is(".nameCard-item-name"))&&(this.curTarget=this.wigtDataArr[e.attr("data-index")].properties.basic.nameCardFields[e.attr("data-key")]),this.initialTime="currentTime"===this.curTarget.initialization.properties.fixedValue?"currentTime":"defined",this.newNameStr=this.newValueStr="")},_duplicate:function(t){var e={};e=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(t));var i=Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)();if(e.name=e.componentType+"_"+i,"table"===e.componentType){var a=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(e.initialization.properties.tableFields);e.properties.basic.tableFields.forEach(function(t,n){t.name=e.componentType+"_"+t.componentType+"_"+i+n,e.collector.tableFields[e.componentType+"_"+t.componentType+"_"+i+n]=e.collector.tableFields[a[n]],e.initialization.properties.tableFields[e.componentType+"_"+t.componentType+"_"+i+n]=e.initialization.properties.tableFields[a[n]],delete e.initialization.properties.tableFields[a[n]],delete e.collector.tableFields[a[n]]})}this.wigtDataArr.push(e),this._collisionDetect(t)},_attrSelect:function(t){var e=this;if("nameCardType"==t.target.$attrs["data-attr"])if(this.nameCardTypeRoleIdArr=[],"SCHOOL"==t.val){this.appearRoleId=!0;Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/approveRoles?level=SCHOOL&departmentId=1",async:!1,type:"get",success:function(t){t.state?e.nameCardTypeRoleIdArr=t.data:e.$toast(t.message)}})}else if("COLLEGE"==t.val){this.appearRoleId=!0;Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/approveRoles?level=COLLEGE&departmentId=1",async:!1,type:"get",success:function(t){t.state?e.nameCardTypeRoleIdArr=t.data:e.$toast(t.message)}})}else if("CLASS_COMMITTEE"==t.val){this.appearRoleId=!0;Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/relClass/classCommittees",async:!1,type:"get",success:function(t){t.state?e.nameCardTypeRoleIdArr=t.data.map(function(t){var e={};return e.name=t.text,e.id=t.id,e}):e.$toast(t.message)}})}else if("PART_BUILD_ORGANIZATION"==t.val){this.appearRoleId=!0;Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/partyBuild/organizations/personInChargeRole",async:!1,type:"get",success:function(t){t.state?e.nameCardTypeRoleIdArr=t.data:e.$toast(t.message)}})}else this.nameCardTypeRoleIdArr=[],this.appearRoleId=!1;else"nameCardTypeRoleId"==t.target.$attrs["data-attr"]&&(this.curTarget.properties.basic.nameCardTypeRoleId,t.val)},_afterSelectInitMode:function(t){this.curTarget.initialization.mode=t.val,"address"===this.curTarget.componentType?this.$set(this.curTarget.initialization.properties,t.val,{}):this.$set(this.curTarget.initialization.properties,t.val,"")},_afterSelectOfInit:function(t){if("dataField"===t.target.$attrs["data-attr"]){var e=t.value.split("+");this.$set(this.curTarget.initialization.properties,"dataField",e[0]||""),this.$set(this.curTarget.initialization.properties,"dataSet",e[1]||"")}else if("dataSet"===t.target.$attrs["data-attr"])this.$set(this.curTarget.initialization.properties,"dataSet",t.value);else if("fixedValue"===t.target.$attrs["data-attr"]){var i=t.target.$attrs["data-addType"];i&&this.$set(this.curTarget.initialization.properties[t.target.$attrs["data-attr"]],i,t.val)}else t.target.$attrs["data-attr"]&&this.$set(this.curTarget.initialization.properties,t.target.$attrs["data-attr"],t.value)},_afterSelectOfCollector:function(t){if("dataField"===t.target.$attrs["data-attr"]){var e=t.value.split("+");this.$set(this.curTarget.collector,"dataField",e[0]||""),this.$set(this.curTarget.collector,"dataSet",e[1]||"")}else"dataSet"===t.target.$attrs["data-attr"]?this.$set(this.curTarget.collector,"dataSet",t.value):t.target.$attrs["data-attr"]&&this.$set(this.curTarget.collector,t.target.$attrs["data-attr"],t.value)},_afterSelectOfTableInit:function(t,e){this.curTarget.initialization.properties.tableFields||this.$set(this.curTarget.initialization.properties,"tableFields",{}),this.$set(this.curTarget.initialization.properties.tableFields,e.name,t.value)},_afterSelectOfTableCollector:function(t,e){this.curTarget.collector.tableFields||this.$set(this.curTarget.collector,"tableFields",{}),this.$set(this.curTarget.collector.tableFields,e.name,t.value)},_checkTableKeys:function(t){this.curTarget.collector.tableKeys||this.$set(this.curTarget.collector,"tableKeys",[]);var e=this.curTarget.collector.tableKeys.indexOf(t.name);e>=0?this.curTarget.collector.tableKeys.splice(e,1):this.curTarget.collector.tableKeys.push(t.name)},_afterSelectedFields:function(t,e){var i=this,a=t.target.$attrs["data-action"];if("showComponent"===a||"hideComponent"===a)this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,"fields",[]),t.val.split(",").forEach(function(t,e){i.wigtDataArr.forEach(function(e,a){t===e.name&&i.curAction.properties.fields.push({name:t,title:e.title})})});else if("triggerEvent"===a)t.option?(this.showFieldEvents=this.formSetting.attributesShow[t.option.componentType].events&&t.target.values,this.newObj.fieldTitle=t.target.selected,this.newObj.fieldName=t.target.values):(this.newObj.eventsId=t.val,this.newObj.eventName=t.target.selected);else if("setText"===a)if(t.option)this.newObj2.fieldName=this.newObj2.fieldTitle="","address"===t.option.componentType?this.$set(this.newObj2,"value",{}):this.newObj2.value="",this.triggerSetTextField=t.option,this.showFieldValue=t.target.values?t.option.componentType:"",this.newObj2.fieldTitle=t.target.selected,this.newObj2.fieldName=t.target.values;else if("address"!==this.showFieldValue)this.$set(this.newObj2,"value",t.value);else{var n=t.target.$attrs["data-address"];this.newObj2.value||this.$set(this.newObj2,"value",{}),this.$set(this.newObj2.value,n,t.val),"province"===n&&this.newObj2.value&&this.$set(this.newObj2.value,"city","")&&this.$set(this.newObj2.value,"area",""),"city"===n&&this.newObj2.value&&this.$set(this.newObj2.value,"area","")}else if("conditions"===a){var s=t.target.$attrs["data-field"];if(this.$set(e,s,t.val),"component"===s)this.$set(e,s,t.val);else if("operator"===s)this.$set(e,"operator",t.val),this.$set(e,"data",{}),"image"===e.component.split("_")[0]&&this.$set(e.data,"value","");else if("conVal"===s){var o=t.target.$attrs["data-con"];"province"===o&&e.data&&this.$set(e.data,"city","")&&this.$set(e.data,"area",""),"city"===o&&e.data&&this.$set(e.data,"area",""),o&&(e.data||this.$set(e,"data",{}),this.$set(e.data,o,t.val))}}},_addConditionProp:function(t){},_daySelectedOfValue:function(t){"setText"===t.target.$attrs["data-action"]&&this.$set(this.newObj2,"value",t.value)},_initOptions:function(t){var e=this,i="";if("string"==typeof t)i=t;else{if(!t.val)return;i="/api/system/dictTypes/"+t.val+"/dicts"}Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:i,type:"get",success:function(t){t.state?(t.data.forEach(function(t){e.curTarget.properties.basic.options.push(t.label)}),e.optionsShow=!e.optionsShow):e.$toast(t.message)}})},_addOption:function(t){var e=this.newOptStr?this.newOptStr:this.translate.attrName.options+Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)();this.newOptStr="",this.curTarget.properties[t].options.indexOf(e)>=0?this.$toast("选项已存在在列表中"):e?this.curTarget.properties[t].options.push(e):this.$toast("选项不能为空")},_addParam:function(t){var e=this;if(this.newNameStr&&this.newValueStr){var i=!1;this.curTarget.initialization.properties[t].forEach(function(t){t.name===e.newNameStr&&(i=!0)}),i?this.$toast(this.translate.initial.keyExistTip):(this.curTarget.initialization.properties[t].push({name:this.newNameStr,value:this.newValueStr}),this.newNameStr=this.newValueStr="")}else this.$toast(this.translate.initial.keyInValidTip)},_daySelected:function(t){var e=t.target.$attrs["data-type"],i=t.target.$attrs["data-attr"];this.curTarget.properties[e][i]=t.value},_daySelectedOfInit:function(t){this.curTarget.initialization.properties[t.target.$attrs["data-attr"]]=t.value},_daySelectedOfCondition:function(t){this.$set(this.curCase.condition.data,t.target.$attrs["data-attr"],t.value)},_timeFormat:function(t,e){if(!t)return"";var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return e},_fileSizeCheck:function(t){"fileSize"===t&&this.curTarget.properties.verification[t]>this.formSetting.attributes[t].max&&(this.curTarget.properties.verification[t]=this.formSetting.attributes[t].max,this.$toast(this.translate.fileMaxSizeTip+this.formSetting.attributes[t].max+"KB"))},_changeInitTime:function(t){this.initialTime=t,this.curTarget.initialization.properties.fixedValue="currentTime"===t?t:""},_optionsFixed:function(t){var e=[];return t.forEach(function(t){e.push({id:t,name:t})}),e},_addNewCase:function(t){var e={};t.cases||this.$set(t,"cases",[]),this.$set(e,"name",this.newCaseNameStr?this.newCaseNameStr:"用例"+Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)()),this.$set(e,"condition",{}),this.$set(e,"actions",[]),this.$set(e,"triggerInServer",!1),this.$set(e,"order",1),t.cases.push(e),this.actionPartStatus=!1,this._setCase(e)},_setCase:function(t){t.conditions||(this.$set(t,"conditions",[]),this.$set(t,"operationFun","")),this.curCase=t,this.actionPartStatus=!1,this&&(this.oldCase=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(t)))},_addAction:function(t){this.curCase.actions||this.$set(this.curCase,"actions",[]);var e={};this.$set(e,"name",t),this.$set(e,"properties",{}),this.curAction=e,this.curCase.actions.push(e)},_addActionProp:function(){if(this.newObj.fieldName){var t=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(this.newObj));this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,t.fieldName,t)}else this.$toast(this.translate.eventsList.addTip)},_addActionProp2:function(){if(this.newObj2.fieldName){var t=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(this.newObj2));this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,t.fieldName,t)}else this.$toast(this.translate.eventsList.addTip)},_removeAction:function(t){this.curCase.actions.splice(t,1),this.curAction=null},_removeActionProp:function(t){this.$delete(this.curAction.properties,t)},_getFieldArr:function(t){var e=[];return t&&t.forEach(function(t){e.push(t.name)}),e.join(",")},_savecurCase:function(){this.curCase=null,this.curAction=null,this.showFieldValue=""},_cancelSave:function(){for(var t in this.oldCase)this.curCase[t]=this.oldCase[t];this.curAction=null,this.curCase=null,this.showFieldValue=""},_saveLayout:function(){var t=this;this.wigtDataArr.forEach(function(e){t.$set(e,"location",{}),t.$set(e.location,"top",e.y),t.$set(e.location,"left",e.x),t.$set(e,"size",{}),t.$set(e.size,"width",e.w),t.$set(e.size,"height",e.h)}),this._sortLayout(this.wigtDataArr);var e=this._getGlobalCollectorSetting(),i={};this.businessId?i={formId:this.reviseFromId,name:this.title,remark:this.reviseRemark,property:{script:this.code,collectors:e},components:this.wigtDataArr}:(i={name:this.title,property:{script:this.code,collectors:e},components:this.wigtDataArr},"edit"===this.initWay&&(i.id=this.formId));var a=!0;if(i.components.forEach(function(e,i){"nameCard"==e.componentType&&(e.properties.basic.nameCardType||(a=!1,t.$toast("名片控件必须添加对应关系")))}),a)if(this.infoSetting){var n=this._getChangedInfoArray()||[];this.$emit("submit",n),this.personalInfoSetting.changedIds=[]}else this.$emit("submit",i)},_getGlobalCollectorSetting:function(){var t=[],e=!0,i=!1,a=void 0;try{for(var n,s=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.globalCollector.collectors);!(e=(n=s.next()).done);e=!0){var o=n.value,r={dataSet:"",tableKeys:[],tableInitializations:[]};if(o.dataSet){r.dataSet=o.dataSet;var l=!0,c=!1,u=void 0;try{for(var d,p=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(o.fields);!(l=(d=p.next()).done);l=!0){var h=d.value;h.isKey&&r.tableKeys.push(h.name),r.tableInitializations.push({fieldName:h.name,mode:h.valueType||null,value:h.value})}}catch(t){c=!0,u=t}finally{try{!l&&p.return&&p.return()}finally{if(c)throw u}}t.push(r)}}}catch(t){i=!0,a=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw a}}return t},_sortLayout:function(t){t.sort(function(t,e){return t.y===e.y?t.x-e.x:t.y-e.y})},_getPersonalInfoOf:function(t,e){var i=this;if(this.curTarget=null,t){if(this.personalInfoSetting.infoIndexJson[t.id])this.wigtDataArr=this.personalInfoSetting.infoIndexJson[t.id].components,this.personalInfoSetting.curInfoId=t.id;else{this.$waiting.show();var a={};"STUDENT"===this.infoSetting.type&&(a={educationLevel:this.infoSetting.educationLevel}),Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:this.personalInfoSetting.infoLayoutUrl+"/"+t.id,type:"get",data:a,success:function(e){e.state?(i.$set(i.personalInfoSetting.infoIndexJson,t.id,e.data),setTimeout(function(){i._pageClick(),i._componentsProcess(e.data),i.wigtDataArr.forEach(function(t){i._collisionDetect(t),t.location||i.$set(t,"location",{}),t.location.left=t.x,t.location.top=t.y}),i.wigtDataArr.forEach(function(t){}),i.$set(i.personalInfoSetting.oldIndexJsonStr,t.id,__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()({code:i.code,components:i.wigtDataArr})),i.personalInfoSetting.curInfoId=t.id},300)):i.$toast(e.message)}}).always(function(){setTimeout(function(){i.$waiting.close()},300)})}if(e>=0){var n=__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container .tab-list"),s=-__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .tab-list .tab-item").eq(e).position().left;n.css({left:s+"px","transition-duration":this.tabStyleParam.duration+"s"}),this.tabShow=!1}}},_judgeChange:function(){this.personalInfoSetting.curInfoId&&(this.personalInfoSetting.infoIndexJson[this.personalInfoSetting.curInfoId].property.script=this.code,__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(this.personalInfoSetting.infoIndexJson[this.personalInfoSetting.curInfoId])!==this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]&&this.personalInfoSetting.changedIds.indexOf(this.personalInfoSetting.curInfoId)<0&&this.personalInfoSetting.changedIds.push(this.personalInfoSetting.curInfoId))},_getChangedInfoArray:function(){var t=this,e=[];return this.personalInfoSetting.changedIds.forEach(function(i){t._sortLayout(t.personalInfoSetting.infoIndexJson[i].components),e.push(t.personalInfoSetting.infoIndexJson[i])}),e},_scrollTab:function(t){var e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container .tab-list"),i=parseInt(e.css("left").replace("px",""));t?-(i-=this.tabStyleParam.scrollDeltaX)>=e.width()-__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container").width()+this.tabStyleParam.scrollDeltaX/2&&(i=-(e.width()-__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container").width()+this.tabStyleParam.scrollDeltaX/2)):-(i+=this.tabStyleParam.scrollDeltaX)<=0&&(i=0),e.css({left:i+"px","transition-duration":this.tabStyleParam.duration+"s"})},_markerClick:function(t){this.curTarget.properties.basic.map.center={lat:t.location.lat,lng:t.location.lng}},_selectGlobalCollectorDataSet:function(t){var e=parseInt(t.target.$attrs["data-index"]),i=this.globalCollector.collectors[e];i.dataSet!==t.val&&(i.dataSet=t.val,i.fields=[],this.dataFieldOptions.forEach(function(t){t.typeName===i.dataSet&&i.fields.push({name:t.columnName,isKey:!1,valueType:"",value:""})}))},_selectGlobalCollectorFieldValueType:function(t){var e=parseInt(t.target.$attrs["data-set-index"]),i=this.globalCollector.collectors[e],a=parseInt(t.target.$attrs["data-field-index"]);i.fields[a].valueType=t.val},_selectGlobalCollectorFieldComponentValue:function(t){var e=parseInt(t.target.$attrs["data-set-index"]),i=this.globalCollector.collectors[e],a=parseInt(t.target.$attrs["data-field-index"]);i.fields[a].value=t.val},_getFieldNameByDataSetAndName:function(t,e){var i="[unknonw]";return this.dataFieldOptions.forEach(function(a){a.typeName===t&&a.columnName===e&&(i=a.columnTitle)}),i},_addGlobalCollector:function(){this.globalCollector.collectors.push({dataSet:"",fields:[]})},_deleteGlobalCollector:function(t){this.globalCollector.collectors.splice(t,1)}},destroyed:function(){__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp).off("mousewheel"),__WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.layoutSetting.scrollContainer).off("scroll")}}},LQgT:function(t,e,i){"use strict";var a=i("fUz/"),n=i("uezc");function s(t){n.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}a.inherits(s,n),s.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}n.prototype.processChunk.call(this,t)},t.exports=s},LTIR:function(t,e){},LbNe:function(t,e){},M17r:function(t,e,i){"use strict";(function(t){i("kV13"),i("C331")}).call(e,i("qqHy"))},MGgt:function(t,e,i){t.exports={default:i("PSm8"),__esModule:!0}},MVd6:function(t,e,i){"use strict";i.d(e,"a",function(){return c}),i.d(e,"b",function(){return u});var a=i("aA9S"),n=i.n(a),s=i("AA3o"),o=i.n(s),r=i("xSur"),l=i.n(r),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,t),this.id=null,this.name=null,this.desc="",this.timeRange=[],this.applyTimeRange=[],this.published=!1,this.unShelved=!1,this.applied=!1,this.top=!1,this.canApplyOnTime=null,this.units=[],this.initialized=!1,n()(this,e)}return l()(t,[{key:"isApplying",value:function(){if(void 0!==this.canApplyOnTime&&null!==this.canApplyOnTime)return this.canApplyOnTime;var t=new Date;return t>=new Date(this.applyTimeRange[0])&&t<=new Date(this.applyTimeRange[1])}},{key:"getNameHtmlWithStatus",value:function(){return this.name}},{key:"toApiOjf",value:function(){return{id:this.id,name:this.name,summary:this.desc,beginTime:new Date(this.timeRange[0]).format("yyyy-MM-dd HH:mm:ss"),endTime:new Date(this.timeRange[1]).format("yyyy-MM-dd HH:mm:ss"),applyBeginTime:new Date(this.applyTimeRange[0]).format("yyyy-MM-dd HH:mm:ss"),applyEndTime:new Date(this.applyTimeRange[1]).format("yyyy-MM-dd HH:mm:ss")}}}],[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.id=e.id,i.name=e.name,i.desc=e.summary||"",i.timeRange=[e.beginTime,e.endTime],i.applyTimeRange=[e.applyBeginTime,e.applyEndTime],i.published=0==e.status||1==e.status,i.unShelved=1==e.status,i.top=!!e.top,i.units=e.participantDTOList?e.participantDTOList.map(function(t){return u.fromApi(t)}):[],i.initialized=!0,i}}]),t}(),u=function(){function t(e){o()(this,t),this.id=null,this.unitId=null,this.name=null,this.typeName=null,this.scale=null,this.email=null,this.address=null,this.desc="",this.recruitment="",this.contactPeople=null,this.contactPhone=null,this.positionCount=0,this.positions=[],this.ojf=null,this.status=null,this.auditReason=null,n()(this,e)}return l()(t,[{key:"toApiApplyInfo",value:function(){return{id:this.id,companyId:this.unitId,netWorkMeetingId:this.ojf.id,contactPeople:this.contactPeople,contactPhone:this.contactPhone,email:this.email,recruitmentBrief:this.recruitment,positionVOList:this.positions||[]}}}],[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.id=e.id,i.name=e.companyName,i.typeName=e.property,i.scale=e.scale,i.email=e.email,i.address=e.addressDetail,i.desc=e.summary||"",i.recruitment=e.recruitmentBrief||"",i.contactPeople=e.contactPeople,i.contactPhone=e.contactPhone,i.positionCount=e.positionList?e.positionList.length:e.positionsNum||0,i.positions=e.positionList||[],i.status=e.status,i.auditReason=e.auditReason,i}},{key:"fromUnit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.unitId=e.companyId||e.id,i.name=e.companyName,i.typeName=e.propertyName,i.email=e.mailAddress,i.address=e.addressDetail,i.desc=e.summary,i.scale=e.scaleName,i.contactPeople=e.contactPeople,i.contactPhone=e.contactPhone,i}}]),t}()},Mh8U:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("C331"),n={props:["recruitIdFromInfo","recruitIdFromCollect"],data:function(){return{recuritDetails:{},recruitmentPositionList:[],recruitmentBriefMore:!1,showMoreIcon_brief:!1,recruitmentSumarryMore:!1,showMoreIcon_sumarry:!1,loading:!0,propsId:"",noneCollect:!1,showCollect:!1,activeName:"second"}},methods:{getRecruitDetails:function(t){var e=this,i="/api/employment/platform/getRecruitment?recruitmentId="+t;Object(a.e)({url:i,type:"get",success:function(t){t.state?(e.recuritDetails=t.data,e.recruitmentPositionList=t.data.recruitmentPositionList,e.$nextTick(function(){var t=e.$refs.recruitmentBrief.offsetHeight,i=e.$refs.recruitmentSumarry.offsetHeight;t>120?(e.showMoreIcon_brief=!0,e.recruitmentBriefMore=!0):(e.showMoreIcon_brief=!1,e.recruitmentBriefMore=!1),i>120?(e.showMoreIcon_sumarry=!0,e.recruitmentSumarryMore=!0):(e.showMoreIcon_sumarry=!1,e.recruitmentSumarryMore=!1),e.loading=!1})):(e.loading=!1,e.$message.error("error"))}})},showMore:function(t){"sumarry"==t?this.recruitmentSumarryMore=!this.recruitmentSumarryMore:this.recruitmentBriefMore=!this.recruitmentBriefMore},back:function(){this.$attrs.data&&"/student/collect"==this.$attrs.data.route?this.$emit("backToCollect"):this.$attrs.props&&"index"==this.$attrs.props.from?this.$emit("toSomePage","/index"):this.$attrs.props&&"recruitList"==this.$attrs.props.from?this.$emit("toSomePage","/recruitList2Index"):this.$attrs.props&&!this.$attrs.props.positionId&&this.$attrs.props.rootPath?this.$emit("toSomePage","index"==this.$attrs.props.rootPath?"/index":"/recruitList2Index"):this.$emit("toSomePage",{path:"/recruitmentInfoApply",props:{positionId:this.$attrs.props.positionId,recruitId:this.$attrs.props.recruitId,from:this.$attrs.props.from,rootPath:this.$attrs.props.rootPath}})},toRecruitDetails:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$attrs.data&&"/student/collect"==this.$attrs.data.route?this.$emit("toRecruitDetails",e):this.$emit("toSomePage",{path:"/recruitmentInfoApply",props:{positionId:t,from:"recruit2Index",recruitId:this.propsId,rootPath:this.$attrs.props.rootPath}})}},created:function(){this.$attrs.props?this.propsId=this.$attrs.props.recruitId:this.propsId=this.recruitIdFromCollect,this.getRecruitDetails(this.propsId),this.$attrs.userInfo&&"STUDENT"==this.$attrs.userInfo.type&&(this.noneCollect=!0,this.showCollect=!0)}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{id:"recruit2Index"}},[i("div",{staticClass:"top_back"},[i("el-button",{staticStyle:{color:"#666"},attrs:{type:"text",icon:"el-icon-back"},on:{click:t.back}},[t._v("返回")])],1),t._v(" "),i("div",{staticClass:"details"},[i("div",{staticClass:"top"},[i("h2",[i("p",[t._v(t._s(t.recuritDetails.title))]),i("span",[t._v(t._s("在招职位"+t.recruitmentPositionList.length+"个")+" ")])])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"contentBox clearfix",staticStyle:{overflow:"inherit"}},[i("div",{staticClass:"contentContainer clearfix"},[i("div",{staticClass:"left"},[i("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"公司详情",name:"first"}},[i("div",{staticClass:"part"},[i("div",{staticClass:"title"},[i("h1",[i("span",[i("em"),i("i",[t._v("单位简介")])])])]),t._v(" "),i("div",{staticClass:"detais"},[i("div",{ref:"recruitmentSumarry",class:["instruction",t.recruitmentSumarryMore?"hideMore":""],domProps:{innerHTML:t._s(t.recuritDetails.summary)}}),t._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:t.showMoreIcon_sumarry,expression:"showMoreIcon_sumarry"}],staticClass:"showMore",on:{click:function(e){return t.showMore("sumarry")}}},[i("span",[t._v(t._s(t.recruitmentSumarryMore?"展开":"收起"))]),i("i")])])]),t._v(" "),i("div",{staticClass:"part"},[i("div",{staticClass:"title"},[i("h1",[i("span",[i("em"),i("i",[t._v("招聘简章")])])])]),t._v(" "),i("div",{staticClass:"detais"},[i("div",{ref:"recruitmentBrief",class:["instruction",t.recruitmentBriefMore?"hideMore":""],attrs:{id:"recruitmentBrief"},domProps:{innerHTML:t._s(t.recuritDetails.recruitmentBrief)}}),t._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:t.showMoreIcon_brief,expression:"showMoreIcon_brief"}],staticClass:"showMore",on:{click:function(e){return t.showMore("brief")}}},[i("span",[t._v(t._s(t.recruitmentBriefMore?"展开":"收起"))]),i("i")])])])]),t._v(" "),i("el-tab-pane",{attrs:{label:"招聘职位",name:"second"}},[i("div",{staticClass:"part"},[i("div",{staticClass:"title"},[i("h1",[i("span",[i("em"),i("i",[t._v("在招职位")])])])]),t._v(" "),i("div",{staticClass:"detais position"},[i("ul",t._l(t.recuritDetails.recruitmentPositionList,function(e,a){return t.recuritDetails.recruitmentPositionList&&t.recuritDetails.recruitmentPositionList.length?i("li",{key:a,staticClass:"box",on:{click:function(i){return t.toRecruitDetails(e.id,e)}}},[i("h1",[i("p",{staticClass:"name"},[t._v(t._s(e.positionName))]),t._v(" "),i("span",{staticClass:"address"},[t._v(t._s(e.workplaceName?e.workplaceName:"暂无详细工作地点"))])]),t._v(" "),i("h1",{staticStyle:{"text-align":"right"}},[i("p",{staticClass:"salary"},[t._v(t._s(e.salaryName?e.salaryName:"暂无详细薪资待遇"))]),t._v(" "),i("span",{staticClass:"date"},[t._v(t._s(e.issueTime?e.issueTime:"暂无发布日期"))])])]):t._e()}),0)])])])],1)],1),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"rightBox"},[i("div",{staticClass:"right-title baseInfo"},[t._m(0),t._v(" "),i("p",[i("i",{staticClass:"peopleIcon"}),i("em",{attrs:{title:t.recuritDetails.scale}},[t._v(t._s(t.recuritDetails.scale))])]),t._v(" "),i("p",[i("i",{staticClass:"addressIcon"}),i("em",{attrs:{title:t.recuritDetails.addressDetail}},[t._v(t._s(t.recuritDetails.addressDetail))])])])]),t._v(" "),i("div",{staticClass:"rightBox"},[i("div",{staticClass:"right-title contact"},[t._m(1),t._v(" "),i("p",[i("i",{staticClass:"contactIcon"}),i("em",{attrs:{title:t.recuritDetails.contactPeople}},[t._v(t._s(t.recuritDetails.contactPeople))])]),t._v(" "),i("p",[i("i",{staticClass:"phoneIcon"}),i("em",{attrs:{title:t.recuritDetails.contactPhone}},[t._v(t._s(t.recuritDetails.contactPhone?t.recuritDetails.contactPhone:"暂无联系人电话"))])]),t._v(" "),i("p",[i("i",{staticClass:"mailIcon"}),i("em",{attrs:{title:t.recuritDetails.email}},[t._v(t._s(t.recuritDetails.email))])])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",[e("span",[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",[e("span",[this._v("联系方式")])])}]};var o=i("C7Lr")(n,s,!1,function(t){i("7Fkl"),i("81bq")},"data-v-38230b4a",null);e.default=o.exports},N9Ox:function(t,e,i){"use strict";Boolean,String;var a={props:{inline:Boolean,text:String}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"module",class:{"module-inline":this.inline}},[e("div",{staticClass:"title"}),this._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"info loader",attrs:{"element-loading-text":this.text}})])},staticRenderFns:[]};var s=i("C7Lr")(a,n,!1,function(t){i("jlQl")},"data-v-7bf53b01",null);e.a=s.exports},NDtI:function(t,e,i){"use strict";var a=i("hDtI"),n=i("U4m3");e.generateWorker=function(t,e,i){var s=new n(e.streamFiles,i,e.platform,e.encodeFileName),o=0;try{t.forEach(function(t,i){o++;var n=function(t,e){var i=t||e,n=a[i];if(!n)throw new Error(i+" is not a valid compression method !");return n}(i.options.compression,e.compression),r=i.options.compressionOptions||e.compressionOptions||{},l=i.dir,c=i.date;i._compressWorker(n,r).withStreamInfo("file",{name:t,dir:l,date:c,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(s)}),s.entriesCount=o}catch(t){s.error(t)}return s}},NcNL:function(t,e,i){var a,n=n||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},i=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in i,n=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},r=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},l=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},c=function(c,u,d){d||(c=l(c));var p,h=this,m="application/octet-stream"===c.type,_=function(){!function(t,e,i){for(var a=(e=[].concat(e)).length;a--;){var n=t["on"+e[a]];if("function"==typeof n)try{n.call(t,i||t)}catch(t){o(t)}}}(h,"writestart progress write writeend".split(" "))};if(h.readyState=h.INIT,a)return p=e().createObjectURL(c),void setTimeout(function(){var t,e;i.href=p,i.download=u,t=i,e=new MouseEvent("click"),t.dispatchEvent(e),_(),r(p),h.readyState=h.DONE});!function(){if((s||m&&n)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=s?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,h.readyState=h.DONE,_()},i.readAsDataURL(c),void(h.readyState=h.INIT)}p||(p=e().createObjectURL(c)),m?t.location.href=p:t.open(p,"_blank")||(t.location.href=p);h.readyState=h.DONE,_(),r(p)}()},u=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=l(t)),navigator.msSaveOrOpenBlob(t,e)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(t,e,i){return new c(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */void 0!==t&&t.exports?t.exports.saveAs=n:null!==i("bFEl")&&null!==i("Ycmu")&&(void 0===(a=function(){return n}.call(e,i,e,t))||(t.exports=a))},PObU:function(t,e,i){"use strict";for(var a=i("fUz/"),n=i("EVdu"),s=i("a2RD"),o=i("uezc"),r=new Array(256),l=0;l<256;l++)r[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;r[254]=r[254]=1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function u(){o.call(this,"utf-8 encode")}e.utf8encode=function(t){return n.nodebuffer?s.newBufferFrom(t,"utf-8"):function(t){var e,i,a,s,o,r=t.length,l=0;for(s=0;s<r;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<r&&56320==(64512&(a=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(a-56320),s++),l+=i<128?1:i<2048?2:i<65536?3:4;for(e=n.uint8array?new Uint8Array(l):new Array(l),o=0,s=0;o<l;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<r&&56320==(64512&(a=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(a-56320),s++),i<128?e[o++]=i:i<2048?(e[o++]=192|i>>>6,e[o++]=128|63&i):i<65536?(e[o++]=224|i>>>12,e[o++]=128|i>>>6&63,e[o++]=128|63&i):(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63,e[o++]=128|i>>>6&63,e[o++]=128|63&i);return e}(t)},e.utf8decode=function(t){return n.nodebuffer?a.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,i,n,s,o=t.length,l=new Array(2*o);for(i=0,e=0;e<o;)if((n=t[e++])<128)l[i++]=n;else if((s=r[n])>4)l[i++]=65533,e+=s-1;else{for(n&=2===s?31:3===s?15:7;s>1&&e<o;)n=n<<6|63&t[e++],s--;s>1?l[i++]=65533:n<65536?l[i++]=n:(n-=65536,l[i++]=55296|n>>10&1023,l[i++]=56320|1023&n)}return l.length!==i&&(l.subarray?l=l.subarray(0,i):l.length=i),a.applyFromCharCode(l)}(t=a.transformTo(n.uint8array?"uint8array":"array",t))},a.inherits(c,o),c.prototype.processChunk=function(t){var i=a.transformTo(n.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var s=i;(i=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),i.set(s,this.leftOver.length)}else i=this.leftOver.concat(i);this.leftOver=null}var o=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+r[t[i]]>e?i:e}(i),l=i;o!==i.length&&(n.uint8array?(l=i.subarray(0,o),this.leftOver=i.subarray(o,i.length)):(l=i.slice(0,o),this.leftOver=i.slice(o,i.length))),this.push({data:e.utf8decode(l),meta:t.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=c,a.inherits(u,o),u.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=u},PSm8:function(t,e,i){i("MJJS"),i("at0p"),t.exports=i("eswf")},PUN0:function(t,e,i){"use strict";var a=i("lC5x"),n=i.n(a),s=i("J0Oq"),o=i.n(s),r=i("713C"),l=i("V/it"),c=i("B/WJ"),u=i("Se9A"),d=i("N9Ox"),p=i("XfSg"),h=i("p+qa"),m=i("MVd6"),_=(Object,Object,Boolean,u.a,d.a,r.a,l.a,c.a,{props:{ojf:Object,myUnit:Object,isManager:Boolean},components:{ModuleContainer:u.a,ModuleLoader:d.a,UnitInfo:r.a,PositionsInfo:l.a,RecruitmentInfo:c.a},data:function(){return{loading:!0,myUnit:null,units:[],ojfUnitApply:new m.b,submiting:!1}},computed:{},created:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.myUnit&&(t.ojfUnitApply=m.b.fromUnit(t.myUnit)),!t.isManager){e.next=4;break}return e.next=4,t.initNoJoinedUnits();case 4:t.ojfUnitApply.ojf=t.ojf,t.loading=!1;case 6:case"end":return e.stop()}},e,t)}))()},methods:{initNoJoinedUnits:function(){var t=this;return o()(n.a.mark(function e(){var i,a,s,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.getNoJoinedUnits(t.ojf.id);case 2:i=e.sent,a=i.state,s=i.message,o=i.data,a?t.units=o.map(function(t){return{id:t.id,name:t.companyName}}):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},submit:function(){var t=this;return o()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.unitInfo.validate();case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),Object(h.a)(0,200),e.abrupt("return");case 9:if(!t.isManager){e.next=11;break}return e.abrupt("return",t.submitByManager());case 11:return e.next=13,p.a.apply(t.ojfUnitApply);case 13:i=e.sent,a=i.state,s=i.message,t.submiting=!1,a?t.$alert("提交申请成功","",{center:!0,showClose:!1}).then(function(){t.backToMyOjfList()}):t.$toast(s);case 18:case"end":return e.stop()}},e,t,[[0,5]])}))()},submitByManager:function(){var t=this;return o()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.applyByManager(t.ojfUnitApply);case 2:i=e.sent,a=i.state,s=i.message,t.submiting=!1,a?t.$alert("预留成功","",{center:!0,showClose:!1}).then(function(){t.back()}):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},backToMyOjfList:function(){this.$emit("back-to-my-list",{refresh:!0})},back:function(){this.$emit("back-to-list")}}}),f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"back",on:{click:t.back}},[i("i",{staticClass:"el-icon-back"}),t._v("返回\n  ")]),t._v(" "),i("div",{staticClass:"page-title"},[t._v("\n    "+t._s("网招会名称："+t.ojf.name)+"\n  ")]),t._v(" "),t.loading?i("module-loader"):i("div",{staticClass:"module-container"},[i("unit-info",{ref:"unitInfo",attrs:{units:t.units,edit:""},model:{value:t.ojfUnitApply,callback:function(e){t.ojfUnitApply=e},expression:"ojfUnitApply"}}),t._v(" "),i("positions-info",{attrs:{edit:""},model:{value:t.ojfUnitApply.positions,callback:function(e){t.$set(t.ojfUnitApply,"positions",e)},expression:"ojfUnitApply.positions"}}),t._v(" "),i("recruitment-info",{attrs:{edit:""},model:{value:t.ojfUnitApply.recruitment,callback:function(e){t.$set(t.ojfUnitApply,"recruitment",e)},expression:"ojfUnitApply.recruitment"}}),t._v(" "),i("module-container",{attrs:{actions:""}},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.submiting,expression:"submiting"}],attrs:{type:"primary",size:"large"},on:{click:t.submit}},[t._v(t._s(t.isManager?"预留":"提交审核"))])],1)],1)],1)},staticRenderFns:[]},v=i("C7Lr")(_,f,!1,null,null,null);e.a=v.exports},PXen:function(t,e,i){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},PsLW:function(t,e,i){"use strict";var a=i("v7gX"),n=i("fUz/"),s=i("1+29"),o=i("BvaA"),r=i("PObU"),l=i("hDtI"),c=i("EVdu");function u(t,e){this.options=t,this.loadOptions=e}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=a(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,i,a,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<n;)e=t.readInt(2),i=t.readInt(2),a=t.readData(i),this.extraFields[e]={id:e,length:i,value:a}},handleUTF8:function(){var t=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=r.utf8decode(this.fileName),this.fileCommentStr=r.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=n.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var a=this.findExtraFieldUnicodeComment();if(null!==a)this.fileCommentStr=a;else{var s=n.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=a(t.value);return 1!==e.readInt(1)?null:o(this.fileName)!==e.readInt(4)?null:r.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=a(t.value);return 1!==e.readInt(1)?null:o(this.fileComment)!==e.readInt(4)?null:r.utf8decode(e.readData(t.length-5))}return null}},t.exports=u},Q8Fq:function(t,e,i){"use strict";function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new a;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}a.prototype=i("3ZbE"),a.prototype.loadAsync=i("rR5i"),a.support=i("EVdu"),a.defaults=i("Esja"),a.version="3.2.0",a.loadAsync=function(t,e){return(new a).loadAsync(t,e)},a.external=i("tK0m"),t.exports=a},QvFT:function(t,e){},RFLz:function(t,e,i){"use strict";var a=i("A1wG"),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var o=new a.Buf8(256),r=0;r<256;r++)o[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;function l(t,e){if(e<65534&&(t.subarray&&s||!t.subarray&&n))return String.fromCharCode.apply(null,a.shrinkBuf(t,e));for(var i="",o=0;o<e;o++)i+=String.fromCharCode(t[o]);return i}o[254]=o[254]=1,e.string2buf=function(t){var e,i,n,s,o,r=t.length,l=0;for(s=0;s<r;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<r&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),l+=i<128?1:i<2048?2:i<65536?3:4;for(e=new a.Buf8(l),o=0,s=0;o<l;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<r&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?e[o++]=i:i<2048?(e[o++]=192|i>>>6,e[o++]=128|63&i):i<65536?(e[o++]=224|i>>>12,e[o++]=128|i>>>6&63,e[o++]=128|63&i):(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63,e[o++]=128|i>>>6&63,e[o++]=128|63&i);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new a.Buf8(t.length),i=0,n=e.length;i<n;i++)e[i]=t.charCodeAt(i);return e},e.buf2string=function(t,e){var i,a,n,s,r=e||t.length,c=new Array(2*r);for(a=0,i=0;i<r;)if((n=t[i++])<128)c[a++]=n;else if((s=o[n])>4)c[a++]=65533,i+=s-1;else{for(n&=2===s?31:3===s?15:7;s>1&&i<r;)n=n<<6|63&t[i++],s--;s>1?c[a++]=65533:n<65536?c[a++]=n:(n-=65536,c[a++]=55296|n>>10&1023,c[a++]=56320|1023&n)}return l(c,a)},e.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+o[t[i]]>e?i:e}},RL3Q:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("3cXf"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__("kV13"),__WEBPACK_IMPORTED_MODULE_2_jquery__=__webpack_require__("qqHy"),__WEBPACK_IMPORTED_MODULE_2_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_jquery__),__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__=__webpack_require__("C331"),__WEBPACK_IMPORTED_MODULE_4__components_VFlow_vue__=__webpack_require__("bTp3"),__WEBPACK_IMPORTED_MODULE_5_fs__=__webpack_require__("0Nqt"),__WEBPACK_IMPORTED_MODULE_5_fs___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_fs__);__WEBPACK_IMPORTED_MODULE_1_vue__.default.component("v-flow",__WEBPACK_IMPORTED_MODULE_4__components_VFlow_vue__.a);var _unused_webpack_default_export={inject:{windowObj:{default:null}},props:{departmentId:{default:"1"},appId:{default:"1"},readonly:{default:!1},businessId:{default:null},appName:{default:null},type:{default:""},userType:{default:null}},created:function created(){var _this=this;this.columnsModel=[{id:"college",title:"学院",className:"text-left",hidden:!1},{id:"totalPeople",title:"总人数",className:"text-left",hidden:!1},{id:"rate",title:"比例",className:"text-left",hidden:!1,formatter:function(t,e){return t.rate+"%"}},{id:"id",title:"id",className:"text-left",hidden:!0},{id:"countResult",title:"计算结果",className:"text-left",hidden:!1},{id:"finalResult",className:"text-left",title:"最终结果",hidden:!1,edit:{type:"number"}}];var la=localStorage.getItem("lang");for(var i in Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.g)(la)&&(this.lang=la),this.businessId?(this.reviseFlowUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/flowSetting",this.reviseFormUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/formSetting"):"sc"===this.type?this.reviseFlowUrl="/api/sc/activities/types/"+this.appId+"/flowSetting":(this.reviseFlowUrl="/api/apps/"+this.appId+"/settings/flows",this.reviseFormUrl="/api/apps/"+this.appId+"/settings/forms"),Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:this.reviseFlowUrl,type:"get",success:function(t){t.state?t.data&&(_this.flowData.id=t.data.id,_this.flowData.chart=t.data.chart,_this.curFlow=t.data.settings,_this.curFlow.nodes.forEach(function(t,e){_this.$set(t,"id",t.id),_this.$set(t,"name",t.name),_this.$set(t,"category",t.category),_this.$set(t,"distributary",t.distributary),_this.$set(t,"operators",t.operators||[]),_this.$set(t,"operations",t.operations||{}),_this.$set(t,"dataAuthorities",t.dataAuthorities||[]),_this.$set(t,"links",t.links||[]),_this.$set(t,"nodeType",t.nodeType||"1")})):_this.$toast(t.message)}}),"sc"===this.type?(this.curFlow.name=this.appName+"流程",this.components=[],this.$set(this.curFlow,"formSettingName",this.appName+"表单"),this.$set(this.curFlow,"formSettingId","sc")):Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:this.reviseFormUrl,type:"get",success:function success(data){if(data.state){var patch=function patch(s,re){return re=eval("/"+re+"/ig"),s.match(re)?s.match(re).length:0};_this.curFlow.name=data.data.name+"流程",_this.components=data.data.components;var newCom=JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this.components)),initLength=0,m=[],num=0;_this.components.forEach(function(t,e){var i=patch(t.name,"_"),a=patch(t.name,"table");i<2&&a>=1&&(num+=1,m.push(e),num>1&&(initLength+=_this.components[m[num-2]].properties.basic.tableFields.length),t.properties.basic.tableFields.forEach(function(i,a){var n=e+1+initLength;i.title=t.title+i.title,i[t.name]=t.name,newCom.splice(n,0,i)}))}),_this.components=newCom,_this.components.forEach(function(t,e){_this.$set(t,"checked",!1),_this.$set(t,"checkedXian",!1),_this.$set(t,"checkedCollect",!1)}),_this.$set(_this.curFlow,"formSettingName",data.data.name),_this.$set(_this.curFlow,"formSettingId",data.data.id)}else _this.$toast(data.message)}}),"sc"===this.type&&this.distributaryData.push({id:"byOrganization",name:"以社团组织关系分流"}),"4"!==this.userType&&"2"!==this.userType||this.distributaryData.splice(1,2),this.distributaryData.forEach(function(t,e){t.name=_this.translate.distributaryData[t.id]}),this.operatorData.forEach(function(t,e){t.name=_this.translate.operatorData[t.id]}),"sc"===this.type&&(this.permissionData=[{id:"reject",name:"驳回",checked:!1,data:[{id:"rejectTo",name:"驳回至",options:[{id:"lastNode",name:"上一节点"},{id:"optional",name:"由此节点选择"}]},{id:"rejectBackTo",name:"驳回后返回",options:[{id:"flowWay",name:"按流程原路返回"},{id:"optional",name:"由此节点选择"}]}]},{id:"batch",name:"批量操作",checked:!1}]),this.permissionData.forEach(function(t,e){t.name=_this.translate.permissionData[t.id],t.data&&t.data.forEach(function(t,e){t.name=_this.translate.permissionData[t.id],t.options&&t.options.forEach(function(t,e){t.name=_this.translate.permissionData[t.id]})})}),this.attributesShow)this.attributesShow[i].conditions.forEach(function(t,e){t.name=_this.translate.condition[t.id]});this._initRoleList("bySchool"),this._initRoleList("byCollege"),this._initRoleList("byClass"),"sc"===this.type&&this._initRoleList("byOrganization"),this._initRoleList("byBuilding"),this._initRoleList("byParty")},data:function(){return{clicktoggle:!0,nextType:"",totalTrueNumberA:"",rows:[],mingTotalNumber:"",mingResultCaculate:"",mingRate:"",checkMingCollege:!0,checkMingLeval:!1,checkMingGrade:!1,checkMingClass:!1,checkMingZhi:!1,checkMingMajor:!1,checkMingDepartment:!1,mingEOn:!1,showTable:!1,resultType:[{label:"四舍五入",value:"ROUNDED"},{label:"向上取整",value:"TAKEUP"},{label:"向下取整",value:"TAKEDOWN"}],columnsModel:[],settingModelshow:!1,nodeTypeArr:[{id:"1",name:"其他节点"},{id:"2",name:"发起节点"}],distributaryData:[{id:"bySchool",name:"不分流"},{id:"byClass",name:"以班级关系分流"},{id:"byTeacher",name:"以带生关系分流"},{id:"byTutor",name:"以导师分流"},{id:"byVolunteer",name:"以志愿者分流"},{id:"byCollege",name:"以学院关系分流"},{id:"byBuilding",name:"公寓按楼栋分流"},{id:"byParty",name:"以党组织关系分流"}],roleList:{},components:[],operatorData:[{id:"required",name:"必填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"optional",name:"选填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"readonly",name:"只读",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map","nameCard"]},{id:"hide",name:"隐藏",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map","nameCard"]}],collectorData:[{id:"collected",flag:!0,name:"采集"},{id:"unCollected",flag:!1,name:"不采集"}],permissionData:[{id:"reject",name:"驳回",checked:!1,data:[{id:"rejectTo",name:"驳回至",options:[{id:"lastNode",name:"上一节点"},{id:"optional",name:"由此节点选择"}]},{id:"rejectBackTo",name:"驳回后返回",options:[{id:"flowWay",name:"按流程原路返回"},{id:"optional",name:"由此节点选择"}]}]},{id:"revocation",name:"撤回",checked:!1},{id:"deliverTo",name:"转交",checked:!1},{id:"sendTo",name:"抄送",checked:!1},{id:"batch",name:"批量操作",checked:!1},{id:"cancelByUser",name:"发起者在此节点可以取消流程",checked:!1}],permission:{reject:{usable:!0,properties:{rejectTo:"lastNode",rejectBackTo:"flowWay"}},revocation:{usable:!0},deliverTo:{usable:!0},sendTo:{usable:!0},batch:{usable:!0},cancelByUser:{usable:!0},canExport:{usable:!0}},attributesShow:{input:{conditions:[{id:"=",name:"等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},number:{conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"}]},datetime:{conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"}]},radio:{conditions:[{id:"=",name:"等于",data:"value"}]},checkbox:{conditions:[{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},select:{conditions:[{id:"=",name:"等于",data:"value"}]},address:{conditions:[{id:"=",name:"等于",data:"value"}]}},batchCheck:"",collectorCheck:"",newRoleName:"",roleEditing:!1,roleAddErrorMsg:"",chart:{},curNode:{nodeType:"1"},curLink:{},otherLink:{nextNodeId:""},curFlow:{id:"",name:"",formSettingId:"",formSettingName:"",nodes:[{id:"start",name:"",category:"start",distributary:null,operators:[],operations:{},dataAuthorities:[],links:[],nodeType:"1"}]},flowData:{id:"",chart:[],settings:{}},curTargetNode:null,isChange:!1,reviseFlowUrl:"",reviseFormUrl:"",lang:"zh-cn"}},computed:{isApplyNode:function(){return!(!this.curTargetNode||!this.curTargetNode.parents)&&"start"===this.curTargetNode.parents[0]},translate:function(){return Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.g)(this.lang).flowSetManage},roleCheckAllCount:function(){var t=this,e=0;return this.curNode&&this.curNode.operators&&this.roleList[this.curNode.distributary]&&this.roleList[this.curNode.distributary].forEach(function(i){t.curNode.operators.indexOf(parseInt(i.id))>=0&&e++}),e},componentsCheckAllCount:function(){var t=0;return this.components.forEach(function(e){e.checked&&t++}),t},componentsCheckAllCountXian:function(){var t=0;return this.components.forEach(function(e){e.checkedXian&&t++}),t},componentsCheckAllCountCollect:function(){var t=0;return this.components.forEach(function(e){e.checkedCollect&&t++}),t},initDataOfChart:function(){var t=this,e=null;return this.flowData.chart&&this.flowData.chart.nodes&&this.flowData.chart.nodes.length>0&&(e={},this.flowData.chart.nodes.forEach(function(t,i){e[t.id]=t})),setTimeout(function(){t._refreshFlow()},300),e},curComponent:function(){var t=this,e={};return this.components.forEach(function(i,a){t.curNode.links[0]&&t.curNode.links[0].condition&&t.curNode.links[0].condition.component===i.name&&(e=i)}),e}},mounted:function(){var t=this;__WEBPACK_IMPORTED_MODULE_2_jquery___default()("#flowSetPage").keydown(function(e){return 1!=e.ctrlKey||83!=e.keyCode||(t._saveFlow(),t.$emit("back"),e.preventDefault(),!1)})},methods:{changeCheck:function(t){t.name.indexOf("table")>-1&&t.name.length<21&&(this.components=this.components.map(function(e){return e.name.length>21&&e[t.name]&&(e.checked=!t.checked),e})),t.name.indexOf("table")>-1&&t.name.length>21&&(this.components=this.components.map(function(e){return e.name.length<21&&e.name==t[e.name]&&(e.checked=!1),e})),t.checked=!t.checked},clickChange:function(t){this.clicktoggle=!this.clicktoggle},_getExportData:function(t,e){return t.dataAuthorities[t.dataAuthoritiesKey[e.name]].exportable},changeTable:function(t){var e=this,i=0;this.rows.forEach(function(i,a){i.id==t.row.id&&e.$set(e.rows[a],"finalResult",t.value)}),this.rows.forEach(function(t){t.finalResult&&"总计"!=t.college&&(i+=parseInt(t.finalResult))}),this.$set(this.rows[this.rows.length-1],"finalResult",i),this.totalTrueNumberA=i},sureForMing:function(){var t=this;if(this.totalTrueNumberA==this.mingTotalNumber){var e=["COLLEGE"];this.checkMingLeval&&e.push("EDUCATIONLEVEL"),this.checkMingGrade&&e.push("GRADE"),this.checkMingClass&&e.push("CLASS"),this.checkMingZhi&&e.push("STUDYYEARS"),this.checkMingMajor&&e.push("MAJOR"),this.checkMingDepartment&&e.push("DEPARTMENT");var i={};i.appId=this.appId,i.nodeId=this.curNode.id,i.nodeName=this.curNode.name,i.businessId=this.businessId,i.totalNumber=parseInt(this.mingTotalNumber),i.conditions=e,i.rate=parseInt(this.mingRate),i.countWay=this.mingResultCaculate,i.guideShow=this.showTable,i.appQuotaCollectVO=this.rows,Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.d)("/api/app/quota/saveSetQuota",i,"post").then(function(e){e.state?(t.$toast("设置完成"),t.settingModelshow=!1):"10001"==e.code?t.$toast("条件填写不完整，请重新填写！"):t.$toast(e.message)})}else this.$toast("实际结果总计 需要和 总名额 相等")},sureMingSet:function(t){var e=this;t&&t.preventDefault(),this.columnsModel=[{id:"college",title:"学院",className:"text-left",hidden:!1},{id:"totalPeople",title:"总人数",className:"text-left",hidden:!1},{id:"rate",title:"比例",className:"text-left",hidden:!1,formatter:function(t,e){return t.rate+"%"}},{id:"id",title:"id",className:"text-left",hidden:!0},{id:"countResult",title:"计算结果",className:"text-left",hidden:!1},{id:"finalResult",className:"text-left",title:"最终结果",hidden:!1,edit:{type:"number"}}];var i="COLLEGE";this.checkMingLeval&&(this.columnsModel.splice(1,0,{id:"educationLevel",title:"培养层次",className:"text-left",hidden:!1}),i+=",EDUCATIONLEVEL"),this.checkMingGrade&&(this.columnsModel.splice(1,0,{id:"grade",title:"年级",className:"text-left",hidden:!1}),i+=",GRADE"),this.checkMingClass&&(this.columnsModel.splice(1,0,{id:"className",title:"班级",className:"text-left",hidden:!1}),i+=",CLASS"),this.checkMingZhi&&(this.columnsModel.splice(1,0,{id:"studyYears",title:"学制",className:"text-left",hidden:!1}),i+=",STUDYYEARS"),this.checkMingMajor&&(this.columnsModel.splice(1,0,{id:"major",title:"专业",className:"text-left",hidden:!1}),i+=",MAJOR"),this.checkMingDepartment&&(this.columnsModel.splice(1,0,{id:"department",title:"系别",className:"text-left",hidden:!1}),i+=",DEPARTMENT"),Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.d)("/api/app/quota/getConditionTable?conditions="+i+"&totalNumber="+this.mingTotalNumber+"&rate="+this.mingRate+"&countWay="+this.mingResultCaculate).then(function(t){t.state?(e.rows=[],t.data.forEach(function(t,i){t.id=i,e.rows.push(t)})):"10001"==t.code?e.$toast("条件填写不完整，请重新填写！"):e.$toast(t.message)})},rateNumber:function(t){(t.target.value>100||t.target.value<1)&&(alert("请输入1-100之间的数值"),this.mingRate="")},mingTotalNumberInput:function(t){t.target.value<1&&(alert("总名额需大于0"),this.mingTotalNumber="")},clickC1:function(){this.checkMingLeval=!this.checkMingLeval},clickC2:function(){this.checkMingGrade=!this.checkMingGrade},clickC3:function(){this.checkMingClass=!this.checkMingClass},clickC4:function(){this.checkMingZhi=!this.checkMingZhi},clickC5:function(){this.checkMingMajor=!this.checkMingMajor},clickC6:function(){this.checkMingDepartment=!this.checkMingDepartment},showSetting:function(){var t=this;Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.d)("/api/app/quota/"+this.appId+"/"+this.curNode.id+"/getInitQuota?businessId="+(this.businessId?this.businessId:"")).then(function(e){if(e.state){if(e.data.alreadySet){e.data.appQuotaCollectVO.forEach(function(e,i){e.id=i,"总计"==e.college&&e.finalResult&&(t.totalTrueNumberA=e.finalResult)}),t.rows=e.data.appQuotaCollectVO,t.mingResultCaculate=e.data.countWay,t.mingTotalNumber=e.data.totalNumber,t.mingRate=e.data.rate,t.showTable=e.data.guideShow,e.data.conditions.forEach(function(e){"EDUCATIONLEVEL"==e&&(t.checkMingLeval=!0),"GRADE"==e&&(t.checkMingGrade=!0),"CLASS"==e&&(t.checkMingClass=!0),"STUDYYEARS"==e&&(t.checkMingZhi=!0),"MAJOR"==e&&(t.checkMingMajor=!0),"DEPARTMENT"==e&&(t.checkMingDepartment=!0)}),t.columnsModel=[{id:"college",title:"学院",className:"text-left",hidden:!1},{id:"totalPeople",title:"总人数",className:"text-left",hidden:!1},{id:"rate",title:"比例",className:"text-left",hidden:!1,formatter:function(t,e){return t.rate+"%"}},{id:"id",title:"id",className:"text-left",hidden:!0},{id:"countResult",title:"计算结果",className:"text-left",hidden:!1},{id:"finalResult",className:"text-left",title:"最终结果",hidden:!1,edit:{type:"number"}}];t.checkMingLeval&&(t.columnsModel.splice(1,0,{id:"educationLevel",title:"培养层次",className:"text-left",hidden:!1}),",EDUCATIONLEVEL"),t.checkMingGrade&&(t.columnsModel.splice(1,0,{id:"grade",title:"年级",className:"text-left",hidden:!1}),",GRADE"),t.checkMingClass&&(t.columnsModel.splice(1,0,{id:"className",title:"班级",className:"text-left",hidden:!1}),",CLASS"),t.checkMingZhi&&(t.columnsModel.splice(1,0,{id:"studyYears",title:"学制",className:"text-left",hidden:!1}),",STUDYYEARS"),t.checkMingMajor&&(t.columnsModel.splice(1,0,{id:"major",title:"专业",className:"text-left",hidden:!1}),",MAJOR"),t.checkMingDepartment&&(t.columnsModel.splice(1,0,{id:"department",title:"系别",className:"text-left",hidden:!1}),",DEPARTMENT")}else t.rows=[],t.mingResultCaculate="",t.mingTotalNumber="",t.mingRate="",t.showTable=!1,t.checkMingLeval=!1,t.checkMingGrade=!1,t.checkMingClass=!1,t.checkMingZhi=!1,t.checkMingMajor=!1,t.checkMingDepartment=!1;t.settingModelshow=!0}else"10001"==e.code?t.$toast("条件填写不完整，请重新填写！"):t.$toast(e.message)})},_afterSelectNodeType:function(t){},lick:function(t){},_back:function(){this.isChange&&confirm(this.translate.backTip)?this._saveFlow():this.$emit("back")},_setApplyOnce:function(t){this.curNode.attribute||this.$set(this.curNode,"attribute",{}),this.$set(this.curNode.attribute,"applyOnceLimit",t)},_optionsFixed:function(t){var e=[];return t.forEach(function(t){e.push({id:t,name:t})}),e},_saveFlow:function(){this.curFlow.nodes.length<this.$refs.flow.export().length?this.curFlow.nodes.splice(0,0,{id:"start",name:"",category:"start",nodeType:"1"}):this.curFlow.nodes.splice(0,1,{id:"start",name:"start",category:"start",nodeType:"1"});var t={id:this.flowData.id,chart:{nodes:this.$refs.flow.export()},settings:this.curFlow};t.settings.nodes.forEach(function(e){"condition"!==e.category&&(e.links=[],t.chart.nodes.forEach(function(t){e.id===t.id&&t.links.forEach(function(t){e.links.push({nextNodeId:t.id})})}))});var e=!0,i="";t.settings.nodes.forEach(function(t){"2"==t.nodeType&&(t.distributary="",t.operators=[]),"end"!==t.category&&(t.links&&0===t.links.length&&(e=!1,i+=t.name+"下一节点不明哟~\n"),t.links.forEach(function(a){a.nextNodeId||(e=!1,i+=t.name+"下一节点不明哟~\n")}))}),e?(this.$emit("submit",t),this.isChange=!1):this.$toast(i)},_afterSelectedDis:function(t,e){var i=this;this.isChange=!0,this.roleEditing=!1;var a=[];e.operators.forEach(function(t,n){t>0&&i._roleIdIsInDistributary(t,e.distributary)&&a.push(t)}),"byTeacher"!==e.distributary&&(e.operators=a),this.$refs.flow.setLineText(e.id,t.target.selected)},_afterSelectedDisOf:function(t,e){var i=this;this.isChange=!0,this.roleEditing=!1;var a=[];e.roleIds.forEach(function(t,n){t>0&&i._roleIdIsInDistributary(t,e.distributary)&&a.push(t)}),"byTeacher"!==e.distributary&&(e.roleIds=a)},_roleIdIsInDistributary:function(t,e){var i=!1;return this.roleList[e].forEach(function(e){e.id===t&&(i=!0)}),i},_initRoleList:function(t){var e=this;this.roleList[t]||(this.$set(this.roleList,t,[]),"bySchool"===t||"byCollege"===t?Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/approveRoles",type:"get",data:{level:"bySchool"===t?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(i){i.state?e.roleList[t]=i.data.reverse():e.$toast(i.message)}}):"byClass"===t?Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/relClass/classCommittees",type:"get",success:function(i){i.state?(i.data.forEach(function(t){t.name=t.text,t.id=parseInt(t.id)}),e.roleList[t]=i.data.reverse()):e.$toast(i.message)}}):"byBuilding"===t?Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/apartment/roles",type:"get",success:function(i){i.state?(i.data.forEach(function(t){t.name=t.name,t.id=parseInt(t.id)}),e.roleList[t]=i.data.reverse()):e.$toast(i.message)}}):"byParty"===t&&Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/partyBuild/organizations/personInChargeRole",type:"get",success:function(i){i.state?(i.data.forEach(function(t){t.name=t.name,t.id=parseInt(t.id)}),e.roleList[t]=i.data.reverse()):e.$toast(i.message)}}))},_getAuthorityOf:function(t,e){var i="",a=!1;return e.dataAuthorities&&e.dataAuthorities.forEach(function(e){t.name===e.componentName&&(i=e.authority,a=!0)}),a||(e.dataAuthorities.push({componentName:t.name,authority:"optional"}),i="optional"),i},_setCanExport:function(t,e){t.dataAuthorities[t.dataAuthoritiesKey[e.name]].exportable?t.exportNum--:t.exportNum++,t.dataAuthorities[t.dataAuthoritiesKey[e.name]].exportable=!t.dataAuthorities[t.dataAuthoritiesKey[e.name]].exportable},_changeExportAll:function(t){0===t.exportNum?(t.dataAuthorities.forEach(function(t){t.exportable=!0}),t.exportNum=t.dataAuthorities.length):(t.dataAuthorities.forEach(function(t){t.exportable=!1}),t.exportNum=0)},_setAuthorityOf:function(t,e,i){var a=this,n=!1;i.dataAuthorities&&i.dataAuthorities.forEach(function(i){t.name===i.componentName&&(n=!0,a.$set(i,"authority",e))}),n||i.dataAuthorities.push({componentName:t.name,authority:e})},_batchSure:function(){var t=this;this.isChange=!0,this.components.forEach(function(e,i){e.checked&&(t._getAuthorityOf(e,t.curNode)?t._setAuthorityOf(e,t._verifyBatch(e,t.batchCheck),t.curNode):t.curNode.dataAuthorities.push({authority:t._verifyBatch(e,t.batchCheck),componentName:e.name}),e.checked=!1)}),this.batchCheck=""},isShowCollector:function(t,e){var i=e.split("_");return!(!t.collector.flag||i[0]!=t.componentType)},_setCollect:function(t,e,i){t.collectorFlag=e,this.$forceUpdate(),this._refreshCheckCollect(this.components,"collectColumns")},_collectorSure:function(){var t=this;this.isChange=!0,this.collectorCheck&&(this.components.forEach(function(e,i){e.checkedCollect&&(e.collectorFlag="collected"===t.collectorCheck),e.checkedCollect=!1}),this._refreshCheckCollect(this.components,"collectColumns"),this.collectorCheck="")},_verifyBatch:function(t,e){var i=!1;return this.operatorData.forEach(function(a){a.id===e&&a.coms.indexOf(t.componentType)>=0&&(i=!0)}),i?e:""},_permissionClick:function(t){this.isChange=!0,this.curNode.operations[t.id].usable=!this.curNode.operations[t.id].usable},_attrOptionClick:function(t,e,i){this.isChange=!0,this.$set(this.curNode.operations[t.id].properties,e.id,i.id)},_changeCheckState:function(t,e,i){var a=this;this.isChange=!0;var n=!1;0===e&&(n=!0),t.forEach(function(t){t.checked=n}),"operators"===i&&(this.curNode[i]=[],t.forEach(function(t){n&&a.curNode[i].push(parseInt(t.id))}))},_changeCanExport:function(t,e){var i=this;this.curNode[e]=[],t.forEach(function(t){1==t.canExport&&i.curNode[e].push(t.name)})},_changeCheckStateXian:function(t,e){var i=this;this.curNode[e]=[],t.forEach(function(t){1==t.checkedXian&&i.curNode[e].push(t.name)})},_changeCheckStateCollect:function(t,e,i){var a=this;this.isChange=!0;var n=!1;0===e&&(n=!0),t.forEach(function(t){a.isShowCollector(t,t.name)&&(t.checkedCollect=n)})},_refreshCheckCollect:function(t,e){var i=this;this.curNode[e]=[],t.forEach(function(t){1==t.collectorFlag&&i.curNode[e].push(t.name)})},_checkOperators:function(t){this.isChange=!0,this.curNode.operators||this.$set(this.curNode,"roleIds",[]);var e=this.curNode.operators.indexOf(parseInt(t.id));e>=0?this.curNode.operators.splice(e,1):this.curNode.operators.push(parseInt(t.id))},_changeRoleIds:function(t,e){this.isChange=!0,e.roleIds||this.$set(e,"roleIds",[]),e.roleIds.length>0?e.roleIds=[]:t.forEach(function(t){e.roleIds.push(parseInt(t.id))})},_checkCopyRoleIds:function(t,e){this.isChange=!0,e.roleIds||this.$set(e,"roleIds",[]);var i=e.roleIds.indexOf(parseInt(t.id));i>=0?e.roleIds.splice(i,1):e.roleIds.push(parseInt(t.id))},_addNewProxyUser:function(){this.curNode.proxyUsers||this.$set(this.curNode,"proxyUsers",[]),this.curNode.proxyUsers.push({distributary:"bySchool",roleIds:[]})},_addNewCopyUser:function(){this.curNode.copyUsers||this.$set(this.curNode,"copyUsers",[]),this.curNode.copyUsers.push({distributary:"bySchool",roleIds:[]})},_checkComponent:function(t){var e=this;this.isChange=!0,this.curNode.links.forEach(function(i,a){i.condition&&(i.condition.component=t.name,e.$set(i.condition,"data",{}),"other"!==i.condition.operator&&e.$set(i.condition,"operator",""))})},_saveNewRole:function(t,e){var i=this;this.isChange=!0,""===t.replace(/\s/g,"")&&(this.roleAddErrorMsg=this.roleEmptyTip),this.roleList[e.distributary].forEach(function(e){t===e.name&&(i.roleAddErrorMsg&&(i.roleAddErrorMsg+=","),i.roleAddErrorMsg+=i.translate.roleExistTip)}),this.roleAddErrorMsg?setTimeout(function(){i.roleAddErrorMsg=""},1500):Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/approveRoles",type:"post",data:{name:t,level:"bySchool"===e.distributary?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(a){a.state?(i.roleList[e.distributary].unshift({id:a.data,name:t}),e.operators?e.operators.push(parseInt(a.data)):e.roleIds.push(parseInt(a.data)),i.roleEditing=!1,i.newRoleName=""):i.$toast(a.message)}})},_nodeSelected:function(t){var e=this;this.curFlow.nodes&&(this.components.forEach(function(t){t.checked=!1,t.checkedXian=!1,t.checkedCollect=!1,t.collectorFlag=!1}),this.curFlow.nodes.forEach(function(i){i.name&&i.name==t.target.name&&(e.components=e.components.map(function(t){void 0!=i.defaultVisibleTableColumns&&i.defaultVisibleTableColumns!=[]&&i.defaultVisibleTableColumns.forEach(function(e){t.name==e&&(t.checkedXian=!0)});var e=-1;return i.collectColumns&&i.collectColumns.length>0&&(e=i.collectColumns.findIndex(function(e){return e==t.name}),t.collectorFlag=e>=0),t}))})),this.roleEditing=!1,this.curTargetNode=t.target,this.curFlow.nodes.forEach(function(i,a){if(i.id===t.target.id){var n=0;if(i.dataAuthorities.forEach(function(t){t.exportable&&n++}),i.exportNum=n,e.curNode=i,e._initRoleList(e.curNode.distributary),e.curNode.copyUsers)for(var s in e.curNode.copyUsers);if(e.curNode.proxyUsers)for(var s in e.curNode.proxyUsers);"condition"===e.curNode.category&&e.curNode.links.forEach(function(t,i){t.condition&&"other"===t.condition.operator&&(e.otherLink=t)})}})},_nodeWaited:function(t){var e=this;this.isChange=!0,this.curFlow.nodes.forEach(function(i,a){i.id===t.target.id&&(e.curNode=i,"condition"===e.curNode.category&&e.curNode.links.forEach(function(t,i){t.condition&&"other"===t.condition.operator&&(e.otherLink=t)}))})},_nodeRemoved:function(t){var e=this;this.isChange=!0,this.curFlow.nodes.forEach(function(i,a){i.id===t.target.id&&e.curFlow.nodes.splice(a,1)});var i=[];this.curFlow.nodes.forEach(function(e,a){t.target.parents.indexOf(e.id)>=0&&i.push(e)}),i.forEach(function(i,a){"condition"===i.category&&i.links.forEach(function(i){i.nextNodeId===t.target.id&&e.$set(i,"nextNodeId","")})})},_nodeLinked:function(t){this.isChange=!0,"condition"===this.curNode.category&&(this.curLink.nextNodeId=t.target.id)},_nodeCreated:function(t){var e=this;this.isChange=!0;var i={};if(this.$set(i,"id",t.target.id),this.$set(i,"nodeType","1"),this.$set(i,"name",t.target.name),this.$set(i,"category",t.target.type),this.$set(i,"distributary",""),this.$set(i,"operators",[]),this.$set(i,"operations",JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.permission))),this.$set(i,"dataAuthorities",[]),this.$set(i,"links",[]),i.links.push({nextNodeId:"",condition:{component:"",operator:"other",data:{}}}),this.components.forEach(function(t,e){i.dataAuthorities.push({componentName:t.name,authority:"readonly",exportable:!0})}),i.exportNum=i.dataAuthorities.length,this.curFlow.nodes.push(i),"condition"==this.curNode.category)if(this.curNode.links){var a=this.curNode.links.length;this.curNode.links[a-1].nextNodeId||this.curNode.links[0].nextNodeId||""!=this.nextType||(this.curLink.nextNodeId=t.target.id),this.curNode.links[a-1].nextNodeId&&!this.curNode.links[0].nextNodeId&&"other"==this.nextType&&(this.nextType,this.$nextTick(function(){e.curLink.nextNodeId=t.target.id,e.otherLink.nextNodeId=t.target.id}))}else this.curLink.nextNodeId=t.target.id;else this.curNode=i},_syncToFlow:function(){this.isChange=!0,this.$refs.flow.refreshNodeText(this.curNode.id,this.curNode.name)},_afterSelectedCondition:function(t,e){this.isChange=!0,this.$set(e.condition,"data",{}),e.condition.component&&"address"===e.condition.component.split("_")[0]&&this.$set(e.condition.data,"value",{province:"",city:"",area:""})},_afterSelectedValue:function(t,e){this.isChange=!0;var i=t.target.$attrs["data-addType"];i&&("province"!==i&&e.condition.data.value||this.$set(e.condition.data,"value",{}),"city"===i&&this.$set(e.condition.data.value,"area",""),this.$set(e.condition.data.value,i,t.val))},_daySelectedOfValue:function(t){this.isChange=!0;var e=t.target.$attrs["data-index"];this.curNode.links[e].condition.data||this.$set(this.curNode.links[e].condition,"data",{}),this.$set(this.curNode.links[e].condition.data,"value",t.value)},_addNewCondition:function(t){this.isChange=!0;var e={nextNodeId:"",condition:{component:this.curComponent.name,operator:"other"===t?t:"",data:{}}};"other"===t?(this.nextType="other",this.otherLink=this.curNode.links[0],this._createBranch(this.otherLink)):(this.nextType="",this.curNode.links.push(e))},_createBranch:function(t){this.isChange=!0,t.nextNodeId||(this.curLink=t,this.$refs.flow.toCreateBranch(this.curNode.id))},_removeLink:function(t,e){this.isChange=!0,""===t.nextNodeId?this.curNode.links.splice(e,1):this.$toast(this.translate.removeNodeTip)},_getNodeById:function(t){return this.$refs.flow.getNodeById(t)},_refreshFlow:function(t){this.$refs.flow.refresh()},_showRoleEdit:function(t){this.roleEditing=!(t>=0)||t,this.newRoleName=""},_newRowInputFocus:function(t){this.newRoleName="copy"===t?"(抄送)"+this.appName+this.curNode.name+"管理员":"proxy"===t?"(代理)"+this.appName+this.curNode.name+"管理员":this.appName+this.curNode.name+"管理员"}},watch:{windowObj:{deep:!0,handler:function(t){this.$refs.flow&&this.$refs.flow.refresh()}},"curNode.dataAuthorities":function(t){var e=[];t.forEach(function(t,i){e[t.componentName]=i}),this.curNode.dataAuthoritiesKey=e}},destroyed:function(){}}},RQZw:function(t,e){},RgB4:function(t,e){},RyAT:function(t,e,i){"use strict";(function(e){var a=i("fUz/"),n=i("b40o"),s=i("uezc"),o=i("483g"),r=i("EVdu"),l=i("tK0m"),c=null;if(r.nodestream)try{c=i("W1g2")}catch(t){}function u(t,i){return new l.Promise(function(n,s){var r=[],l=t._internalType,c=t._outputType,u=t._mimeType;t.on("data",function(t,e){r.push(t),i&&i(e)}).on("error",function(t){r=[],s(t)}).on("end",function(){try{var t=function(t,e,i){switch(t){case"blob":return a.newBlob(a.transformTo("arraybuffer",e),i);case"base64":return o.encode(e);default:return a.transformTo(t,e)}}(c,function(t,i){var a,n=0,s=null,o=0;for(a=0;a<i.length;a++)o+=i[a].length;switch(t){case"string":return i.join("");case"array":return Array.prototype.concat.apply([],i);case"uint8array":for(s=new Uint8Array(o),a=0;a<i.length;a++)s.set(i[a],n),n+=i[a].length;return s;case"nodebuffer":return e.concat(i);default:throw new Error("concat : unsupported type '"+t+"'")}}(l,r),u);n(t)}catch(t){s(t)}r=[]}).resume()})}function d(t,e,i){var o=e;switch(e){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=e,this._mimeType=i,a.checkSupport(o),this._worker=t.pipe(new n(o)),t.lock()}catch(t){this._worker=new s("error"),this._worker.error(t)}}d.prototype={accumulate:function(t){return u(this,t)},on:function(t,e){var i=this;return"data"===t?this._worker.on(t,function(t){e.call(i,t.data,t.meta)}):this._worker.on(t,function(){a.delay(e,arguments,i)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},t)}},t.exports=d}).call(e,i("NfRg").Buffer)},Se9A:function(t,e,i){"use strict";Boolean,String,String,Boolean,Boolean,Boolean,Boolean;var a={props:{loader:Boolean,loaderText:String,title:String,inline:Boolean,small:Boolean,edit:Boolean,actions:Boolean}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"module",class:{"module-inline":t.inline,"module-actions":t.actions}},[t.actions?t._e():i("div",{staticClass:"title"},[i("i"),i("span",[t._v(t._s(t.title))])]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loader,expression:"loader"}],staticClass:"info",class:{"info-small":t.small,"info-edit":t.edit,loader:t.loader},attrs:{"element-loading-text":t.loaderText}},[t._t("default")],2)])},staticRenderFns:[]};var s=i("C7Lr")(a,n,!1,function(t){i("KutU")},"data-v-68a08618",null);e.a=s.exports},Si4x:function(t,e,i){"use strict";var a=i("CjlP");function n(t){a.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}i("fUz/").inherits(n,a),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),a=t.charCodeAt(2),n=t.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===e&&this.data[s+1]===i&&this.data[s+2]===a&&this.data[s+3]===n)return s-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),i=t.charCodeAt(1),a=t.charCodeAt(2),n=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&i===s[1]&&a===s[2]&&n===s[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=n},Sy4V:function(t,e){},T6UY:function(t,e,i){"use strict";var a=i("lC5x"),n=i.n(a),s=i("J0Oq"),o=i.n(s),r=i("hn+R"),l=i("VDkK"),c=i("713C"),u=i("V/it"),d=i("B/WJ"),p=i("Se9A"),h=i("N9Ox"),m=i("t7Ya"),_=i("fSJ2"),f=i("p+qa"),v=(Boolean,Boolean,Object,Number,l.a,c.a,u.a,d.a,r.a,h.a,p.a,{props:{onlyLook:Boolean,isManager:Boolean,dcw:Object,standUnitId:Number},components:{StandInfo:l.a,UnitInfo:c.a,PositionsInfo:u.a,RecruitmentInfo:d.a,StandPicker:r.a,ModuleLoader:h.a,ModuleContainer:p.a},data:function(){return{loading:!0,standsInitialized:!1,stands:[],units:[],hasChanged:!1,standUnitEditing:!0,unitApplyInfo:new m.d,standInfoRules:{chooseType:{hidden:!0}},unitInfoRules:{desc:{readonly:!0}}}},created:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.standUnitId){e.next=6;break}return t.standUnitEditing=!1,e.next=4,t.initUnitApplyInfo();case 4:e.next=8;break;case 6:return e.next=8,t.initUnits();case 8:t.loading=!1,t.initStands();case 10:case"end":return e.stop()}},e,t)}))()},methods:{initUnitApplyInfo:function(){var t=this;return o()(n.a.mark(function e(){var i,a,s,o,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=_.a.stand.getUnitApplyInfo,t.onlyLook&&(i=_.a.stand.getOpenUnitApplyInfo),e.next=4,i(t.standUnitId);case 4:a=e.sent,s=a.state,o=a.message,r=a.data,s?t.unitApplyInfo=m.d.fromApi(r):t.$toast(o);case 9:case"end":return e.stop()}},e,t)}))()},save:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.unitInfo.validate();case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),Object(f.a)(0,200),e.abrupt("return");case 9:if(t.unitApplyInfo.stands=t.stands.filter(function(t){return t.selected}),"UNIT"!==t.dcw.standInfo.chooseType||t.unitApplyInfo.stands.length){e.next=13;break}return t.$toast("您还未选择展位"),e.abrupt("return");case 13:if(!t.standUnitId){e.next=18;break}return e.next=16,t.update();case 16:e.next=20;break;case 18:return e.next=20,t.reserve();case 20:case"end":return e.stop()}},e,t,[[0,5]])}))()},update:function(){var t=this;return o()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.stand.updateStandUnit(t.unitApplyInfo);case 2:if(i=e.sent,a=i.state,s=i.message,i.data,!a){e.next=13;break}return t.$toast("更新成功"),t.hasChanged=!0,e.next=11,t.cancelEditStandUnit();case 11:e.next=14;break;case 13:t.$toast(s);case 14:case"end":return e.stop()}},e,t)}))()},reserve:function(){var t=this;return o()(n.a.mark(function e(){var i,a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.stand.reserve(t.dcw.id,t.unitApplyInfo);case 2:i=e.sent,a=i.state,s=i.message,i.data,a?t.$alert("预留成功","",{center:!0,showClose:!1}).then(function(){t.hasChanged=!0,t.backToDetail()}):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},initUnits:function(){var t=this;return o()(n.a.mark(function e(){var i,a,s,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.stand.getNoApplyUnits(t.dcw.id);case 2:i=e.sent,a=i.state,s=i.message,o=i.data,a?t.units=o.map(function(t){return{id:t.id,name:t.companyName}}):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},initStands:function(){var t=this.unitApplyInfo.stands.map(function(t){return t.id});this.stands=this.dcw.standInfo.stands.map(function(e){var i=new m.c(e);return t.includes(e.id)&&(i.selected=!0,i.occupied=!1),i}),this.standsInitialized=!0},toEditStandUnit:function(){this.standUnitEditing=!0},cancelEditStandUnit:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,Object(f.a)(0,200),e.next=4,t.initUnitApplyInfo();case 4:t.loading=!1,t.standUnitEditing=!1;case 6:case"end":return e.stop()}},e,t)}))()},cancelReserveDcw:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.standUnitId){e.next=5;break}return e.next=3,t.cancelEditStandUnit();case 3:e.next=6;break;case 5:t.$emit("back-to-detail",{refresh:!1});case 6:case"end":return e.stop()}},e,t)}))()},backToDetail:function(){this.$emit("back-to-detail",{refresh:this.hasChanged})}}}),g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"back",on:{click:t.backToDetail}},[i("i",{staticClass:"el-icon-back"}),t._v("返回\n  ")]),t._v(" "),i("div",{staticClass:"page-title"},[t._v("\n    "+t._s(t.dcw.baseInfo.name)+"\n    "),t.isManager?i("div",{staticClass:"operations-container-action"},[t.standUnitId&&!t.standUnitEditing?i("el-button",{attrs:{type:"text",icon:"el-icon-edit-outline"},on:{click:t.toEditStandUnit}},[t._v("编辑")]):t._e(),t._v(" "),t.standUnitId&&t.standUnitEditing?i("el-button",{attrs:{type:"text"},on:{click:t.cancelEditStandUnit}},[t._v("取消编辑")]):t._e()],1):t._e()]),t._v(" "),t.loading?i("module-loader"):i("div",{staticClass:"module-container"},[i("unit-info",{ref:"unitInfo",attrs:{dcw:t.dcw,units:t.units,edit:t.isManager&&!t.onlyLook&&t.standUnitEditing,rules:t.unitInfoRules},model:{value:t.unitApplyInfo,callback:function(e){t.unitApplyInfo=e},expression:"unitApplyInfo"}}),t._v(" "),t.unitApplyInfo.unitId?i("positions-info",{attrs:{dcw:t.dcw,edit:t.isManager&&!t.onlyLook&&t.standUnitEditing},model:{value:t.unitApplyInfo.positions,callback:function(e){t.$set(t.unitApplyInfo,"positions",e)},expression:"unitApplyInfo.positions"}}):t._e(),t._v(" "),t.unitApplyInfo.unitId?i("recruitment-info",{attrs:{edit:t.isManager&&!t.onlyLook&&t.standUnitEditing},model:{value:t.unitApplyInfo.recruitment,callback:function(e){t.$set(t.unitApplyInfo,"recruitment",e)},expression:"unitApplyInfo.recruitment"}}):t._e(),t._v(" "),i("stand-info",{attrs:{rules:t.onlyLook||!t.standUnitEditing?t.standInfoRules:{}},model:{value:t.dcw.standInfo,callback:function(e){t.$set(t.dcw,"standInfo",e)},expression:"dcw.standInfo"}}),t._v(" "),i("module-container",{attrs:{loader:!t.standsInitialized,loaderText:"正在加载展位信息",inline:""}},[t.standsInitialized&&!t.onlyLook&&t.standUnitEditing&&"UNIT"===t.dcw.standInfo.chooseType?i("stand-picker",{attrs:{dcw:t.dcw,selectable:""},model:{value:t.stands,callback:function(e){t.stands=e},expression:"stands"}}):t._e(),t._v(" "),t.onlyLook||!t.standUnitEditing?i("el-form",[i("el-form-item",{attrs:{label:"展位号"}},[i("p",[t._v(t._s(t.unitApplyInfo.stands.map(function(t){return t.name}).join(" ")))])])],1):"MANAGER"===t.dcw.standInfo.chooseType?i("el-form",[i("el-form-item",{attrs:{label:"展位号"}},[i("p",[t._v("预留展位后在排展管理中分配展位号")])])],1):t._e()],1),t._v(" "),!t.onlyLook&&t.standUnitEditing?i("module-container",{attrs:{actions:""}},[i("el-button",{attrs:{size:"large"},on:{click:t.cancelReserveDcw}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.save}},[t._v("保存")])],1):t._e()],1)],1)},staticRenderFns:[]};var y=i("C7Lr")(v,g,!1,function(t){i("Sy4V")},"data-v-1581941a",null);e.a=y.exports},TCGl:function(t,e){},TETH:function(t,e){},U4m3:function(t,e,i){"use strict";var a=i("fUz/"),n=i("uezc"),s=i("PObU"),o=i("BvaA"),r=i("x07i"),l=function(t,e){var i,a="";for(i=0;i<e;i++)a+=String.fromCharCode(255&t),t>>>=8;return a},c=function(t,e,i,n,c,u){var d,p,h=t.file,m=t.compression,_=u!==s.utf8encode,f=a.transformTo("string",u(h.name)),v=a.transformTo("string",s.utf8encode(h.name)),g=h.comment,y=a.transformTo("string",u(g)),b=a.transformTo("string",s.utf8encode(g)),C=v.length!==h.name.length,w=b.length!==g.length,T="",E="",k="",x=h.dir,S=h.date,A={crc32:0,compressedSize:0,uncompressedSize:0};e&&!i||(A.crc32=t.crc32,A.compressedSize=t.compressedSize,A.uncompressedSize=t.uncompressedSize);var D=0;e&&(D|=8),_||!C&&!w||(D|=2048);var I,O,M=0,P=0;x&&(M|=16),"UNIX"===c?(P=798,M|=(I=h.unixPermissions,O=I,I||(O=x?16893:33204),(65535&O)<<16)):(P=20,M|=63&(h.dosPermissions||0)),d=S.getUTCHours(),d<<=6,d|=S.getUTCMinutes(),d<<=5,d|=S.getUTCSeconds()/2,p=S.getUTCFullYear()-1980,p<<=4,p|=S.getUTCMonth()+1,p<<=5,p|=S.getUTCDate(),C&&(E=l(1,1)+l(o(f),4)+v,T+="up"+l(E.length,2)+E),w&&(k=l(1,1)+l(o(y),4)+b,T+="uc"+l(k.length,2)+k);var N="";return N+="\n\0",N+=l(D,2),N+=m.magic,N+=l(d,2),N+=l(p,2),N+=l(A.crc32,4),N+=l(A.compressedSize,4),N+=l(A.uncompressedSize,4),N+=l(f.length,2),N+=l(T.length,2),{fileRecord:r.LOCAL_FILE_HEADER+N+f+T,dirRecord:r.CENTRAL_FILE_HEADER+l(P,2)+N+l(y.length,2)+"\0\0\0\0"+l(M,4)+l(n,4)+f+T+y}};function u(t,e,i,a){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=i,this.encodeFileName=a,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(u,n),u.prototype.push=function(t){var e=t.meta.percent||0,i=this.entriesCount,a=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,n.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:i?(e+100*(i-a-1))/i:100}}))},u.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var i=c(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,i=c(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),e)this.push({data:function(t){return r.DATA_DESCRIPTOR+l(t.crc32,4)+l(t.compressedSize,4)+l(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var i=this.bytesWritten-t,n=function(t,e,i,n,s){var o=a.transformTo("string",s(n));return r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(t,2)+l(t,2)+l(e,4)+l(i,4)+l(o.length,2)+o}(this.dirRecords.length,i,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},u.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(t){var e=this._sources;if(!n.prototype.error.call(this,t))return!1;for(var i=0;i<e.length;i++)try{e[i].error(t)}catch(t){}return!0},u.prototype.lock=function(){n.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=u},"V/it":function(t,e,i){"use strict";var a=i("aA9S"),n=i.n(a),s=(i("68u/"),i("YXeK"),i("EA6R")),o=i.n(s),r=i("lC5x"),l=i.n(r),c=i("J0Oq"),u=i.n(c),d=i("p+qa"),p=i("2IYH"),h=(i("fSJ2"),i("Se9A")),m=i("VDzf"),_=(Boolean,Boolean,Object,p.a,h.a,m.a,{FULL_TIME:"全职",PRACTICE:"实习"}),f={props:{inline:Boolean,edit:Boolean,rules:{type:Object,default:{}}},mixins:[p.a],components:{ModuleContainer:h.a,Position:m.a},data:function(){return{showPositionDialog:!1,position:null,disabledEditPosition:!1,loading:!1,showAddDialog:!1,positionModel:"",positionModelList:[],isNewPosition:!1,loginType:""}},created:function(){var t=this;return u()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(d.j)().then(function(e){e.state&&(t.loginType=e.data.loginType,t.position&&("COMPANY"!=t.loginType?window.sessionStorage.setItem("addPosition_unitId",t.position.companyId):window.sessionStorage.removeItem("addPosition_unitId")))}),t.form.forEach(function(t){t.positionPropertyName=_[t.positionProperty]});case 2:case"end":return e.stop()}},e,t)}))()},methods:{selectModel:function(t){this.positionModel=t,this.position=this.positionModelList[t]},newAdd:function(){var t=this;setTimeout(function(){t.showAddDialog=!1,t.showPositionDialog=!0,t.isNewPosition=!0,t.position=null,t.disabledEditPosition=!1},0)},setPosition:function(){var t=this;if(""===this.positionModel)return this.$message.error("请先选择职位模板或新建职位模板");setTimeout(function(){t.showAddDialog=!1,t.showPositionDialog=!0},0)},toAddPosition:function(){var t=this;if(this.isNewPosition=!0,"COMPANY"!=this.loginType){var e=window.sessionStorage.getItem("addPosition_unitId");if(!e)return this.positionModelList=[],void(this.showAddDialog=!0);Object(d.m)(e).then(function(e){e.state&&(t.positionModelList=e.data,t.showAddDialog=!0)})}else Object(d.m)().then(function(e){e.state&&(t.positionModelList=e.data,t.showAddDialog=!0)})},editPosition:function(t,e){var i=this;setTimeout(function(){i.position=t,i.isNewPosition=!1,i.disabledEditPosition=!1,i.showPositionDialog=!0},200)},showPosition:function(t,e){this.position=t,this.disabledEditPosition=!0,this.showPositionDialog=!0},deletePosition:function(t,e){var i=this;o.a.confirm("确认删除"+t.positionName+"?").then(function(){i.position=null,i.form.splice(e,1)})},submitPosition:function(t){var e=this;this.loading=!0,t.positionPropertyName=_[t.positionProperty],this.position&&!this.isNewPosition?n()(this.position,t):(this.form.push(t),this.position=null),setTimeout(function(){e.loading=!1},100)}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.loading?i("module-container",{attrs:{loader:!0,title:"职位信息",inline:t.inline}}):i("module-container",{attrs:{title:"职位信息",inline:t.inline}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form}},[i("el-table-column",{attrs:{type:"index",width:"40"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionName",label:"职位名称",width:"260"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionPropertyName",label:"职位性质",width:"260"}}),t._v(" "),i("el-table-column",{attrs:{prop:"opt",label:"操作",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.edit?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.editPosition(e.row,e.$index)}}},[t._v("编辑")]):t._e(),t._v(" "),t.edit?i("el-button",{attrs:{slot:"reference",type:"text"},on:{click:function(i){return t.deletePosition(e.row,e.$index)}},slot:"reference"},[t._v("删除")]):t._e(),t._v(" "),t.edit?t._e():i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.showPosition(e.row,e.$index)}}},[t._v("详情")])]}}])})],1),t._v(" "),t.edit?i("div",{staticClass:"position-actions"},[i("el-button",{attrs:{icon:"el-icon-plus"},on:{click:t.toAddPosition}},[t._v("添加")])],1):t._e(),t._v(" "),t.showPositionDialog?i("position",{attrs:{disabledEditPosition:t.disabledEditPosition,showDialog:t.showPositionDialog,defaultFormInfo:t.position,readonly:!t.edit},on:{closeDialog:function(e){t.showPositionDialog=!1},positionSubmit:t.submitPosition}}):t._e(),t._v(" "),i("el-dialog",{attrs:{title:"选择要新增的职位",visible:t.showAddDialog,width:"30%"},on:{"update:visible":function(e){t.showAddDialog=e}}},[i("div",{staticClass:"addContent"},[i("el-select",{staticStyle:{width:"70%"},attrs:{placeholder:"请选择职位模板"},on:{change:t.selectModel},model:{value:t.positionModel,callback:function(e){t.positionModel=e},expression:"positionModel"}},t._l(t.positionModelList,function(t,e){return i("el-option",{key:e,attrs:{label:t.positionName,value:e}})}),1),t._v(" "),i("el-button",{staticStyle:{height:"40px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:t.newAdd}},[t._v("新建")])],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.showAddDialog=!1,t.positionModel=""}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.setPosition}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var g=i("C7Lr")(f,v,!1,function(t){i("xuiI")},"data-v-2aa1b638",null);e.a=g.exports},VDkK:function(t,e,i){"use strict";var a=i("lC5x"),n=i.n(a),s=i("J0Oq"),o=i.n(s),r=i("2IYH"),l=i("hn+R"),c=i("fSJ2"),u=i("Se9A"),d=(Boolean,Boolean,Object,r.a,l.a,u.a,{props:{inline:Boolean,edit:Boolean,rules:{type:Object,default:{}}},mixins:[r.a],components:{StandPicker:l.a,ModuleContainer:u.a},data:function(){return{uploadingSiteMap:!1}},computed:{siteMapPreview:function(){return""+(this.imageUrlPrefix+this.form.siteMap)}},methods:{uploadPicture:function(t){var e=this;return o()(n.a.mark(function i(){var a,s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.uploadingSiteMap=!0,i.next=3,c.a.uploadPicture(t.target.files[0]);case 3:if("88888"===(a=i.sent).code){i.next=6;break}return i.abrupt("return",e.$toast(a.message));case 6:s=a.data.hash,e.form.siteMap=s,e.uploadingSiteMap=!1;case 9:case"end":return i.stop()}},i,e)}))()},deleteSiteMap:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.form.siteMap=null;case 1:case"end":return e.stop()}},e,t)}))()},previewPicture:function(){this.$preview({name:"展位图",url:"/downloads/storage/files/"+this.form.siteMap,type:"png"})}}}),p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("module-container",{attrs:{title:"展位信息",inline:t.inline}},[t._t("start"),t._v(" "),t.edit?i("el-form",{ref:"form",attrs:{model:t.form},nativeOn:{submit:function(t){t.preventDefault()}}},[t.rules.chooseType&&t.rules.chooseType.hidden?t._e():i("el-form-item",{attrs:{label:"展位分配方式"}},[i("el-radio-group",{attrs:{disabled:t.rules.chooseType&&t.rules.chooseType.disabled},model:{value:t.form.chooseType,callback:function(e){t.$set(t.form,"chooseType",e)},expression:"form.chooseType"}},[i("el-radio",{attrs:{label:"UNIT"}},[t._v("单位选择场地")]),t._v(" "),i("el-radio",{attrs:{label:"MANAGER"}},[t._v("管理员分配")])],1)],1),t._v(" "),t.rules.chooseType&&t.rules.chooseType.hidden?t._e():i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"UNIT"===t.form.chooseType,expression:"form.chooseType === 'UNIT'"}],attrs:{label:"允许选择多个展位"}},[i("el-radio-group",{attrs:{disabled:t.rules.chooseType&&t.rules.chooseType.disabled},model:{value:t.form.canSelectMultiStands,callback:function(e){t.$set(t.form,"canSelectMultiStands",e)},expression:"form.canSelectMultiStands"}},[i("el-radio",{attrs:{label:!0}},[t._v("是")]),t._v(" "),i("el-radio",{attrs:{label:!1}},[t._v("否")])],1),t._v(" "),t.form.canSelectMultiStands?i("div",{staticClass:"limit-stands-selected"},[i("div",{staticClass:"line"},[t._v("上限")]),t._v(" "),i("el-input",{staticClass:"max-stands-choosed",attrs:{type:"number",size:"small",disabled:t.rules.chooseType&&t.rules.chooseType.disabled},model:{value:t.form.limitStandsSelected,callback:function(e){t.$set(t.form,"limitStandsSelected",e)},expression:"form.limitStandsSelected"}}),t._v(" "),i("div",{staticClass:"line"},[t._v("个")])],1):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:"展位图"}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.uploadingSiteMap,expression:"uploadingSiteMap"}],staticClass:"avatar-uploader"},[t.form.siteMap?i("img",{attrs:{src:t.siteMapPreview}}):i("div",{staticClass:"new"},[i("i",{staticClass:"el-icon-plus"},[t._v("上传展位图")]),t._v(" "),i("input",{attrs:{type:"file"},on:{change:function(e){return t.uploadPicture(e)}}})]),t._v(" "),t.form.siteMap?i("div",{staticClass:"change"},[i("i",{staticClass:"el-icon-upload2"},[t._v("重新上传")]),t._v(" "),i("i",{staticClass:"el-icon-close delete",on:{click:t.deleteSiteMap}}),t._v(" "),i("input",{attrs:{type:"file"},on:{change:function(e){return t.uploadPicture(e)}}})]):t._e()])])],1):i("el-form",{ref:"form",attrs:{model:t.form,size:"small"},nativeOn:{submit:function(t){t.preventDefault()}}},[t.rules.chooseType&&t.rules.chooseType.hidden?t._e():i("el-form-item",{attrs:{label:"展位分配方式"}},[i("p",[t._v(t._s("UNIT"===t.form.chooseType?"单位选择场地":"管理员分配"))])]),t._v(" "),t.rules.chooseType&&t.rules.chooseType.hidden?t._e():i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"UNIT"===t.form.chooseType,expression:"form.chooseType === 'UNIT'"}],attrs:{label:"允许选择多个展位"}},[i("span",[t._v(t._s(t.form.canSelectMultiStands?"是":"否"))]),t._v(" "),t.form.canSelectMultiStands?i("div",{staticClass:"limit-stands-selected"},[i("span",[t._v(t._s("(上限 "+t.form.limitStandsSelected+" 个)"))])]):t._e()]),t._v(" "),t.form.siteMap?i("el-form-item",{attrs:{label:"展位图"}},[i("div",{staticClass:"avatar-uploader readonly"},[t.form.siteMap?i("img",{attrs:{src:t.siteMapPreview,title:"查看大图"},on:{click:t.previewPicture}}):i("div",{staticClass:"new"},[i("i",{staticClass:"el-icon-picture"},[t._v("未上传展位图")])])])]):t._e()],1),t._v(" "),t._t("end")],2)},staticRenderFns:[]};var h=i("C7Lr")(d,p,!1,function(t){i("9roS")},"data-v-b151f5ec",null);e.a=h.exports},VDzf:function(t,e,i){"use strict";var a=i("HzJ8"),n=i.n(a),s=i("C331"),o=i("p+qa"),r={props:["showDialog","disabledEditPosition","defaultFormInfo","readonly","isEditPosition","saveToJobPool"],data:function(){return{loginType:"",checked:!1,loading:!0,dialogVisible:!1,options:[],cityOptions:[],dict_type:[],dict_duty:[],dict_moneyRange:[],dict_educational:[],positionInfoForm:{positionName:"",positionType:"",positionProperty:"",major:"0",diploma:"",salary:"",recruitNumber:"",workplace:"",positionRemarks:"",positionRequire:"",selectCity:[],positionTypeLabel:""},addPositionRules:{positionName:[{required:!0,message:"请输入职位名称",trigger:"blur"}],positionType:[{required:!0,message:"请输入职位类别",trigger:"change"}],positionProperty:[{required:!0,message:"请选择职位性质",trigger:"change"}],major:[{required:!0,message:"请选择专业要求",trigger:"change"}],diploma:[{required:!0,message:"请选择学历要求",trigger:"change"}],salary:[{required:!0,message:"请选择薪资范围",trigger:"change"}],recruitNumber:[{required:!0,message:"招聘人数不能为空"}],positionRemarks:[{required:!0,message:"请填写工作职责",trigger:"blur"}],positionRequire:[{required:!0,message:"请填写工作要求",trigger:"blur"}],selectCity:[{required:!0,message:"请选择工作地点",trigger:"change"}]}}},computed:{showSave:function(){if("COMPANY"==this.loginType)return 0!=this.saveToJobPool;var t=window.sessionStorage.getItem("addPosition_unitId");return this.saveToJobPool||t},positionTypeLabel:function(){var t=this;return(this.dict_type.find(function(e){return e.value===t.positionInfoForm.positionType})||{}).label},positionPropertyLabel:function(){return{PRACTICE:"实习",FULL_TIME:"全职"}[this.positionInfoForm.positionProperty]},majorLabel:function(){var t=this;return(this.dict_duty.find(function(e){return e.value===t.positionInfoForm.major})||{}).label},diplomaLabel:function(){var t=this;return(this.dict_educational.find(function(e){return e.value===t.positionInfoForm.diploma})||{}).label},salaryLabel:function(){var t=this;return(this.dict_moneyRange.find(function(e){return e.value===t.positionInfoForm.salary})||{}).label},selectCityLabel:function(){var t=[],e=(this.positionInfoForm.workplace||"").split(","),i=!0,a=!1,s=void 0;try{for(var o,r=n()(e);!(i=(o=r.next()).done);i=!0){var l=o.value,c=!0,u=!1,d=void 0;try{for(var p,h=n()(this.options);!(c=(p=h.next()).done);c=!0){var m=p.value;if(l===m.value){t.push(""+m.label);break}var _=!0,f=!1,v=void 0;try{for(var g,y=n()(m.children);!(_=(g=y.next()).done);_=!0){var b=g.value;if(l===b.value){t.push(""+m.label+b.label);break}var C=!0,w=!1,T=void 0;try{for(var E,k=n()(b.children);!(C=(E=k.next()).done);C=!0){var x=E.value;if(l===x.value){t.push(""+m.label+b.label+x.label);break}}}catch(t){w=!0,T=t}finally{try{!C&&k.return&&k.return()}finally{if(w)throw T}}}}catch(t){f=!0,v=t}finally{try{!_&&y.return&&y.return()}finally{if(f)throw v}}}}catch(t){u=!0,d=t}finally{try{!c&&h.return&&h.return()}finally{if(u)throw d}}}}catch(t){a=!0,s=t}finally{try{!i&&r.return&&r.return()}finally{if(a)throw s}}return t.join("  ")}},methods:{removePlace:function(){},positionTypeChange:function(){var t=this;setTimeout(function(){""!=t.$refs.cascader.inputValue&&(t.positionInfoForm.positionTypeLabel=t.$refs.cascader.inputValue,t.positionInfoForm.positionTypeName=t.$refs.cascader.inputValue)},20)},getAddress:function(){var t=this;Object(s.e)({url:"/api/employment/system/getThreeLevelDict?typeName=地区",type:"get",success:function(e){e.state&&(t.options=e.data,setTimeout(function(){t.loading=!1},100))}})},getPosition:function(){var t=this;Object(s.e)({url:"/api/employment/system/findLinkDict?typeName=职业",type:"get",success:function(e){e.state&&(t.dict_type=e.data)}})},getDictList:function(t,e){var i=this;Object(o.i)(t).then(function(t){t.state?i[e]=t.data:i[e]=[]})},getPositionList:function(){},addressChange:function(t){this.cityOptions=t},cancle:function(t){this.$refs.positionInfoForm&&(this.$refs.positionInfoForm.resetFields(),this.$refs.positionInfoForm.clearValidate()),this.$emit("closeDialog"),"function"==typeof t&&t()},close:function(t){this.cancle(t)},submit:function(){var t=this;this.$refs.positionInfoForm.validate(function(e){if(e){if(!t.positionInfoForm.selectCity.length)return t.$message.error("请选择工作地点");if(t.disabledEditPosition)return void t.$emit("closeDialog");var i=t.positionInfoForm;t.positionInfoForm.positionType;if(i.workplace=t.cityOptions.join(","),"COMPANY"!=t.loginType&&(i.companyId=window.sessionStorage.getItem("addPosition_unitId")),t.checked){Object(s.e)({url:"/api/employment/positionTemplate/addPositionTemplate",type:"post",data:i,success:function(e){e.state||t.$message.error("添加到职位库失败")}})}t.$message.success("保存成功"),t.$emit("positionSubmit",i),t.$emit("closeDialog")}})},getLoginType:function(){var t=this;Object(o.j)().then(function(e){e.state?t.loginType=e.data.loginType:t.loginType=""})},defaultForm:function(){if(this.defaultFormInfo){this.loading=!0;var t=this.defaultFormInfo;this.positionInfoForm={positionName:t.positionName,positionType:t.positionType,positionProperty:t.positionProperty,major:t.major,diploma:t.diploma,salary:t.salary,recruitNumber:t.recruitNumber,workplace:t.workplace,positionRemarks:t.positionRemarks,positionRequire:t.positionRequire,positionTypeName:t.positionTypeName?t.positionTypeName:t.type};var e=this.positionInfoForm.workplace.split(",");e.length?(this.positionInfoForm.selectCity=e,this.cityOptions=e):(this.positionInfoForm.selectCity=[],this.cityOptions=[]),t.id&&(this.positionInfoForm.id=t.id)}}},created:function(){this.defaultForm(),this.getDictList("专业要求","dict_duty"),this.getDictList("薪资范围","dict_moneyRange"),this.getDictList("学历","dict_educational"),this.getPosition(),this.getAddress(),this.getLoginType()}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"position"}},[i("el-dialog",{attrs:{close:"changeEmail-dialog",title:t.readonly||t.disabledEditPosition?t.positionInfoForm.positionName:"编辑职位",width:"60%",visible:t.showDialog,"close-on-click-modal":t.readonly||!1,"before-close":t.close,center:""},on:{"update:visible":function(e){t.showDialog=e}}},[t.readonly?i("el-form",{ref:"positionInfoForm",staticClass:"add-position-form",attrs:{model:t.positionInfoForm}},[i("el-form-item",{attrs:{label:"职位名称",prop:"positionName"}},[i("p",[t._v(t._s(t.positionInfoForm.positionName))])]),t._v(" "),i("el-form-item",{attrs:{label:"职位类别",prop:"positionType"}},[i("p",[t._v(t._s(t.positionInfoForm.positionTypeName))])]),t._v(" "),i("el-form-item",{attrs:{label:"职位性质",prop:"positionProperty"}},[i("p",[t._v(t._s(t.positionPropertyLabel))])]),t._v(" "),i("el-form-item",{attrs:{label:"专业要求",prop:"major"}},[i("p",[t._v(t._s(t.majorLabel))])]),t._v(" "),i("el-form-item",{attrs:{label:"培养层次",prop:"diploma"}},[i("p",[t._v(t._s(t.diplomaLabel))])]),t._v(" "),i("el-form-item",{attrs:{label:"薪资范围",prop:"salary"}},[i("p",[t._v(t._s(t.salaryLabel))])]),t._v(" "),i("el-form-item",{attrs:{label:"招聘人数",prop:"recruitNumber"}},[i("p",[t._v(t._s(t.positionInfoForm.recruitNumber))])]),t._v(" "),i("el-form-item",{attrs:{label:"工作地点",prop:"selectCity"}},[i("p",[t._v(t._s(t.selectCityLabel))])]),t._v(" "),i("el-form-item",{attrs:{label:"工作职责",prop:"positionRemarks"}},[i("p",[t._v(t._s(t.positionInfoForm.positionRemarks))])]),t._v(" "),i("el-form-item",{attrs:{label:"工作要求",prop:"positionRequire"}},[i("p",[t._v(t._s(t.positionInfoForm.positionRequire))])])],1):t._e(),t._v(" "),t.readonly||t.loading?t._e():i("el-form",{ref:"positionInfoForm",staticClass:"add-position-form",attrs:{rules:t.addPositionRules,"label-width":"120px",model:t.positionInfoForm,disabled:t.disabledEditPosition}},[i("el-form-item",{attrs:{label:"职位名称",prop:"positionName"}},[i("el-input",{staticClass:"custom-el-input",attrs:{placeholder:"请输入职位名称"},model:{value:t.positionInfoForm.positionName,callback:function(e){t.$set(t.positionInfoForm,"positionName",e)},expression:"positionInfoForm.positionName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"职位类别",prop:"positionType"}},[i("el-select",{attrs:{placeholder:"请选择职位类别"},model:{value:t.positionInfoForm.positionType,callback:function(e){t.$set(t.positionInfoForm,"positionType",e)},expression:"positionInfoForm.positionType"}},t._l(t.dict_type,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"职位性质",prop:"positionProperty"}},[i("el-radio-group",{model:{value:t.positionInfoForm.positionProperty,callback:function(e){t.$set(t.positionInfoForm,"positionProperty",e)},expression:"positionInfoForm.positionProperty"}},[i("el-radio",{attrs:{label:"PRACTICE"}},[t._v("实习")]),t._v(" "),i("el-radio",{attrs:{label:"FULL_TIME"}},[t._v("全职")])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"专业要求",prop:"major"}},[i("el-select",{attrs:{placeholder:"请选择专业要求"},model:{value:t.positionInfoForm.major,callback:function(e){t.$set(t.positionInfoForm,"major",e)},expression:"positionInfoForm.major"}},t._l(t.dict_duty,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"培养层次",prop:"diploma"}},[i("el-select",{attrs:{placeholder:"请选择学历要求"},model:{value:t.positionInfoForm.diploma,callback:function(e){t.$set(t.positionInfoForm,"diploma",e)},expression:"positionInfoForm.diploma"}},t._l(t.dict_educational,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"薪资范围",prop:"salary"}},[i("el-select",{attrs:{placeholder:"请选择薪资范围"},model:{value:t.positionInfoForm.salary,callback:function(e){t.$set(t.positionInfoForm,"salary",e)},expression:"positionInfoForm.salary"}},t._l(t.dict_moneyRange,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"招聘人数",prop:"recruitNumber"}},[i("el-input",{staticClass:"custom-el-input",attrs:{type:"number",min:"1"},model:{value:t.positionInfoForm.recruitNumber,callback:function(e){t.$set(t.positionInfoForm,"recruitNumber",e)},expression:"positionInfoForm.recruitNumber"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"工作地点",prop:"selectCity"}},[i("el-cascader",{staticStyle:{width:"100%"},attrs:{options:t.options,props:{multiple:!0,checkStrictly:!0,emitPath:!1}},on:{"remove-tag":t.removePlace,change:t.addressChange},model:{value:t.positionInfoForm.selectCity,callback:function(e){t.$set(t.positionInfoForm,"selectCity",e)},expression:"positionInfoForm.selectCity"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"工作职责",prop:"positionRemarks"}},[i("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"工作职责",resize:"none"},model:{value:t.positionInfoForm.positionRemarks,callback:function(e){t.$set(t.positionInfoForm,"positionRemarks",e)},expression:"positionInfoForm.positionRemarks"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"工作要求",prop:"positionRequire"}},[i("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"工作要求",resize:"none"},model:{value:t.positionInfoForm.positionRequire,callback:function(e){t.$set(t.positionInfoForm,"positionRequire",e)},expression:"positionInfoForm.positionRequire"}})],1),t._v(" "),t.showSave?i("el-form-item",[i("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("是否保存到职业模板库")])],1):t._e()],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.readonly?t._e():i("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")]),t._v(" "),t.readonly?t._e():i("el-button",{attrs:{plain:""},on:{click:t.cancle}},[t._v("取消")])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mask"},[i("img",{staticStyle:{width:"100%"},attrs:{src:"/static/image/employment/load.gif",alt:""}})])],1)],1)},staticRenderFns:[]};var c=i("C7Lr")(r,l,!1,function(t){i("Iu39"),i("q48g")},"data-v-61aa2636",null);e.a=c.exports},"VJ/y":function(t,e){},VhEo:function(t,e,i){var a={"./pic01.png":"ftOC","./pic02.png":"pR0g","./pic03.png":"ItSV","./pic04.png":"h6E8"};function n(t){return i(s(t))}function s(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(a)},n.resolve=s,t.exports=n,n.id="VhEo"},W1g2:function(t,e,i){"use strict";var a=i("C6sy").Readable;function n(t,e,i){a.call(this,e),this._helper=t;var n=this;t.on("data",function(t,e){n.push(t)||n._helper.pause(),i&&i(e)}).on("error",function(t){n.emit("error",t)}).on("end",function(){n.push(null)})}i("fUz/").inherits(n,a),n.prototype._read=function(){this._helper.resume()},t.exports=n},WD6V:function(t,e,i){"use strict";var a=i("C331"),n={props:["dataUrl"],data:function(){return{logList:[]}},methods:{getLog:function(){var t=this;Object(a.e)({url:this.dataUrl,type:"get",success:function(e){e.state?t.logList=e.data:t.logList=[]}})}},watch:{dataUrl:{immediate:!0,handler:function(t){""!=t&&this.getLog()}}},created:function(){}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timeline"},[t.logList.length?i("el-timeline",t._l(t.logList,function(e,a){return i("el-timeline-item",{key:a,attrs:{timestamp:e.operationTime,placement:"top"}},["license"!=e.fieldName&&"summary"!=e.fieldName?i("el-card",[i("h3",{domProps:{innerHTML:t._s(e.operatorName)}}),t._v(" "),i("h5",{domProps:{innerHTML:t._s(t.operationTime)}}),t._v(" "),i("h4",{domProps:{innerHTML:t._s("修改了"+e.fieldChineseName)}}),t._v(" "),i("p",{staticClass:"overflow nowrap"},[i("span",[t._v("修改前：")]),i("i",{attrs:{title:e.oldValue?e.oldValue.replace(/<[^>]+>/g,""):""},domProps:{innerHTML:t._s(e.oldValue)}})]),t._v(" "),i("p",{staticClass:"overflow nowrap"},[i("span",[t._v("修改后：")]),i("i",{attrs:{title:e.newValue?e.newValue.replace(/<[^>]+>/g,""):""},domProps:{innerHTML:t._s(e.newValue)}})])]):i("el-card",[i("h3",{domProps:{innerHTML:t._s(e.operatorName)}}),t._v(" "),i("h5",{domProps:{innerHTML:t._s(t.operationTime)}}),t._v(" "),i("h4",{domProps:{innerHTML:t._s("修改了"+e.fieldChineseName)}}),t._v(" "),"license"==e.fieldName?i("p",{staticClass:"license"},[i("span",[t._v("修改前：")]),i("img",{attrs:{src:"/upload/storage/images/"+e.oldValue,alt:""}})]):t._e(),t._v(" "),"summary"==e.fieldName?i("p",{staticClass:"sumarry"},[i("span",[t._v("修改前：")]),i("i",{domProps:{innerHTML:t._s(e.oldValue)}})]):t._e(),t._v(" "),"license"==e.fieldName?i("p",{staticClass:"license"},[i("span",[t._v("修改后：")]),i("img",{attrs:{src:"/upload/storage/images/"+e.newValue,alt:""}})]):t._e(),t._v(" "),"summary"==e.fieldName?i("p",{staticClass:"sumarry"},[i("span",[t._v("修改后：")]),i("i",{domProps:{innerHTML:t._s(e.newValue)}})]):t._e()])],1)}),1):i("div",[i("p",[t._v("暂无操作记录")])])],1)},staticRenderFns:[]};var o=i("C7Lr")(n,s,!1,function(t){i("RQZw"),i("VJ/y")},"data-v-95b592a6",null);e.a=o.exports},XfSg:function(t,e,i){"use strict";var a=i("lC5x"),n=i.n(a),s=i("J0Oq"),o=i.n(s),r=i("C331");e.a={get:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/networkMeeting/getNetworkMeetingInfo?id="+t}));case 1:case"end":return e.stop()}},i,e)}))()},getPublic:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/platform/getNetworkMeetingInfo?id="+t}));case 1:case"end":return e.stop()}},i,e)}))()},create:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/addNetworkMeeting",type:"post",data:t.toApiOjf()}));case 1:case"end":return e.stop()}},i,e)}))()},update:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/updateNetworkMeeting",type:"post",data:t.toApiOjf()}));case 1:case"end":return e.stop()}},i,e)}))()},changeTop:function(t,e){var i=this;return o()(n.a.mark(function a(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/setTop?id="+t+"&isTop="+(e?"YES":"NO"),type:"post"}));case 1:case"end":return i.stop()}},a,i)}))()},unShelve:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/undercarriage?id="+t+"&isUnder=true",type:"post"}));case 1:case"end":return e.stop()}},i,e)}))()},shelve:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/undercarriage?id="+t+"&isUnder=false",type:"post"}));case 1:case"end":return e.stop()}},i,e)}))()},publish:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/release?id="+t,type:"post"}));case 1:case"end":return e.stop()}},i,e)}))()},apply:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/networkMeeting/applyNetworkMeeting",type:"post",data:t.toApiApplyInfo()}));case 1:case"end":return e.stop()}},i,e)}))()},applyByManager:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/netWorkAddCompany",type:"post",data:t.toApiApplyInfo()}));case 1:case"end":return e.stop()}},i,e)}))()},getOjfUnitApplyById:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/networkMeeting/getNetworkMeetingParticipantInfo?id="+t}));case 1:case"end":return e.stop()}},i,e)}))()},getPublicOjfUnitApplyById:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/platform/getNetworkMeetingParticipantInfo?id="+t}));case 1:case"end":return e.stop()}},i,e)}))()},getMyOjfUnitApply:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/platform/getNetworkMeetingParticipantInfo?netWorkId="+t}));case 1:case"end":return e.stop()}},i,e)}))()},countermand:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/networkMeeting/recall?id="+t,type:"post"}));case 1:case"end":return e.stop()}},i,e)}))()},reject:function(t,e){var i=this;return o()(n.a.mark(function a(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/rejectApply?participantId="+t+"&reason="+(e||""),type:"post"}));case 1:case"end":return i.stop()}},a,i)}))()},disagree:function(t,e){var i=this;return o()(n.a.mark(function a(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/refuseApply?participantId="+t+"&reason="+(e||""),type:"post"}));case 1:case"end":return i.stop()}},a,i)}))()},agree:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/agreeApply",type:"post",data:t.toApiApplyInfo()}));case 1:case"end":return e.stop()}},i,e)}))()},upsertOjfUnitApply:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/netWorkAddCompany",type:"post",data:t.toApiApplyInfo()}));case 1:case"end":return e.stop()}},i,e)}))()},getNoJoinedUnits:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/networkMeeting/getUnParticipateCompanyList?id="+t}));case 1:case"end":return e.stop()}},i,e)}))()}}},XqSp:function(t,e,i){var a=function(){return this}()||Function("return this")(),n=a.regeneratorRuntime&&Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime")>=0,s=n&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,t.exports=i("k9rz"),n)a.regeneratorRuntime=s;else try{delete a.regeneratorRuntime}catch(t){a.regeneratorRuntime=void 0}},Y253:function(t,e,i){"use strict";var a=i("VDzf"),n=i("p+qa"),s=(a.a,{components:{position:a.a},props:["defaultInfo"],data:function(){return{showDialog:!1,tableData:[],defaultFormInfo:null,isEditPosition:!0,curPositionIndex:"",disabledEditPosition:!0,showAddDialog:!1,positionModelList:[],positionModel:"",loginType:""}},methods:{setPosition:function(){var t=this;if(""===this.positionModel)return this.$message.error("请先选择职位模板或新建职位模板");setTimeout(function(){t.showAddDialog=!1,t.showDialog=!0,t.isEditPosition=!0,t.curPositionIndex=-1,t.isEditPosition=!0},0)},newAdd:function(){var t=this;setTimeout(function(){t.showAddDialog=!1,t.showDialog=!0,t.defaultFormInfo=null,t.isEditPosition=!0,t.disabledEditPosition=!1},0)},selectModel:function(t){this.positionModel=t,this.defaultFormInfo=this.positionModelList[t]},addPosition:function(){var t=this;if("COMPANY"!=this.loginType){var e=window.sessionStorage.getItem("addPosition_unitId");if(!e)return this.positionModelList=[],void(this.showAddDialog=!0);Object(n.m)(e).then(function(e){e.state&&(t.positionModelList=e.data,t.showAddDialog=!0)})}else Object(n.m)().then(function(e){e.state&&(t.positionModelList=e.data,t.showAddDialog=!0)})},closeDialog:function(){this.showDialog=!1},Delete:function(t,e){var i=this;t.id?Object(n.e)(t.id).then(function(t){t.state?(i.$message.success("删除成功"),i.tableData.splice(e,1)):i.$message.error(t.message)}):this.tableData.splice(e,1)},edit:function(t,e){var i=this;setTimeout(function(){i.showDialog=!0,i.isEditPosition=!1,i.defaultFormInfo=t,i.curPositionIndex=e},0)},positionSubmit:function(t){var e=this;setTimeout(function(){(!e.isEditPosition||e.defaultFormInfo&&e.defaultFormInfo.id)&&e.curPositionIndex>=0&&e.tableData.splice(e.curPositionIndex,1),e.tableData.push(t)},20)}},created:function(){var t=this;Object(n.j)().then(function(e){e.state&&(t.loginType=e.data.loginType,t.defaultInfo?("COMPANY"!=t.loginType?window.sessionStorage.setItem("addPosition_unitId",t.defaultInfo.companyId):window.sessionStorage.removeItem("addPosition_unitId"),t.defaultInfo.recruitmentPositionTableDTOList.length&&(t.tableData=t.defaultInfo.recruitmentPositionTableDTOList)):window.sessionStorage.removeItem("addPosition_unitId"))})}}),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"positionEdit"}},[t._m(0),t._v(" "),i("div",{staticClass:"table"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[i("el-table-column",{attrs:{width:"100",type:"index",label:"#"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionName",label:"职位名称"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionProperty",label:"职位性质"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s("PRACTICE"==e.row.positionProperty?"实习":"全职"))])]}}])}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.edit(e.row,e.$index)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.Delete(e.row,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("div",{staticClass:"add-position-warp"},[i("el-button",{staticClass:"add-position",attrs:{icon:"el-icon-plus",plain:""},on:{click:t.addPosition}},[t._v("添加")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"选择要新增的职位",visible:t.showAddDialog,width:"30%"},on:{"update:visible":function(e){t.showAddDialog=e}}},[i("div",{staticClass:"addContent"},[i("el-select",{staticStyle:{width:"70%"},attrs:{placeholder:"请选择职位模板"},on:{change:t.selectModel},model:{value:t.positionModel,callback:function(e){t.positionModel=e},expression:"positionModel"}},t._l(t.positionModelList,function(t,e){return i("el-option",{key:e,attrs:{label:t.positionName,value:e}})}),1),t._v(" "),i("el-button",{staticStyle:{height:"40px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:t.newAdd}},[t._v("新建")])],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.showAddDialog=!1,t.positionModel=""}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.setPosition}},[t._v("确 定")])],1)]),t._v(" "),t.showDialog?i("position",{attrs:{isEditPosition:t.isEditPosition,showDialog:t.showDialog,defaultFormInfo:t.defaultFormInfo},on:{closeDialog:t.closeDialog,positionSubmit:t.positionSubmit}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title clearfix"},[e("h1",[e("span",[e("em"),this._v(" "),e("i",[this._v("职位信息")])])])])}]};var r=i("C7Lr")(s,o,!1,function(t){i("QvFT"),i("vKg7")},"data-v-aa703b58",null);e.a=r.exports},Y9KO:function(t,e,i){"use strict";var a={};(0,i("A1wG").assign)(a,i("8vQV"),i("zFav"),i("hxZu")),t.exports=a},YPa4:function(t,e,i){"use strict";var a=i("fUz/"),n=i("uezc");function s(t,e){n.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}a.inherits(s,n),s.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},s.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},Ycmu:function(t,e){(function(e){t.exports=e}).call(e,{})},Z9v7:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__=__webpack_require__("HzJ8"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__=__webpack_require__("ZLEe"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__=__webpack_require__("3cXf"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_3_vue__=__webpack_require__("kV13"),__WEBPACK_IMPORTED_MODULE_4_jquery__=__webpack_require__("qqHy"),__WEBPACK_IMPORTED_MODULE_4_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_jquery__),__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__=__webpack_require__("C331"),__WEBPACK_IMPORTED_MODULE_6__computed__=__webpack_require__("6s1/"),__WEBPACK_IMPORTED_MODULE_7__mixins_advancedSearch2_js__=__webpack_require__("/LmD");__webpack_exports__.a={mixins:[__WEBPACK_IMPORTED_MODULE_7__mixins_advancedSearch2_js__.a],inject:{windowObj:{default:null}},props:{departmentId:{default:null},student:{default:null},appId:{default:null},formId:{default:null},initWay:{default:"create"},app:{default:null},businessId:{default:null},infoSetting:{default:null}},components:{computed:__WEBPACK_IMPORTED_MODULE_6__computed__.a},created:function(){var t=this,e=localStorage.getItem("lang");Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.g)(e)&&(this.lang=e),this.pageStamp=Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)(),this.layoutSetting.scrollContainer="#formSetPage"+this.pageStamp+" .form-part .cells-div",this.title!==this.app||this.app.name,this.formSetting.leftSideData.base.forEach(function(e){e.title=t.translate.fieldTypeList[e.componentType],t._initWigt(e)}),this.formSetting.leftSideData.table.forEach(function(e){e.title=t.translate.fieldTypeList[e.componentType],t._initWigt(e)}),this.formSetting.leftSideData.nameCard.forEach(function(e){e.title=t.translate.fieldTypeList[e.componentType],t._initWigt(e)}),this.formSetting.triggers.eventsList.forEach(function(e){e.name=t.translate.eventsList[e.id]}),this._getSettingData(),this.infoSetting?(Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/information/columns/"+this.infoSetting.type,type:"get",success:function(e){e.state&&e.data&&e.data.length>0&&(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.info=e.data)}}),this.personalInfoSetting.infoLayoutUrl="/api/information/infoSettings/init/"+this.infoSetting.type,this._getPersonalInfoOf(this.infoSetting.tabs&&this.infoSetting.tabs[0])):this._getFormInfo()},data:function(){return{appearConfig:!1,appearRoleId:!1,nameCardTypeRoleIdArr:[],dataCenterArray:[{value:1,label:"是的"}],actionPartStatus:!1,showAddMemberModal:!1,showComputedModal:!1,computedProperties:"",controlList:[{name:"控件1",value:1,id:"kj1"},{name:"控件2",value:2,id:"kj2"},{name:"控件3",value:3,id:"kj3"},{name:"控件4",value:4,id:"kj4"},{name:"控件5",value:5,id:"kj5"},{name:"控件6",value:6,id:"kj6"}],newFenlei:"",setPreview:!1,pageStamp:"",title:"",formSetting:{leftSideControl:{showFavorWigt:!1,showFormWigt:!1,showInfoWigt:!1,showSysWigt:!1,showFormName:"",showSysName:""},nameCardItemInitial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]}],leftSideData:{base:[{title:"输入框",top:0,left:0,w:3,h:1,componentType:"input"},{title:"下拉单选框",top:0,left:0,w:3,h:1,componentType:"select"},{title:"单选框",top:0,left:0,w:3,h:1,componentType:"radio"},{title:"复选框",top:0,left:0,w:3,h:1,componentType:"checkbox"},{title:"数字框",top:0,left:0,w:3,h:1,componentType:"number"},{title:"日期",top:0,left:0,w:3,h:1,componentType:"datetime"},{title:"文本",top:0,left:0,w:3,h:1,componentType:"label"},{title:"图片",top:0,left:0,w:3,h:2,componentType:"image"},{title:"电子签名",top:0,left:0,w:3,h:2,componentType:"signature"},{title:"定位",top:0,left:0,w:6,h:3,componentType:"map"},{title:"附件",top:0,left:0,w:3,h:2,componentType:"attachment"},{title:"分割线",top:0,left:0,w:12,h:1,componentType:"splitLine"},{title:"省、地、市(县)",top:0,left:0,w:6,h:1,componentType:"address"},{title:"表格(下方区域配置表格字段)",top:0,left:0,w:12,h:1,componentType:"table"},{title:"名片(下方区域配置名片字段)",top:0,left:0,w:6,h:3,componentType:"nameCard"}],table:[{title:"输入框",componentType:"input"},{title:"下拉单选框",componentType:"select"},{title:"单选框",componentType:"radio"},{title:"复选框",componentType:"checkbox"},{title:"数字框",componentType:"number"},{title:"日期",componentType:"datetime"}],nameCard:[{title:"输入框",componentType:"input"},{title:"日期",componentType:"datetime"}],info:[],favor:[],form:[],sys:[]},attributesShow:{nameCardItem:{initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]}]},input:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","rows","joinStatistics","joinTableCompare"],verification:["regexExpression","errorPrompt","maxLength","minLength"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},number:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","precision"],verification:["maxValue","minValue"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]},{id:"computed",name:"计算结果"}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},datetime:{xResizable:!0,yResizable:!1,basic:["exportable","placeholder","dateFormat","joinStatistics"],verification:["maxDate","minDate"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},radio:{xResizable:!0,yResizable:!0,basic:["exportable","options","autoSelect","joinStatistics"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},checkbox:{xResizable:!0,yResizable:!0,basic:["exportable","options","autoSelect","joinStatistics"],verification:["maxSelect","minSelect"],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},select:{xResizable:!0,yResizable:!1,basic:["exportable","options","autoSelect","joinStatistics","joinTableCompare"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"fixedValue",name:"固定值",attributes:["fixedValue"]},{id:"systemValue",name:"系统值",attributes:["dataField"]},{id:"networkInterface",name:"网络接口",attributes:["url","method","key","params"]},{id:"systemFunction",name:"系统方法",attributes:["className","functionName"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},address:{xResizable:!1,yResizable:!1,basic:["exportable","joinStatistics"],collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],initial:[{id:"systemValue",name:"系统值",attributes:["dataField"]}],events:!0,conditions:[{id:"=",name:"等于",data:"value"}]},table:{xResizable:!1,yResizable:!1,collector:[{type:"bool",id:"flag"},{type:"select",id:"dataSet"},{type:"bool",id:"coverTable"}],basic:["exportable","autoNumber","checkable","importable"],initial:[{id:"systemValue",name:"系统值",attributes:["dataSet"]}],events:!0},nameCard:{xResizable:!1,yResizable:!1,basic:["nameCardType","nameCardTypeRoleId"],initial:[{id:"systemValue",name:"系统值",attributes:["dataSet"]}],events:!0},label:{xResizable:!0,yResizable:!0,basic:["content"],style:["borderTop","borderBottom","color"]},splitLine:{xResizable:!1,yResizable:!1,style:["color"]},image:{xResizable:!0,yResizable:!0,collector:[{type:"bool",id:"flag"},{type:"select",id:"dataField"}],basic:["exportable","image"],initial:[{id:"systemValue",name:"系统值",attributes:["dataField"]}],events:!0,conditions:[{id:"!=",name:"已上传",data:"value"},{id:"=",name:"未上传",data:"value"}],verification:["fileFormat","fileSize","minWidth","minHeight","maxWidth","maxHeight"]},signature:{xResizable:!0,yResizable:!0,basic:["exportable"]},map:{xResizable:!0,yResizable:!0,basic:["exportable","map"],conditions:[{id:"inRange",name:"在定位范围内"},{id:"notInRange",name:"不在定位范围内"}],events:!0},attachment:{xResizable:!0,yResizable:!0,verification:["fileMaxNumber","fileFormat","fileSize"]}},attributes:{nameCardType:{type:"select",data:[{id:"CLASS_COMMITTEE",name:"对应班委"},{id:"INSTRUCTOR",name:"对应辅导员"},{id:"SCHOOL",name:"对应学校"},{id:"COLLEGE",name:"对应院系"},{id:"TUTOR",name:"对应导师"},{id:"PART_BUILD_ORGANIZATION",name:"对应党组织关系"},{id:"VOLUNTEERS",name:"对应志愿者"}]},nameCardTypeRoleId:{type:"select",data:[{id:1,name:"班长"},{id:2,name:"班主任"},{id:3,name:"团支部书记"},{id:4,name:"学校委员"},{id:5,name:"劳动委员"}]},placeholder:{type:"text"},rows:{type:"number",min:1},options:{type:"options"},autoSelect:{type:"bool"},precision:{type:"number",min:0},dateFormat:{type:"select",data:[{id:"yyyy-MM-dd",name:"yyyy-MM-dd"},{id:"yyyyMMdd",name:"yyyyMMdd"},{id:"yyyy-MM-dd hh:ii:ss",name:"yyyy-MM-dd hh:ii:ss"},{id:"yyyy-MM",name:"yyyy-MM"},{id:"yyyy年MM月dd日 hh:ii:ss",name:"yyyy年MM月dd日 hh:ii:ss"},{id:"yyyy年MM月dd日",name:"yyyy年MM月dd日"},{id:"yyyy年MM月",name:"yyyy年MM月"}]},autoNumber:{type:"bool"},checkable:{type:"bool"},joinTableCompare:{type:"bool"},joinStatistics:{type:"bool"},exportable:{type:"bool"},importable:{type:"bool"},content:{type:"richText"},color:{type:"color"},borderBottom:{type:"bool"},borderTop:{type:"bool"},regexExpression:{type:"text"},errorPrompt:{type:"text"},maxWidth:{type:"number"},maxHeight:{type:"number"},minWidth:{type:"number"},minHeight:{type:"number"},maxLength:{type:"number",min:0},minLength:{type:"number",min:0},maxSelect:{type:"number",min:1},minSelect:{type:"number",min:1},maxValue:{type:"number",min:0},minValue:{type:"number",min:0},maxDate:{type:"datetime"},minDate:{type:"datetime"},fileFormatImage:{type:"multi",required:!0,data:[{id:".jpg",name:".jpg"},{id:".png",name:".png"},{id:".gif",name:".gif"},{id:".bmp",name:".bmp"}]},fileFormat:{type:"multi",required:!0,data:[{id:".txt",name:".txt"},{id:".doc",name:".doc"},{id:".docx",name:".docx"},{id:".wps",name:".wps"},{id:".pdf",name:".pdf"},{id:".ppt",name:".ppt"},{id:".pptx",name:".pptx"},{id:".xls",name:".xls"},{id:".xlsx",name:".xlsx"},{id:".rar",name:".rar"},{id:".zip",name:".zip"},{id:".png",name:".png"},{id:".jpg",name:".jpg"},{id:".jpeg",name:".jpeg"},{id:".gif",name:".gif"},{id:".bmp",name:".bmp"},{id:".lrc",name:".lrc"},{id:".rm",name:".rm"},{id:".rmvb",name:".rmvb"},{id:".mp3",name:".mp3"},{id:".mp4",name:".mp4"},{id:".wma",name:".wma"},{id:".wav",name:".wav"},{id:".avi",name:".avi"},{id:".wfs",name:".wfs"}]},fileMaxNumber:{type:"number",min:1},fileSize:{type:"select",data:[{id:51200,name:"50MB"},{id:10240,name:"10MB"},{id:5120,name:"5MB"},{id:2048,name:"2MB"},{id:1024,name:"1MB"}]},map:{type:"map"},image:{type:"image"}},triggers:{eventsList:[{id:"FOCUS",name:"获取焦点"},{id:"BLUR",name:"失去焦点"},{id:"CHANGE",name:"值改变"}],actionsList:[{name:"showComponent",properties:{field:[]}},{name:"hideComponent",properties:{field:[]}},{name:"setText"},{name:"triggerEvent"},{name:"script"}],conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"},{id:"between",name:"介于"},{id:"notBetween",name:"非介于"}]},triggerNotAllowWigt:["table","label","attachment","splitLine","signature"],actionNotAllowSetWigt:["table","attachment","splitLine","signature"],methodsList:[{id:"get",name:"GET"},{id:"post",name:"POST"},{id:"delete",name:"DELETE"},{id:"put",name:"PUT"},{id:"patch",name:"PATCH"}],richTextConfig:{toolbars:[["source","undo","redo","500","italic","underline","strikethrough","forecolor","backcolor","lineheight","fontfamily","fontsize","indent","justifyleft","justifycenter","justifyright","justifyjustify","link","unlink","horizontal","date","time","spechars","attachment"]],initialFrameHeight:280},editorShow:!1,mapShow:!1,originalSettingStr:""},layoutSetting:{transition:!0,scriptShow:!1,margin:[8,6,8,6],cellsLines:100,cellLineHeight:86,cellWidth:62,cellHeight:65,draggableX:0,draggableY:0,timer:null,timer2:null,delay:300,scrollContainer:""},globalCollector:{show:!1,valueTypeOptions:[{value:"COMPONENT",label:"关联组件"},{value:"FIXED",label:"固定值"}],collectors:[]},searching:!1,searchingText:"",containerDom:null,scaleTarget:null,scaleData:{_startX:0,_startY:0},dragTarget:null,dragData:{show:!1,title:"输入框",top:0,left:0,w:3,h:1,x:0,y:0},dragType:"",cellsDom:null,wigtDataArr:[],code:"",curTarget:null,optionsShow:!1,optionsway:"",urlAddr:"",newOptStr:"",dataSetOptions:[],dataFieldOptions:[],dictionaryOptions:[],initialTime:"currentTime",newNameStr:"",newValueStr:"",newCaseNameStr:"",eventShow:"",curCase:null,oldCase:null,curAction:null,showFieldEvents:!1,showFieldValue:"",triggerSetTextField:null,newObj:{},newObj2:{},preview:!1,formModel:!1,isClick:!1,wigtDataArrHistory:[],historyIndex:0,isRedoOrBack:!1,reviseFromId:"",reviseRemark:null,personalInfoSetting:{curInfoId:"",infoIndexJson:{},oldIndexJsonStr:{},infoLayoutUrl:"",changedIds:[]},tabStyleParam:{scrollDeltaX:300,duration:.5},tabShow:!1,lang:"zh-cn"}},computed:{translateI:function(){return Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.g)(this.lang).infoManage},checkOperationFun:function checkOperationFun(){var status=!0,str=this.curCase.operationFun;try{var indexArr=this.getNumInFun(str);indexArr.forEach(function(o){var reg="/\\$\\{"+o+"\\}/g";str=str.replace(eval(reg),o+" ")}),eval(str)}catch(t){status=!1}return status},formatterFunToHtml:function formatterFunToHtml(){var str=this.curCase.operationFun;if(str){var indexArr=this.getNumInFun(str);return indexArr.forEach(function(o){var reg="/\\$\\{"+o+"\\}/g";str=str.replace(eval(reg),'<div class="number_ball">'+o+"</div>")}),str=str.replace(/\&\&/g,'<div class="operation">AND</div>'),str=str.replace(/\|\|/g,'<div class="operation">OR</div>'),str=str.replace(/\!/g,'<div class="operation">NOT</div>'),str=str.replace(/\(/g,'<div class="operation">(</div>'),str=str.replace(/\)/g,'<div class="operation">)</div>'),str}},cellsArray:function(){for(var t=[],e=0;e<this.layoutSetting.cellsLines;e++){for(var i=[],a=0;a<12;a++)i.push("");t.push(i)}return t},singularDataSetOptions:function(){var t=[];return this.dataSetOptions.forEach(function(e){e.multiple||t.push(e)}),t},multipleDataSetOptions:function(){var t=[];return this.dataSetOptions.forEach(function(e){e.multiple&&t.push(e)}),t},singularWidgets:function(){var t=[];return this.wigtDataArr.forEach(function(e){"table"!==e.componentType&&t.push(e)}),t},multipleWidgets:function(){var t=[];return this.wigtDataArr.forEach(function(e){"table"===e.componentType&&t.push(e)}),t},dataSetId:function(){var t=this,e="";return this.dataSetOptions.forEach(function(i){i.name===t.curTarget.initialization.properties.dataSet&&(e=i.id)}),e},dataSetIdOfCollection:function(){var t=this,e="";return this.dataSetOptions.forEach(function(i){i.name===t.curTarget.collector.dataSet&&(e=i.id)}),e},isValid:function(){return this.dragData.x>=0&&this.dragData.y>=0&&12-this.dragData.x>=this.dragData.w},conditionField:function(){var t=this,e={};return this.wigtDataArr.forEach(function(i){i.name===t.curCase.condition.component&&(e=i)}),e},translate:function(){return Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.g)(this.lang).formManage},conditionAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(i){!t.formSetting.triggerNotAllowWigt.indexOf(i.componentType)>=0&&e.push(i)}),e},actionSetValueAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(i){t.formSetting.actionNotAllowSetWigt.indexOf(i.componentType)<0&&e.push(i)}),e},triggerAllowedWigt:function(){var t=this,e=[];return this.wigtDataArr.forEach(function(i){t.formSetting.attributesShow[i.componentType].events&&e.push(i)}),e},leftBaseHeight:function(){return 48*Math.ceil(this.formSetting.leftSideData.base.length/2)+70},isChange:function(t){return!!this.formSetting.originalSettingStr&&this.formSetting.originalSettingStr!==__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()({title:this.title,code:this.code,components:this.wigtDataArr})},isChangeOfInfo:function(){if(this.personalInfoSetting.curInfoId&&this.wigtDataArr&&this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]){var t=this.personalInfoSetting.changedIds.indexOf(this.personalInfoSetting.curInfoId);this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]!==__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()({code:this.code,components:this.wigtDataArr})?t<0&&this.personalInfoSetting.changedIds.push(this.personalInfoSetting.curInfoId):t>=0&&this.personalInfoSetting.changedIds.splice(t,1)}return this.personalInfoSetting.changedIds.length>0}},watch:{wigtDataArr:{deep:!0,handler:function(){var t=this;this.infoSetting||(this.isRedoOrBack?this.isRedoOrBack=!1:(this.layoutSetting.timer2&&clearTimeout(this.layoutSetting.timer2),this.layoutSetting.timer2=setTimeout(function(){t.historyIndex<t.wigtDataArrHistory.length&&t.wigtDataArrHistory.splice(t.historyIndex),t.wigtDataArrHistory.push(JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(t.wigtDataArr))),t.historyIndex++},200)))}},windowObj:{deep:!0,handler:function(t){this._pauseTransition(),this._justifyLayoutParam()}}},mounted:function(){var t=this;this.containerDom=document.getElementById("formSetPage"+this.pageStamp),__WEBPACK_IMPORTED_MODULE_4_jquery___default()(""+this.layoutSetting.scrollContainer).on("scroll",function(){t._pauseTransition(),t._justifyLayoutParam()}),__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp).keydown(function(e){if(1==e.ctrlKey){if(83===e.keyCode)return t._saveLayout(),e.preventDefault(),!1;if(90===e.keyCode){if(t.isRedoOrBack=!0,t.historyIndex--,t.historyIndex<=0)return t.historyIndex++,t.isRedoOrBack=!1,!1;t.wigtDataArr=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(t.wigtDataArrHistory[t.historyIndex-1]))}if(89===e.keyCode){if(t.isRedoOrBack=!0,t.historyIndex++,t.historyIndex>t.wigtDataArrHistory.length)return t.historyIndex--,t.isRedoOrBack=!1,!1;t.wigtDataArr=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(t.wigtDataArrHistory[t.historyIndex-1]))}}return!0}),__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp).on("mousewheel",function(e,i){if(__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.target).is(t.layoutSetting.scrollContainer)||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.target).parents(t.layoutSetting.scrollContainer)[0]||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.target).is(".widget-cell")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.target).parents(".widget-cell")[0]){if(__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.target).is(".script-div")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.target).parents(".script-div")[0])return;var a=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.layoutSetting.scrollContainer).scrollTop();__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.layoutSetting.scrollContainer).scrollTop(a+e.originalEvent.deltaY)}}),t._justifyLayoutParam()},methods:{appearConfigIf:function(){this.resetSearchItem(),this.showSearch()},requirePositionRange:function(t){t.properties.basic.positionRangeRequired=!t.properties.basic.positionRangeRequired,this.$forceUpdate()},canUseLocalImg:function(t){t.properties.basic.canNotGetFromAlbum=!t.properties.basic.canNotGetFromAlbum,this.$forceUpdate()},getNumInFun:function(t){var e=[];return function i(){var a=t.substring(t.indexOf("${"),t.indexOf("}")+1);e.push(a),-1!=(t=t.replace(a,"")).indexOf("${")&&i()}(),e.map(function(t){return t.substring(2,t.length-1)})},showActionPart:function(){this.actionPartStatus=!0},hideActionPart:function(){this.actionPartStatus=!1},addNumber:function(t){this.curCase.operationFun+="${"+t+"}"},addOperation:function(t){this.curCase.operationFun+=t},clearOperations:function(){this.curCase.operationFun=""},deleteOperation:function(){var t=this.curCase.operationFun;t=t.substring(t.length-2,t.length-1)===t.substring(t.length-1,t.length)?t.substring(0,t.length-2):"}"===t.substring(t.length-1,t.length)?t.substring(0,t.lastIndexOf("$")):t.substring(0,t.length-1),this.curCase.operationFun=t},deleteCondition:function(t){this.curCase.conditions.splice(t,1)},addcondition:function(){this.curCase.conditions.push({})},getConditionsOptions:function(t){var e={};return this.wigtDataArr.forEach(function(i){i.name===t&&(e=i)}),e.properties?e.properties.basic.options:[]},collectClick:function(){this.layoutSetting.scriptShow?this.$toast("请先返回布局页"):this.globalCollector.show=!this.globalCollector.show},scriptClick:function(){this.globalCollector.show?this.$toast("请先返回布局页"):this.layoutSetting.scriptShow=!this.layoutSetting.scriptShow},daochumoban:function(){this.isChange?alert("请先保存模块设置"):this.formModel=!0},_back:function(){(this.isChange||this.isChangeOfInfo)&&confirm(this.translate.backTip)?this._saveLayout():this.$emit("back")},_gotoRoleSet:function(){this.$emit("gotoRoleSet")},_searchKeyUp:function(t){13===t.keyCode&&(this.searchingText=t.target.value)},_getSettingData:function(){var t=this;Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/document/data/types",type:"get",success:function(e){e.state?t.dataSetOptions=e.data:t.$toast(e.message)}}).always(function(){Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/document/data/types/columns/all",type:"get",success:function(e){e.state?(t.dataFieldOptions=e.data,t.dataFieldOptions.forEach(function(t){t.columnTitle=t.title,t.title=t.title+" ("+t.typeTitle+")",t.columnNameAndTypeName=t.columnName+"+"+t.typeName})):t.$toast(e.message)}}).always(function(){Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/system/dictTypes",type:"get",success:function(e){e.state?t.dictionaryOptions=e.data:t.$toast(e.message)}}).always(function(){Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/system/components",type:"get",success:function(e){e.state?(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.sys=e.data):t.$toast(e.message)}})})})})},_getFormInfo:function(){var t=this;this.departmentId&&Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/departments/"+this.departmentId+"/apps/forms/components",type:"get",success:function(e){e.state?(e.data.forEach(function(e){e.title=e.name,e.wigts=e.components,e.wigts&&e.wigts.forEach(function(e){e.x=e.location.left,e.y=e.location.top,e.w=e.size.width,e.h=e.size.height,t._initWigt(e)}),delete e.components}),t.formSetting.leftSideData.form=e.data):t.$toast(e.message)}});var e=this.formId?"/api/apps/settings/forms/"+this.formId:"";"edit"===this.initWay?e=this.businessId?"/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/formSetting":"/api/apps/"+this.appId+"/settings/forms":this.title=this.app.name,e&&(this.$waiting.show(),Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:e,type:"get",success:function(e){e.state?e.data&&("edit"===t.initWay&&(t.title=e.data.name,t.reviseFromId=e.data.fromId,t.reviseRemark=e.data.remark),setTimeout(function(){t._pageClick(),t._componentsProcess(e.data),t.formSetting.originalSettingStr=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()({title:t.title,code:t.code,components:t.wigtDataArr})},300)):t.$toast(e.message)}}).always(function(){setTimeout(function(){t.$waiting.close()},300)}))},_componentsProcess:function(t){var e=this;t.components.forEach(function(t,i){t.location&&(e.$set(t,"x",parseInt(t.location.left)),e.$set(t,"y",parseInt(t.location.top))),t.size&&(e.$set(t,"w",parseInt(t.size.width)),e.$set(t,"h",parseInt(t.size.height))),e._initWigt(t)}),this.code=t.property?t.property.script:"",t.property&&t.property.collectors&&t.property.collectors.length&&(this.globalCollector.collectors=t.property.collectors.map(function(t){return{dataSet:t.dataSet,fields:t.tableInitializations.map(function(e){return{name:e.fieldName,isKey:t.tableKeys.includes(e.fieldName),valueType:e.mode,value:e.value}})}})),this.wigtDataArr=t.components,this.$nextTick(function(){e._clearEmptyLine()})},_filtArr:function(t,e){var i=[];switch(e){case"datetime":t.forEach(function(t){"Date"==t.dataType&&i.push(t)});break;case"input":t.forEach(function(t){"Date"!=t.dataType&&"Dict"!=t.dataType&&"College"!=t.dataType&&"Class"!=t.dataType&&"Teacher"!=t.dataType&&"Instructor"!=t.dataType&&"String"!=t.dataType&&"Volunteer"!=t.dataType&&"Boolean"!=t.dataType||i.push(t)});break;case"select":t.forEach(function(t){"Dict"!=t.dataType&&"College"!=t.dataType&&"Class"!=t.dataType&&"Boolean"!=t.dataType&&"String"!=t.dataType||i.push(t)});break;case"number":t.forEach(function(t){"Float"==t.dataType&&i.push(t)});break;case"image":t.forEach(function(t){"Image"==t.dataType&&i.push(t)});break;case"address":t.forEach(function(t){"Address"==t.dataType&&i.push(t)});break;default:i=t}return i},_getDataFieldOf:function(t){var e=[];return this.dataFieldOptions.forEach(function(i){i.typeName===t&&e.push(i)}),e},_getFieldOf:function(t){var e="";return this.dataFieldOptions.forEach(function(i){i.typeName===t.dataSet&&i.columnName===t.dataField&&(e=i.columnName+"+"+i.typeName)}),e+""},_getAttributesOfInitialMode:function(t){var e=[];return this.formSetting.attributesShow[t.componentType].initial.forEach(function(i){i.id===t.initialization.mode&&(e=i.attributes||[])}),e},_getFieldValue:function(t){var e=t.fieldName.split("_")[0],i=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(t));return"address"===e?(i.value.province||"")+(i.value.city||"")+(i.value.area||"")||this.translate.empty:i.value||this.translate.empty},_exchangeCollection:function(t){this.curTarget.collector||this.$set(this.curTarget,"collector",{flag:!1,dataSet:"",dataField:""}),this.curTarget.collector[t.id]=!this.curTarget.collector[t.id]},_initWigt:function(t){this.$set(t,"initialization",{mode:t.initialization&&t.initialization.mode||"",dynamic:t.initialization&&t.initialization.dynamic||!1,properties:{fixedValue:t.initialization&&t.initialization.properties&&t.initialization.properties.fixedValue||"",sqlQuery:t.initialization&&t.initialization.properties&&t.initialization.properties.sqlQuery||"",dataField:t.initialization&&t.initialization.properties&&t.initialization.properties.dataField||"",dataSet:t.initialization&&t.initialization.properties&&t.initialization.properties.dataSet||"",url:t.initialization&&t.initialization.properties&&t.initialization.properties.url||"",method:t.initialization&&t.initialization.properties&&t.initialization.properties.method||"",key:t.initialization&&t.initialization.properties&&t.initialization.properties.key||"",functionName:t.initialization&&t.initialization.properties&&t.initialization.properties.functionName||"",className:t.initialization&&t.initialization.properties&&t.initialization.properties.className||"",functionCode:t.initialization&&t.initialization.properties&&t.initialization.properties.functionCode||"",functionHtml:t.initialization&&t.initialization.properties&&t.initialization.properties.functionHtml||"",params:t.initialization&&t.initialization.properties&&t.initialization.properties.params||[],tableFields:t.initialization&&t.initialization.properties&&t.initialization.properties.tableFields||{},nameCardFields:t.initialization&&t.initialization.properties&&t.initialization.properties.nameCardFields||{}}}),this.$set(t,"properties",{basic:{positionRangeRequired:t.properties&&t.properties.basic&&t.properties.basic.positionRangeRequired||!1,canNotGetFromAlbum:t.properties&&t.properties.basic&&t.properties.basic.canNotGetFromAlbum||!1,placeholder:t.properties&&t.properties.basic&&t.properties.basic.placeholder||"",rows:t.properties&&t.properties.basic&&t.properties.basic.rows||1,options:t.properties&&t.properties.basic&&t.properties.basic.options||[],tableFields:t.properties&&t.properties.basic&&t.properties.basic.tableFields||[],searchDTOS:t.properties&&t.properties.basic&&t.properties.basic.searchDTOS||[],nameCardFields:t.properties&&t.properties.basic&&t.properties.basic.nameCardFields||[],precision:t.properties&&t.properties.basic&&t.properties.basic.precision||0,nameCardType:t.properties&&t.properties.basic&&t.properties.basic.nameCardType||null,nameCardTypeRoleId:t.properties&&t.properties.basic&&t.properties.basic.nameCardTypeRoleId||null,dateFormat:t.properties&&t.properties.basic&&t.properties.basic.dateFormat||"yyyy-MM-dd",autoNumber:t.properties&&t.properties.basic&&t.properties.basic.autoNumber||!1,autoSelect:t.properties&&t.properties.basic&&t.properties.basic.autoSelect||!1,checkable:t.properties&&t.properties.basic&&t.properties.basic.checkable||!1,joinStatistics:t.properties&&t.properties.basic&&t.properties.basic.joinStatistics||!1,joinTableCompare:t.properties&&t.properties.basic&&t.properties.basic.joinTableCompare||!1,exportable:!t.properties||!t.properties.basic||0!=t.properties.basic.exportable,importable:!t.properties||!t.properties.basic||0!=t.properties.basic.importable,content:t.properties&&t.properties.basic&&t.properties.basic.content||"",map:t.properties&&t.properties.basic&&t.properties.basic.map||{radius:300,positionRangeRequired:!0,center:{lat:"",lng:""}},image:t.properties&&t.properties.basic&&t.properties.basic.image||{canNotGetFromAlbum:!1}},style:{color:t.properties&&t.properties.style&&t.properties.style.color||"#000000",fontSize:t.properties&&t.properties.style&&t.properties.style.fontSize||"",borderTop:t.properties&&t.properties.style&&t.properties.style.borderTop||!1,borderBottom:t.properties&&t.properties.style&&t.properties.style.borderBottom||!1},verification:{regexExpression:t.properties&&t.properties.verification&&t.properties.verification.regexExpression||"",errorPrompt:t.properties&&t.properties.verification&&t.properties.verification.errorPrompt||"",maxLength:t.properties&&t.properties.verification&&t.properties.verification.maxLength||"",minLength:t.properties&&t.properties.verification&&t.properties.verification.minLength||"",maxSelect:t.properties&&t.properties.verification&&t.properties.verification.maxSelect||"",minSelect:t.properties&&t.properties.verification&&t.properties.verification.minSelect||"",maxValue:t.properties&&t.properties.verification&&t.properties.verification.maxValue||"",minValue:t.properties&&t.properties.verification&&t.properties.verification.minValue||"",maxDate:t.properties&&t.properties.verification&&t.properties.verification.maxDate||"",minDate:t.properties&&t.properties.verification&&t.properties.verification.minDate||"",maxHeight:t.properties&&t.properties.verification&&t.properties.verification.maxHeight||"",maxWidth:t.properties&&t.properties.verification&&t.properties.verification.maxWidth||"",minHeight:t.properties&&t.properties.verification&&t.properties.verification.minHeight||"",minWidth:t.properties&&t.properties.verification&&t.properties.verification.minWidth||"",fileFormat:t.properties&&t.properties.verification&&t.properties.verification.fileFormat&&("string"==typeof t.properties.verification.fileFormat?t.properties.verification.fileFormat:t.properties.verification.fileFormat.join(","))||".txt,.doc,.docx,.wps,.pdf,.ppt,.pptx,.xls,.xlsx,.rar,.zip,.png,.jpg,.jpeg,.gif,.bmp,.lrc,.rm,.rmvb,.mp3,.mp4,.wma,.wav,.avi,.wfs",fileMaxNumber:t.properties&&t.properties.verification&&t.properties.verification.fileMaxNumber||"",fileSize:t.properties&&t.properties.verification&&t.properties.verification.fileSize||10240}}),this.$set(t,"collector",{flag:t.collector&&t.collector.flag||!1,coverTable:t.collector&&t.collector.coverTable||!1,dataSet:t.collector&&t.collector.dataSet||"",dataField:t.collector&&t.collector.dataField||"",tableFields:t.collector&&t.collector.tableFields||{},tableKeys:t.collector&&t.collector.tableKeys||[]}),this.$set(t,"events",[{name:"FOCUS",cases:t.events&&t.events[0]&&t.events[0].cases||[]},{name:"BLUR",cases:t.events&&t.events[1]&&t.events[1].cases||[]},{name:"CHANGE",cases:t.events&&t.events[2]&&t.events[2].cases||[]}])},_searchWigt:function(t){this.searchingText=t.target.value},_showWigtContainer:function(t){for(var e in this.formSetting.leftSideControl)!0===this.formSetting.leftSideControl[e]&&e!==t&&(this.formSetting.leftSideControl[e]=!1);this.formSetting.leftSideControl[t]=!this.formSetting.leftSideControl[t]},_showFormWigt:function(t){this.formSetting.leftSideControl.showFormName=this.formSetting.leftSideControl.showFormName==="form"+t?"":"form"+t},_showInfoWigt:function(t){this.formSetting.leftSideControl.showFormName=this.formSetting.leftSideControl.showFormName==="info"+t?"":"info"+t},_showSysWigt:function(t){this.formSetting.leftSideControl.showSysName=this.formSetting.leftSideControl.showSysName==="sys"+t?"":"sys"+t},_optionsTxtChange:function(t,e,i){var a=e[i];e.splice(i,1),e.indexOf(t.target.value)>=0?(this.$toast("选项已存在列表中"),e.splice(i,0,a)):e.splice(i,0,t.target.value)},_justifyLayoutParam:function(){this.layoutSetting.draggableX=__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .cell").eq(0).offset().left-__WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.containerDom).offset().left,this.layoutSetting.draggableY=__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .cell").eq(0).offset().top-__WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.containerDom).offset().top},_clearEmptyLine:function(){var t=0,e=0;this.wigtDataArr.forEach(function(t){e<t.y+t.h-1&&(e=t.y+t.h-1)});for(var i=0;i<=e;){t=i;for(var a=0;a<this.wigtDataArr.length;a++)if(i>=this.wigtDataArr[a].y&&i<=this.wigtDataArr[a].y+this.wigtDataArr[a].h-1){i+=1;break}if(t===i){var n=!0;if(this.wigtDataArr.forEach(function(e){e.y>t&&(n=!1,e.y=e.y-1)}),n)break;e-=1}}},_testTwoNode:function(t,e){return(t.x+t.w-1>=e.x&&t.x<=e.x||t.x<=e.x+e.w-1&&t.x>=e.x||t.x>=e.x&&t.x+t.w-1<=e.x+e.w-1||t.x<=e.x&&t.x+t.w-1>=e.x+e.w-1)&&(t.y+t.h-1>=e.y&&t.y<=e.y||t.y<=e.y+e.h-1&&t.y>=e.y||t.y>=e.y&&t.y+t.h-1<=e.y+e.h-1||t.y<=e.y&&t.y+t.h-1>=e.y+e.h-1)},_collisionDetect:function(t){var e=this;this.wigtDataArr.forEach(function(i){if(t.name!==i.name){var a=i.y-t.y;(t.x+t.w-1>=i.x&&t.x<=i.x||t.x<=i.x+i.w-1&&t.x>=i.x||t.x>=i.x&&t.x+t.w-1<=i.x+i.w-1||t.x<=i.x&&t.x+t.w-1>=i.x+i.w-1)&&(t.y+t.h-1>=i.y&&t.y<=i.y||t.y<=i.y+i.h-1&&t.y>=i.y||t.y>=i.y&&t.y+t.h-1<=i.y+i.h-1||t.y<=i.y&&t.y+t.h-1>=i.y+i.h-1)&&e.wigtDataArr.forEach(function(e){e.y+e.h-1>=t.y&&e.name!==t.name&&(e.y=e.y+t.h-a)})}}),this.$nextTick(function(){e._clearEmptyLine()})},_mouseDown:function(t){var e=this;t.cancelBubble=!0,this.isClick=!0,this.layoutSetting.timer=setTimeout(function(){e.isClick=!1},300),setTimeout(function(){if(!t.button&&!e.isClick){e._pauseTransition();var i=null;if(__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".drag")?i=t.target:__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".form-label")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".table-item-div .gm-scroll-view")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".nameCard-item-div .gm-scroll-view")?i=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag")[0]:__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".duplicate")&&(i=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag")[0]),i){var a,n;if(i.getAttribute("data-wigt-type")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".duplicate"))for(n in e.dragTarget=document.getElementById("dragDom"),e.dragType="create",a="form"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.form[i.getAttribute("data-formindex")].wigts[i.getAttribute("data-key")])):"info"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.info[i.getAttribute("data-infoindex")].wigts[i.getAttribute("data-key")])):"base"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.base[i.getAttribute("data-key")])):"sys"===i.getAttribute("data-wigt-type")?JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e.formSetting.leftSideData.sys[i.getAttribute("data-sysindex")].wigts[i.getAttribute("data-key")])):JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e.wigtDataArr[i.getAttribute("data-key")])))e.dragData[n]=a[n];else{for(n in e.dragTarget=i,e.dragType="move",a=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e.wigtDataArr[i.getAttribute("data-key")])))e.dragData[n]=a[n];__WEBPACK_IMPORTED_MODULE_4_jquery___default()(e.dragTarget).addClass("active")}e.dragData.show=!0,e.dragData.top=i.offsetTop,e.dragData.left=i.offsetLeft}}},this.layoutSetting.delay)},_pauseTransition:function(){var t=this;this.layoutSetting.transition=!1,setTimeout(function(){t.layoutSetting.transition=!0},100)},_mouseUp:function(t){var e=this;if(clearTimeout(this.layoutSetting.timer),!t.button&&!this.isClick){if(this.scaleTarget&&this._scaleMouseUp(t),this.dragData.show&&this.dragTarget&&this.isValid){if(__WEBPACK_IMPORTED_MODULE_4_jquery___default()(".cell.active").removeClass("active"),"create"===this.dragType){var i={};for(var a in this.dragData)i[a]=this.dragData[a];i.name=i.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)(),"table"===i.componentType&&i.properties.basic.tableFields.forEach(function(t){t.name=i.componentType+"_"+t.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)()});var n=!1;if(this.wigtDataArr.forEach(function(t){t.name===i.name&&(n=!0)}),n);else{if("nameCard"==i.componentType){var s={title:"姓名",componentType:"input",initialization:{mode:"",dynamic:!1,properties:{fixedValue:"",sqlQuery:"",dataField:"",dataSet:"",url:"",method:"",key:"",functionName:"",className:"",functionCode:"",functionHtml:"",params:[],tableFields:{},nameCardFields:[]}},properties:{basic:{placeholder:"",rows:1,options:[],tableFields:[],nameCardFields:[],precision:0,dateFormat:"yyyy-MM-dd",autoNumber:!1,autoSelect:!1,checkable:!1,joinStatistics:!1,joinTableCompare:!1,exportable:!0,importable:!0,content:"",map:{radius:300,center:{lat:"",lng:""}}},style:{color:"#000000",fontSize:"",borderTop:!1,borderBottom:!1},verification:{regexExpression:"",errorPrompt:"",maxLength:"",minLength:"",maxSelect:"",minSelect:"",maxValue:"",minValue:"",maxDate:"",minDate:"",maxHeight:"",maxWidth:"",minHeight:"",minWidth:"",fileFormat:".txt,.doc,.docx,.wps,.pdf,.ppt,.pptx,.xls,.xlsx,.rar,.zip,.png,.jpg,.jpeg,.gif,.bmp,.lrc,.rm,.rmvb,.mp3,.mp4,.wma,.wav,.avi,.wfs",fileMaxNumber:"",fileSize:10240}},collector:{flag:!1,coverTable:!1,dataSet:"",dataField:"",tableFields:{},tableKeys:[]},events:[{name:"FOCUS",cases:[]},{name:"BLUR",cases:[]},{name:"CHANGE",cases:[]}],name:"nameCard_input_"+(new Date).getTime()};i.properties.basic.nameCardFields.push(s)}this.curTarget=i,this.wigtDataArr.push(i),this._collisionDetect(i)}}else __WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.dragTarget).removeClass("active"),this.wigtDataArr.forEach(function(t){if(t.name===e.dragData.name){for(var i in t)t[i]=e.dragData[i];e._collisionDetect(t)}});this.dragTarget.style.left=this.dragData.x*this.layoutSetting.cellWidth+this.layoutSetting.draggableX+this.layoutSetting.margin[3]+"px",this.dragTarget.style.top=this.dragData.y*this.layoutSetting.cellLineHeight+this.layoutSetting.draggableY+this.layoutSetting.margin[0]+"px"}else if(this.dragTarget&&this.dragTarget.getAttribute("data-key")){var o=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(this.wigtDataArr[this.dragTarget.getAttribute("data-key")]));for(var r in o)this.dragData[r]=o[r];this.dragTarget.style.left=this.dragData.x*this.layoutSetting.cellWidth+this.layoutSetting.draggableX+this.layoutSetting.margin[3]+"px",this.dragTarget.style.top=this.dragData.y*this.layoutSetting.cellLineHeight+this.layoutSetting.draggableY+this.layoutSetting.margin[0]+"px"}this.infoSetting&&(this.dragData.location||this.$set(this.dragData,"location",{}),this.$set(this.dragData.location,"left",this.dragData.x),this.$set(this.dragData.location,"top",this.dragData.y),this.dragData.size||this.$set(this.dragData,"size",{}),this.$set(this.dragData.size,"width",this.dragData.w),this.$set(this.dragData.size,"height",this.dragData.h)),this.dragTarget=null,this.dragData.show=!1,this.dragType=""}},_mouseMove:function(t){if(!t.button&&!this.isClick&&(this.scaleTarget&&this._scaleMouseMove(t),this.dragTarget)){var e,i;if(this.dragData.top=t.pageY-this.dragTarget.offsetHeight/3-__WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.containerDom).offset().top,this.dragData.left=t.pageX-this.dragTarget.offsetWidth/3-__WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.containerDom).offset().left,this.dragTarget.style.top=this.dragData.top+"px",this.dragTarget.style.left=this.dragData.left+"px",e=Math.round((this.dragData.left-this.layoutSetting.draggableX)/this.layoutSetting.cellWidth),i=Math.round((this.dragData.top-this.layoutSetting.draggableY)/this.layoutSetting.cellLineHeight),__WEBPACK_IMPORTED_MODULE_4_jquery___default()(".cell.active").removeClass("active"),this.dragData.x=e,this.dragData.y=i,e>=0&&i>=0&&12-e>=this.dragData.w)for(var a=0;a<this.dragData.h;a++)for(var n=0;n<this.dragData.w;n++)__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .cell .cell[data-x="+(e+n)+"][data-y="+(i+a)+"]").addClass("active")}},_checkNewFenlei:function(){this.$emit("addNewFenlei",this.newFenlei),this.showAddMemberModal=!1,this.newFenlei=""},_showComputedModal:function(){this.showComputedModal=!0;var t=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(".transition.selected").data("key");(t||0==t)&&(this.computedProperties=this.wigtDataArr[t].initialization.properties)},checkCode:function checkCode(funStr){function re(str){var _this16=this,computedTypes=["max","min","avg","sum"];function getComput(t,e){if(t=t.replace(e+"(","").replace(")",""))return"5.5"}var status=!0;if(computedTypes.forEach(function(t){if(-1!==str.indexOf(t)){var e={max:/max\((.+?)\)/g,min:/min\((.+?)\)/g,avg:/avg\((.+?)\)/g,sum:/sum\((.+?)\)/g}[t],i=str.match(e);if(!i)return status=!1;i.forEach(function(e){str=str.replace(e,getComput.call(_this16,e,t))})}}),!status)return this.$toast("公式有误,请检查!"),!1;if(-1!==str.indexOf("table"))return this.$toast("表格控件不允许放在特殊函数外面!"),!1;var index1=str.indexOf("<"),index2=str.indexOf(">");if(index1>=0){var reStr=str.substring(index1,index2+1);str=str.replace(reStr,"5.5")}if(-1!=str.indexOf("<"))return re.call(this,str);try{eval(str)}catch(t){return this.$toast("公式有误,请检查!"),!1}return!0}return re.call(this,funStr)},_setComputed:function(){var t=this.$refs.computed.patchFunctionHtml();if(this.checkCode(t.functionCode)){var e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(".transition.selected").data("key");(e||0==e)&&(this.wigtDataArr[e].initialization.properties.functionCode=t.functionCode.toLowerCase(),this.wigtDataArr[e].initialization.properties.functionHtml=t.functionHtml),this.showComputedModal=!1}},_removeItem:function(t,e,i){this.personalInfoSetting.curInfoId==t.id?confirm("确定删除此分类嘛？")&&(this.$emit("remove",t.id),this.infoSetting.tabs.splice(e,1),this.personalInfoSetting.curInfoId=this.infoSetting.tabs[0].id,this._getPersonalInfoOf(this.infoSetting.tabs[0])):confirm("确定删除此分类嘛？")&&(this.$emit("remove",t.id),this.infoSetting.tabs.splice(e,1)),i.stopPropagation()},_scaleMouseDown:function(t){if(!t.button){this.scaleTarget=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag"),this.scaleTarget.addClass("active");var e=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(this.wigtDataArr[this.scaleTarget.attr("data-key")]));for(var i in e)this.scaleData[i]=e[i];this.scaleData._startX=t.pageX,this.scaleData._startY=t.pageY,__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".vertical-resize")?this.scaleData.way="vertical":this.scaleData.way="horizontal"}},_scaleMouseUp:function(t){var e=this;t.button||(this.scaleTarget.removeClass("active"),this.wigtDataArr.forEach(function(t){if(t.name===e.scaleData.name){for(var i in t)i===("vertical"===e.scaleData.way?"h":"w")?(t[i]=e.scaleData[i]+e.scaleData["d"+i]<=0?1:e.scaleData[i]+e.scaleData["d"+i],"vertical"!==e.scaleData.way&&(t[i]=e.scaleData.x+t[i]>12?12-e.scaleData.x:t[i])):t[i]=e.scaleData[i];e._collisionDetect(t)}}),"vertical"===this.scaleData.way?this.scaleTarget[0].style.height=this.layoutSetting.cellLineHeight*this.scaleData.h-this.layoutSetting.margin[0]-this.layoutSetting.margin[2]-4+"px":this.scaleTarget[0].style.width=this.layoutSetting.cellWidth*this.scaleData.w-this.layoutSetting.margin[1]-this.layoutSetting.margin[3]+"px",this.scaleTarget=null)},_scaleMouseMove:function(t){if(!t.button&&this.scaleTarget){var e=t.pageX,i=t.pageY;"vertical"===this.scaleData.way?(this.scaleTarget[0].style.height=this.layoutSetting.cellLineHeight*this.scaleData.h-this.layoutSetting.margin[0]-this.layoutSetting.margin[2]+(i-this.scaleData._startY)+"px",this.scaleData.dh=Math.round((i-this.scaleData._startY)/this.layoutSetting.cellLineHeight)):(this.scaleTarget[0].style.width=this.layoutSetting.cellWidth*this.scaleData.w-this.layoutSetting.margin[1]-this.layoutSetting.margin[3]+(e-this.scaleData._startX)+"px",this.scaleData.dw=Math.round((e-this.scaleData._startX)/this.layoutSetting.cellWidth))}},_remove:function(t){var e=this;this.wigtDataArr.forEach(function(i,a){e.curTarget&&e.curTarget.name===t.name&&(e.curTarget=null),i.name===t.name&&e.wigtDataArr.splice(a,1)}),this._pauseTransition(),this.$nextTick(function(){e._clearEmptyLine()})},_removeTableItem:function(t,e,i){t.collector&&t.collector.tableFields&&delete t.collector.tableFields[i],t.initialization&&t.initialization.tableFields&&delete t.initialization.tableFields[i];var a=t.collector.tableKeys.indexOf(i);a>=0&&t.collector.tableKeys.splice(a,1),t.properties.basic.tableFields.splice(e,1)},_removeNameCardItem:function(t,e,i){t.collector&&t.collector.nameCardFields&&delete t.collector.nameCardFields[i],t.initialization&&t.initialization.nameCardFields&&delete t.initialization.nameCardFields[i],t.properties.basic.nameCardFields.splice(e,1)},_drag:function(t){t.dataTransfer.setData("data",t.target.getAttribute("data-key"))},_dragover:function(t){__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag").is(".selected")&&t.preventDefault()},_dragoverName:function(t){__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag").is(".selected")&&t.preventDefault()},_drop:function(t){if(__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag").is(".selected")){t.preventDefault();var e=this.formSetting.leftSideData.table[t.dataTransfer.getData("data")],i={};(i=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e))).name="table_"+i.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)();var a=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag").attr("data-key");void 0!==a&&this.wigtDataArr[a].properties.basic.tableFields&&this.wigtDataArr[a].properties.basic.tableFields.push(i)}},_dropName:function(t){if(__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag").is(".selected")){t.preventDefault();var e=this.formSetting.leftSideData.nameCard[t.dataTransfer.getData("data")],i={};(i=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(e))).name="nameCard_"+i.componentType+"_"+Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)();var a=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag").attr("data-key");void 0!==a&&this.wigtDataArr[a].properties.basic.nameCardFields&&(this.wigtDataArr[a].properties.basic.nameCardFields.length>=7?this.$toast("不可再添加控件！"):this.wigtDataArr[a].properties.basic.nameCardFields.push(i))}},_pageClick:function(t){this._justifyLayoutParam(),this.curTarget=null},_widgetClick:function(t){t.cancelBubble=!0;var e=null;__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".drag")?e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target):__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".form-label")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".table-item-div .gm-scroll-view")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".nameCard-item-div .gm-scroll-view")?e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".drag"):__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".table-item")?e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target):__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".nameCard-item")||__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".nameCard-item-name")?e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target):__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".table-item span")?e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".table-item"):__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".nameCard-item span")?e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".nameCard-item"):__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).is(".nameCard-item-name span")&&(e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()(t.target).parents(".nameCard-item-name")),e&&(e.is(".drag")?this.curTarget=this.wigtDataArr[e.attr("data-key")]:e.is(".table-item")?this.curTarget=this.wigtDataArr[e.attr("data-index")].properties.basic.tableFields[e.attr("data-key")]:(e.is(".nameCard-item")||e.is(".nameCard-item-name"))&&(this.curTarget=this.wigtDataArr[e.attr("data-index")].properties.basic.nameCardFields[e.attr("data-key")]),this.initialTime="currentTime"===this.curTarget.initialization.properties.fixedValue?"currentTime":"defined",this.newNameStr=this.newValueStr="")},_duplicate:function(t){var e={};e=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(t));var i=Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)();if(e.name=e.componentType+"_"+i,"table"===e.componentType){var a=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(e.initialization.properties.tableFields);e.properties.basic.tableFields.forEach(function(t,n){t.name=e.componentType+"_"+t.componentType+"_"+i+n,e.collector.tableFields[e.componentType+"_"+t.componentType+"_"+i+n]=e.collector.tableFields[a[n]],e.initialization.properties.tableFields[e.componentType+"_"+t.componentType+"_"+i+n]=e.initialization.properties.tableFields[a[n]],delete e.initialization.properties.tableFields[a[n]],delete e.collector.tableFields[a[n]]})}this.wigtDataArr.push(e),this._collisionDetect(t)},_attrSelect:function(t){var e=this;if("nameCardType"==t.target.$attrs["data-attr"])if(this.nameCardTypeRoleIdArr=[],"SCHOOL"==t.val){this.appearRoleId=!0;Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/approveRoles?level=SCHOOL&departmentId=1",async:!1,type:"get",success:function(t){t.state?e.nameCardTypeRoleIdArr=t.data:e.$toast(t.message)}})}else if("COLLEGE"==t.val){this.appearRoleId=!0;Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/approveRoles?level=COLLEGE&departmentId=1",async:!1,type:"get",success:function(t){t.state?e.nameCardTypeRoleIdArr=t.data:e.$toast(t.message)}})}else if("CLASS_COMMITTEE"==t.val){this.appearRoleId=!0;Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/relClass/classCommittees",async:!1,type:"get",success:function(t){t.state?e.nameCardTypeRoleIdArr=t.data.map(function(t){var e={};return e.name=t.text,e.id=t.id,e}):e.$toast(t.message)}})}else if("PART_BUILD_ORGANIZATION"==t.val){this.appearRoleId=!0;Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:"/api/partyBuild/organizations/personInChargeRole",async:!1,type:"get",success:function(t){t.state?e.nameCardTypeRoleIdArr=t.data:e.$toast(t.message)}})}else this.nameCardTypeRoleIdArr=[],this.appearRoleId=!1;else"nameCardTypeRoleId"==t.target.$attrs["data-attr"]&&(this.curTarget.properties.basic.nameCardTypeRoleId,t.val)},_afterSelectInitMode:function(t){this.curTarget.initialization.mode=t.val,"address"===this.curTarget.componentType?this.$set(this.curTarget.initialization.properties,t.val,{}):this.$set(this.curTarget.initialization.properties,t.val,"")},_afterSelectOfInit:function(t){if("dataField"===t.target.$attrs["data-attr"]){var e=t.value.split("+");this.$set(this.curTarget.initialization.properties,"dataField",e[0]||""),this.$set(this.curTarget.initialization.properties,"dataSet",e[1]||"")}else if("dataSet"===t.target.$attrs["data-attr"])this.$set(this.curTarget.initialization.properties,"dataSet",t.value);else if("fixedValue"===t.target.$attrs["data-attr"]){var i=t.target.$attrs["data-addType"];i&&this.$set(this.curTarget.initialization.properties[t.target.$attrs["data-attr"]],i,t.val)}else t.target.$attrs["data-attr"]&&this.$set(this.curTarget.initialization.properties,t.target.$attrs["data-attr"],t.value)},_afterSelectOfCollector:function(t){if("dataField"===t.target.$attrs["data-attr"]){var e=t.value.split("+");this.$set(this.curTarget.collector,"dataField",e[0]||""),this.$set(this.curTarget.collector,"dataSet",e[1]||"")}else"dataSet"===t.target.$attrs["data-attr"]?this.$set(this.curTarget.collector,"dataSet",t.value):t.target.$attrs["data-attr"]&&this.$set(this.curTarget.collector,t.target.$attrs["data-attr"],t.value)},_afterSelectOfTableInit:function(t,e){this.curTarget.initialization.properties.tableFields||this.$set(this.curTarget.initialization.properties,"tableFields",{}),this.$set(this.curTarget.initialization.properties.tableFields,e.name,t.value)},_afterSelectOfTableCollector:function(t,e){this.curTarget.collector.tableFields||this.$set(this.curTarget.collector,"tableFields",{}),this.$set(this.curTarget.collector.tableFields,e.name,t.value)},_checkTableKeys:function(t){this.curTarget.collector.tableKeys||this.$set(this.curTarget.collector,"tableKeys",[]);var e=this.curTarget.collector.tableKeys.indexOf(t.name);e>=0?this.curTarget.collector.tableKeys.splice(e,1):this.curTarget.collector.tableKeys.push(t.name)},_afterSelectedFields:function(t,e){var i=this,a=t.target.$attrs["data-action"];if("showComponent"===a||"hideComponent"===a)this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,"fields",[]),t.val.split(",").forEach(function(t,e){i.wigtDataArr.forEach(function(e,a){t===e.name&&i.curAction.properties.fields.push({name:t,title:e.title})})});else if("triggerEvent"===a)t.option?(this.showFieldEvents=this.formSetting.attributesShow[t.option.componentType].events&&t.target.values,this.newObj.fieldTitle=t.target.selected,this.newObj.fieldName=t.target.values):(this.newObj.eventsId=t.val,this.newObj.eventName=t.target.selected);else if("setText"===a)if(t.option)this.newObj2.fieldName=this.newObj2.fieldTitle="","address"===t.option.componentType?this.$set(this.newObj2,"value",{}):this.newObj2.value="",this.triggerSetTextField=t.option,this.showFieldValue=t.target.values?t.option.componentType:"",this.newObj2.fieldTitle=t.target.selected,this.newObj2.fieldName=t.target.values;else if("address"!==this.showFieldValue)this.$set(this.newObj2,"value",t.value);else{var n=t.target.$attrs["data-address"];this.newObj2.value||this.$set(this.newObj2,"value",{}),this.$set(this.newObj2.value,n,t.val),"province"===n&&this.newObj2.value&&this.$set(this.newObj2.value,"city","")&&this.$set(this.newObj2.value,"area",""),"city"===n&&this.newObj2.value&&this.$set(this.newObj2.value,"area","")}else if("conditions"===a){var s=t.target.$attrs["data-field"];if(this.$set(e,s,t.val),"component"===s)this.$set(e,s,t.val);else if("operator"===s)this.$set(e,"operator",t.val),this.$set(e,"data",{}),"image"===e.component.split("_")[0]&&this.$set(e.data,"value","");else if("conVal"===s){var o=t.target.$attrs["data-con"];"province"===o&&e.data&&this.$set(e.data,"city","")&&this.$set(e.data,"area",""),"city"===o&&e.data&&this.$set(e.data,"area",""),o&&(e.data||this.$set(e,"data",{}),this.$set(e.data,o,t.val))}}},_addConditionProp:function(t){},_daySelectedOfValue:function(t){"setText"===t.target.$attrs["data-action"]&&this.$set(this.newObj2,"value",t.value)},_initOptions:function(t){var e=this,i="";if("string"==typeof t)i=t;else{if(!t.val)return;i="/api/system/dictTypes/"+t.val+"/dicts"}Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:i,type:"get",success:function(t){t.state?(t.data.forEach(function(t){e.curTarget.properties.basic.options.push(t.label)}),e.optionsShow=!e.optionsShow):e.$toast(t.message)}})},_addOption:function(t){var e=this.newOptStr?this.newOptStr:this.translate.attrName.options+Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)();this.newOptStr="",this.curTarget.properties[t].options.indexOf(e)>=0?this.$toast("选项已存在在列表中"):e?this.curTarget.properties[t].options.push(e):this.$toast("选项不能为空")},_addParam:function(t){var e=this;if(this.newNameStr&&this.newValueStr){var i=!1;this.curTarget.initialization.properties[t].forEach(function(t){t.name===e.newNameStr&&(i=!0)}),i?this.$toast(this.translate.initial.keyExistTip):(this.curTarget.initialization.properties[t].push({name:this.newNameStr,value:this.newValueStr}),this.newNameStr=this.newValueStr="")}else this.$toast(this.translate.initial.keyInValidTip)},_daySelected:function(t){var e=t.target.$attrs["data-type"],i=t.target.$attrs["data-attr"];this.curTarget.properties[e][i]=t.value},_daySelectedOfInit:function(t){this.curTarget.initialization.properties[t.target.$attrs["data-attr"]]=t.value},_daySelectedOfCondition:function(t){this.$set(this.curCase.condition.data,t.target.$attrs["data-attr"],t.value)},_timeFormat:function(t,e){if(!t)return"";var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return e},_fileSizeCheck:function(t){"fileSize"===t&&this.curTarget.properties.verification[t]>this.formSetting.attributes[t].max&&(this.curTarget.properties.verification[t]=this.formSetting.attributes[t].max,this.$toast(this.translate.fileMaxSizeTip+this.formSetting.attributes[t].max+"KB"))},_changeInitTime:function(t){this.initialTime=t,this.curTarget.initialization.properties.fixedValue="currentTime"===t?t:""},_optionsFixed:function(t){var e=[];return t.forEach(function(t){e.push({id:t,name:t})}),e},_addNewCase:function(t){var e={};t.cases||this.$set(t,"cases",[]),this.$set(e,"name",this.newCaseNameStr?this.newCaseNameStr:"用例"+Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.a)()),this.$set(e,"condition",{}),this.$set(e,"actions",[]),this.$set(e,"triggerInServer",!1),this.$set(e,"order",1),t.cases.push(e),this.actionPartStatus=!1,this._setCase(e)},_setCase:function(t){t.conditions||(this.$set(t,"conditions",[]),this.$set(t,"operationFun","")),this.curCase=t,this.actionPartStatus=!1,this&&(this.oldCase=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(t)))},_addAction:function(t){this.curCase.actions||this.$set(this.curCase,"actions",[]);var e={};this.$set(e,"name",t),this.$set(e,"properties",{}),this.curAction=e,this.curCase.actions.push(e)},_addActionProp:function(){if(this.newObj.fieldName){var t=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(this.newObj));this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,t.fieldName,t)}else this.$toast(this.translate.eventsList.addTip)},_addActionProp2:function(){if(this.newObj2.fieldName){var t=JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(this.newObj2));this.curAction.properties||this.$set(this.curAction,"properties",{}),this.$set(this.curAction.properties,t.fieldName,t)}else this.$toast(this.translate.eventsList.addTip)},_removeAction:function(t){this.curCase.actions.splice(t,1),this.curAction=null},_removeActionProp:function(t){this.$delete(this.curAction.properties,t)},_getFieldArr:function(t){var e=[];return t&&t.forEach(function(t){e.push(t.name)}),e.join(",")},_savecurCase:function(){this.curCase=null,this.curAction=null,this.showFieldValue=""},_cancelSave:function(){for(var t in this.oldCase)this.curCase[t]=this.oldCase[t];this.curAction=null,this.curCase=null,this.showFieldValue=""},_saveLayout:function(){var t=this;this.wigtDataArr.forEach(function(e){t.$set(e,"location",{}),t.$set(e.location,"top",e.y),t.$set(e.location,"left",e.x),t.$set(e,"size",{}),t.$set(e.size,"width",e.w),t.$set(e.size,"height",e.h)}),this._sortLayout(this.wigtDataArr);var e=this._getGlobalCollectorSetting(),i={};this.businessId?i={formId:this.reviseFromId,name:this.title,remark:this.reviseRemark,property:{script:this.code,collectors:e},components:this.wigtDataArr}:(i={name:this.title,property:{script:this.code,collectors:e},components:this.wigtDataArr},"edit"===this.initWay&&(i.id=this.formId));var a=!0;if(i.components.forEach(function(e,i){"nameCard"==e.componentType&&(e.properties.basic.nameCardType||(a=!1,t.$toast("名片控件必须添加对应关系")))}),a)if(this.infoSetting){var n=this._getChangedInfoArray()||[];this.$emit("submit",n),this.personalInfoSetting.changedIds=[]}else this.$emit("submit",i)},_getGlobalCollectorSetting:function(){var t=[],e=!0,i=!1,a=void 0;try{for(var n,s=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.globalCollector.collectors);!(e=(n=s.next()).done);e=!0){var o=n.value,r={dataSet:"",tableKeys:[],tableInitializations:[]};if(o.dataSet){r.dataSet=o.dataSet;var l=!0,c=!1,u=void 0;try{for(var d,p=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(o.fields);!(l=(d=p.next()).done);l=!0){var h=d.value;h.isKey&&r.tableKeys.push(h.name),r.tableInitializations.push({fieldName:h.name,mode:h.valueType||null,value:h.value})}}catch(t){c=!0,u=t}finally{try{!l&&p.return&&p.return()}finally{if(c)throw u}}t.push(r)}}}catch(t){i=!0,a=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw a}}return t},_sortLayout:function(t){t.sort(function(t,e){return t.y===e.y?t.x-e.x:t.y-e.y})},_getPersonalInfoOf:function(t,e){var i=this;if(this.curTarget=null,t){if(this.personalInfoSetting.infoIndexJson[t.id])this.wigtDataArr=this.personalInfoSetting.infoIndexJson[t.id].components,this.personalInfoSetting.curInfoId=t.id;else{this.$waiting.show();var a={};"STUDENT"===this.infoSetting.type&&(a={educationLevel:this.infoSetting.educationLevel}),Object(__WEBPACK_IMPORTED_MODULE_5__assets_utils_utils_js__.e)({url:this.personalInfoSetting.infoLayoutUrl+"/"+t.id,type:"get",data:a,success:function(e){e.state?(i.$set(i.personalInfoSetting.infoIndexJson,t.id,e.data),setTimeout(function(){i._pageClick(),i._componentsProcess(e.data),i.wigtDataArr.forEach(function(t){i._collisionDetect(t),t.location||i.$set(t,"location",{}),t.location.left=t.x,t.location.top=t.y}),i.wigtDataArr.forEach(function(t){}),i.$set(i.personalInfoSetting.oldIndexJsonStr,t.id,__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()({code:i.code,components:i.wigtDataArr})),i.personalInfoSetting.curInfoId=t.id},300)):i.$toast(e.message)}}).always(function(){setTimeout(function(){i.$waiting.close()},300)})}if(e>=0){var n=__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container .tab-list"),s=-__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .tab-list .tab-item").eq(e).position().left;n.css({left:s+"px","transition-duration":this.tabStyleParam.duration+"s"}),this.tabShow=!1}}},_judgeChange:function(){this.personalInfoSetting.curInfoId&&(this.personalInfoSetting.infoIndexJson[this.personalInfoSetting.curInfoId].property.script=this.code,__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(this.personalInfoSetting.infoIndexJson[this.personalInfoSetting.curInfoId])!==this.personalInfoSetting.oldIndexJsonStr[this.personalInfoSetting.curInfoId]&&this.personalInfoSetting.changedIds.indexOf(this.personalInfoSetting.curInfoId)<0&&this.personalInfoSetting.changedIds.push(this.personalInfoSetting.curInfoId))},_getChangedInfoArray:function(){var t=this,e=[];return this.personalInfoSetting.changedIds.forEach(function(i){t._sortLayout(t.personalInfoSetting.infoIndexJson[i].components),e.push(t.personalInfoSetting.infoIndexJson[i])}),e},_scrollTab:function(t){var e=__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container .tab-list"),i=parseInt(e.css("left").replace("px",""));t?-(i-=this.tabStyleParam.scrollDeltaX)>=e.width()-__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container").width()+this.tabStyleParam.scrollDeltaX/2&&(i=-(e.width()-__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp+" .tab-container").width()+this.tabStyleParam.scrollDeltaX/2)):-(i+=this.tabStyleParam.scrollDeltaX)<=0&&(i=0),e.css({left:i+"px","transition-duration":this.tabStyleParam.duration+"s"})},_markerClick:function(t){this.curTarget.properties.basic.map.center={lat:t.location.lat,lng:t.location.lng}},_selectGlobalCollectorDataSet:function(t){var e=parseInt(t.target.$attrs["data-index"]),i=this.globalCollector.collectors[e];i.dataSet!==t.val&&(i.dataSet=t.val,i.fields=[],this.dataFieldOptions.forEach(function(t){t.typeName===i.dataSet&&i.fields.push({name:t.columnName,isKey:!1,valueType:"",value:""})}))},_selectGlobalCollectorFieldValueType:function(t){var e=parseInt(t.target.$attrs["data-set-index"]),i=this.globalCollector.collectors[e],a=parseInt(t.target.$attrs["data-field-index"]);i.fields[a].valueType=t.val},_selectGlobalCollectorFieldComponentValue:function(t){var e=parseInt(t.target.$attrs["data-set-index"]),i=this.globalCollector.collectors[e],a=parseInt(t.target.$attrs["data-field-index"]);i.fields[a].value=t.val},_getFieldNameByDataSetAndName:function(t,e){var i="[unknonw]";return this.dataFieldOptions.forEach(function(a){a.typeName===t&&a.columnName===e&&(i=a.columnTitle)}),i},_addGlobalCollector:function(){this.globalCollector.collectors.push({dataSet:"",fields:[]})},_deleteGlobalCollector:function(t){this.globalCollector.collectors.splice(t,1)}},destroyed:function(){__WEBPACK_IMPORTED_MODULE_4_jquery___default()("#formSetPage"+this.pageStamp).off("mousewheel"),__WEBPACK_IMPORTED_MODULE_4_jquery___default()(this.layoutSetting.scrollContainer).off("scroll")}}},Zj2h:function(t,e,i){"use strict";var a=i("uhaD");function n(t){a.call(this,t)}i("fUz/").inherits(n,a),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=n},"a/8i":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("C331"),n=i("d86U"),s=(n.a,{props:["recruitmentInfo","checkUserInfo","recruitFrom","data"],components:{sendResume:n.a},data:function(){return{inheritAttrs:!0,fileName:"",recruitmentDetails:{},collectList:[],showCollect:!1,onApplyPositionModal:!1,hasResume:!1,resumenInfo:{},resumenName:"",curUserInfo:{},hasCollect:!1,showPreview:!1,resumeData:{},sendFileLoading:!1,recruitType:"ONLINE",loading:!0,sendPreview:!1,fromWhere:"",curPositionId:"",showSendResume:!1}},beforeCreate:function(){document.querySelector("body").setAttribute("style","background-color:#f6f6f8")},methods:{checkMore:function(){if(this.$parent.collectTitle)this.$emit("showRecruit2Index");else{var t={recruitId:this.recruitmentDetails.recruitmentId,positionId:this.recruitmentDetails.id,from:this.fromWhere};this.$attrs.props&&(t.rootPath=this.$attrs.props.rootPath),this.$emit("emitSomePage",t)}},getDetails:function(t,e){var i,n=this;this.recruitFrom||(this.recruitFrom="RECRUITMENT"),i="/api/employment/platform/getPositionById?id="+t+"&type="+this.recruitFrom,Object(a.e)({url:i,type:"get",success:function(t){t.state?(n.recruitmentDetails=t.data,n.loading=!1):n.loading=!1}});document.body.scrollTop||document.documentElement.scrollTop},closeSendResume:function(){this.showSendResume=!1},apply:function(){this.showSendResume=!0},collect:function(t){var e=this;this.checkUserInfo||"STUDENT"==this.checkUserInfo.type?t?Object(a.e)({url:"/api/employment/collection/cancelCollectByRelationId/"+this.recruitmentDetails.id,type:"post",success:function(t){t.state?(e.$message.success("取消收藏成功"),e.recruitmentDetails.isCollect=!1):e.$message.error("取消收藏失败")}}):Object(a.e)({url:"/api/employment/collection/addCollection",type:"post",data:{relationId:this.recruitmentDetails.id},success:function(t){t.state?(e.$message.success("收藏成功"),e.recruitmentDetails.isCollect=!0):e.$message.error("收藏失败")}}):this.$message.error("您还未登录或非学生,暂无权限申请职位")},toAddResume:function(){this.$emit("getRouter")},fileNameChange:function(t){this.fileName=t.target.files[0].name},onApplyPosition:function(){}},created:function(){this.$attrs.props&&this.$attrs.props.from?this.fromWhere=this.$attrs.props.from:this.fromWhere="recruitmentList",this.$attrs.props&&this.$attrs.props.positionId?(this.getDetails(this.$attrs.props.positionId,"fromRecruit2Index"),this.curPositionId=this.$attrs.props.positionId):(this.getDetails(this.recruitmentInfo.id),this.curPositionId=this.recruitmentInfo.id)}}),o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.sendFileLoading,expression:"sendFileLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"recruitmentInfoApplyDetail",attrs:{"element-loading-text":"正在发送简历","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.8)"}},[i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{id:"recruitmentInfoApplyDetail"}},[i("div",{staticClass:"rec-header-warp"},[i("div",{staticClass:"rec-header"},[i("div",[i("div",{staticClass:"title"},[t._v(t._s(t.recruitmentDetails.positionName)+" | "+t._s("PRACTICE"==t.recruitmentDetails.positionProperty?"实习":"全职"))]),t._v(" "),i("div",{staticClass:"price"},[t._v(t._s(t.recruitmentDetails.salaryName))]),t._v(" "),i("div",{staticClass:"other"},[t._v(t._s(t.recruitmentDetails.workplaceName)+" | "+t._s(t.recruitmentDetails.positionTypeName))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.checkUserInfo&&"STUDENT"==t.checkUserInfo.type,expression:"checkUserInfo&&checkUserInfo.type == 'STUDENT'"}],staticClass:"custom-btns"},[t.recruitmentDetails.isCollect?t._e():i("el-button",{staticClass:"collect custom",attrs:{plain:""},on:{click:function(e){return t.collect(!1)}}},[i("div",{staticClass:"custom-icon"},[i("img",{staticClass:"like",attrs:{src:"/static/image/employment/like.png",alt:""}}),t._v(" 收藏职位\n          ")])]),t._v(" "),t.recruitmentDetails.isCollect?i("el-button",{staticClass:"collect custom collected",attrs:{plain:""},on:{click:function(e){return t.collect(!0)}}},[i("div",{staticClass:"custom-icon"},[i("img",{staticClass:"like",attrs:{src:"/static/image/employment/like_active.png",alt:""}}),t._v(" 已收藏\n          ")])]):t._e(),t._v(" "),i("el-button",{staticClass:"custom",attrs:{type:"primary"},on:{click:t.apply}},[t._v("申请职位")])],1)])]),t._v(" "),i("div",{staticClass:"main"},[i("div",{staticClass:"left"},[t._m(0),t._v(" "),i("ul",[i("li",[i("pre",[t._v(t._s(t.recruitmentDetails.majorName?t.recruitmentDetails.majorName:"暂无专业要求"))])])]),t._v(" "),t._m(1),t._v(" "),i("ul",[i("li",[i("pre",[t._v(t._s(t.recruitmentDetails.positionRemarks?t.recruitmentDetails.positionRemarks:"暂无岗位职责"))])])]),t._v(" "),t._m(2),t._v(" "),i("ul",[i("li",[i("pre",[t._v(t._s(t.recruitmentDetails.positionRequire?t.recruitmentDetails.positionRequire:"暂无招聘要求"))])])]),t._v(" "),t._m(3),t._v(" "),i("ul",[i("li",[i("pre",{domProps:{innerHTML:t._s(t.recruitmentDetails.recruitmentBrief?t.recruitmentDetails.recruitmentBrief:"暂无招聘简章")}})])])]),t._v(" "),i("div",{staticClass:"right"},[i("i",{staticClass:"company"}),t._v(" "),i("h6",{staticClass:"company-title"},[t._v(t._s(t.recruitmentDetails.companyName))]),t._v(" "),i("div",{staticClass:"title right-item"},[i("i",{staticClass:"group"}),t._v(" "),i("span",[t._v(t._s(t.recruitmentDetails.scaleName))])]),t._v(" "),i("div",{staticClass:"right-item"},[t._v("\n        联系人：\n        "),i("span",{staticClass:"value"},[t._v(t._s(t.recruitmentDetails.contactPeople))])]),t._v(" "),i("div",{staticClass:"right-item"},[t._v("\n        联系电话：\n        "),i("span",{staticClass:"value"},[t._v(t._s(t.recruitmentDetails.contactPhone))])]),t._v(" "),i("div",{staticClass:"right-item"},[t._v("\n        邮箱：\n        "),i("span",{staticClass:"value"},[t._v(t._s(t.recruitmentDetails.email))])]),t._v(" "),i("div",{staticClass:"introduction-title right-item"},[t._v("公司简介：")]),t._v(" "),i("div",{staticClass:"introduction",domProps:{innerHTML:t._s(t.recruitmentDetails.summary)}}),t._v(" "),i("el-button",{staticClass:"look-more",attrs:{plain:""},on:{click:t.checkMore}},[t._v("查看公司更多职位")])],1)])]),t._v(" "),t.showSendResume?i("send-resume",{attrs:{positionId:t.curPositionId},on:{addResume:t.toAddResume,close:t.closeSendResume}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("img",{staticClass:"icon",attrs:{src:"/static/image/employment/major.png",alt:""}}),this._v(" "),e("h6",{staticClass:"h"},[this._v("专业要求")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("img",{staticClass:"icon",attrs:{src:"/static/image/employment/things.png",alt:""}}),this._v(" "),e("h6",{staticClass:"h"},[this._v("岗位职责")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("img",{staticClass:"icon",attrs:{src:"/static/image/employment/todo.png",alt:""}}),this._v(" "),e("h6",{staticClass:"h"},[this._v("招聘要求")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("img",{staticClass:"icon",attrs:{src:"/static/image/employment/jianzhang.png",alt:""}}),this._v(" "),e("h6",{staticClass:"h"},[this._v("招聘简章")])])}]};var r=i("C7Lr")(s,o,!1,function(t){i("5u+d"),i("Fz+m")},"data-v-7effa128",null);e.default=r.exports},a2RD:function(t,e,i){"use strict";(function(e){t.exports={isNode:void 0!==e,newBufferFrom:function(t,i){if(e.from&&e.from!==Uint8Array.from)return e.from(t,i);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new e(t,i)},allocBuffer:function(t){if(e.alloc)return e.alloc(t);var i=new e(t);return i.fill(0),i},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(e,i("NfRg").Buffer)},b40o:function(t,e,i){"use strict";var a=i("uezc"),n=i("fUz/");function s(t){a.call(this,"ConvertWorker to "+t),this.destType=t}n.inherits(s,a),s.prototype.processChunk=function(t){this.push({data:n.transformTo(this.destType,t.data),meta:t.meta})},t.exports=s},bFEl:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},bTp3:function(t,e,i){"use strict";i("kV13"),i("6fg8");var a=i("2GJD"),n={props:{height:{default:"200px"},data:{default:null}},created:function(){},data:function(){return{flow:null}},watch:{data:function(){this.flow.load(this.data)}},mounted:function(){var t=this;this.flow=Object(a.a)("#flow",{readonly:!1,adjustBranches:!0,data:this.data,debug:!1,animate:!0,animateDuration:200,edgeMaxOffset:20,fixApplyNode:!1,colWidth:300,rowHeight:100,top:58,slideWorkspaceValidAreaOffset:120,slideWorkspaceStep:10,joinPointOffset:15,textLineDistance:10,startNodeWidth:108,startNodeHeight:44,startNodeRadius:22,endNodeWidth:108,endNodeHeight:44,endNodeRadius:22,processNodeWidth:208,processNodeHeight:44,conditionNodeWidth:242,conditionNodeHeight:64,waitingNodeInterval:12,waitingProcessNodeText:"节点",waitingProcessNodeWidth:64,waitingProcessNodeHeight:44,waitingConditionNodeText:"条件",waitingConditionNodeWidth:78,waitingConditionNodeHeight:78,waitingEndNodeText:"结束",waitingEndNodeWidth:64,waitingEndNodeHeight:44,deleteConfirm:!1,deleteConfirmText:"确定要删除此节点吗?"}),this.flow.on("selected",function(e){t.$emit("nodeSelected",e)}),this.flow.on("link_node",function(e){t.$emit("nodeLinked",e)}),this.flow.on("create_node",function(e){t.$emit("nodeCreated",e)}),this.flow.on("delete_node",function(e){t.$emit("nodeRemoved",e)}),this.flow.on("wait_to_create_or_link",function(e){t.$emit("waitToCreate",e)})},methods:{refreshNodeText:function(t,e){this.flow.setNodeName(t,e)},toCreateBranch:function(t){this.flow.toCreateBranch(t)},setLineText:function(t,e,i){this.flow.setLineText(t,e,i)},getNodeById:function(t){return this.flow.getNode(t)},refresh:function(){this.flow.refresh()},export:function(){var t=[],e=this.flow.export();for(var i in e)e[i].id=i,t.push(e[i]);return t}}},s={render:function(){var t=this.$createElement;return(this._self._c||t)("svg",{staticClass:"v-flow",style:"height:"+this.height,attrs:{id:"flow"}})},staticRenderFns:[]};var o=i("C7Lr")(n,s,!1,function(t){i("TCGl")},null,null);e.a=o.exports},bYNL:function(t,e){},c0sd:function(t,e){},d86U:function(t,e,i){"use strict";i("HDIR");var a=i("kaUr"),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.sendLoading,expression:"sendLoading",modifiers:{fullscreen:!0,lock:!0}}],class:{showFile:t.showOnlineResume},attrs:{id:"sendResume","element-loading-text":"正在发送简历","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.8)"}},[a("el-dialog",{staticClass:"apply-position",attrs:{"show-close":!1,visible:t.onApplyPositionModal,"append-to-body":!0,"close-on-click-modal":!1,width:"482px"},on:{"update:visible":function(e){t.onApplyPositionModal=e}}},[t.hasResume?a("div",{staticClass:"hasResume"},[a("div",{staticClass:"position-modal-header",attrs:{slot:"title"},slot:"title"},[a("h5",{staticClass:"modal-title"},[t._v("简历名称:")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.preview("preview")}}},[t._v("预览简历")])],1),t._v(" "),a("span",{staticClass:"fileinput-button"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.resumenName,expression:"resumenName"}],domProps:{value:t.resumenName},on:{input:function(e){e.target.composing||(t.resumenName=e.target.value)}}})]),t._v(" "),t.recruitmentDetails.startTime&&t.recruitmentDetails.endTime?a("p",{staticClass:"time"},[t._v("预计简历接收时间："+t._s(t.recruitmentDetails.startTime)+" - "+t._s(t.recruitmentDetails.endTime))]):t._e(),t._v(" "),a("div",{staticClass:"choiceRecruit",staticStyle:{"margin-top":"20px",padding:"0 20px"}},[t.resumenInfo.name?a("el-radio",{attrs:{label:"ONLINE"},model:{value:t.recruitType,callback:function(e){t.recruitType=e},expression:"recruitType"}},[t._v("在线简历")]):t._e(),t._v(" "),t.resumenInfo.resumeFileName?a("el-radio",{attrs:{label:"FILE"},model:{value:t.recruitType,callback:function(e){t.recruitType=e},expression:"recruitType"}},[t._v("文件简历")]):t._e()],1),t._v(" "),a("span",{staticClass:"dialog-footer",staticStyle:{"margin-top":"20px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"dialog-footer-button",attrs:{type:"default"},on:{click:function(e){return t.$emit("close")}}},[t._v("取消")]),t._v(" "),a("el-button",{staticClass:"dialog-footer-button",attrs:{type:"primary"},on:{click:t.blacklistSure}},[t._v("发送简历")])],1)]):a("div",{staticStyle:{"text-align":"center"}},[a("p",[t._v("暂无简历")]),t._v(" "),a("el-button",{staticClass:"dialog-footer-button",attrs:{type:"default"},on:{click:function(e){return t.$emit("close")}}},[t._v("取消")]),t._v(" "),a("el-button",{staticClass:"dialog-footer-button",staticStyle:{margin:"20px 0"},attrs:{type:"primary"},on:{click:function(e){return t.$emit("addResume")}}},[t._v("新增简历")])],1)]),t._v(" "),a("el-dialog",{attrs:{id:"showPreview","append-to-body":!0,visible:t.showPreview,width:"80%","before-close":t.handleClose},on:{"update:visible":function(e){t.showPreview=e}}},[a("div",{staticClass:"online_cantEdit"},[a("div",{staticClass:"top box"},[a("div",{staticClass:"userImg"},[t.resumeData.portrait?a("img",{attrs:{src:"/upload/storage/images/"+t.resumeData.portrait,alt:""}}):a("img",{attrs:{src:i("m/pr"),alt:""}})]),t._v(" "),a("div",{staticClass:"userInfo"},[a("p",[t._v(t._s(t.resumeData.name))]),t._v(" "),a("div",{staticClass:"userInfo_details"},[a("div",{staticClass:"userInfo_details_top"},[a("p",[a("i",{staticClass:"sexy"}),t._v(" "),t.resumeData.sex?a("span",[t._v(t._s("1"==t.resumeData.sex?"男":"女"))]):t._e()]),t._v(" "),a("em"),t._v(" "),a("p",[a("i",{staticClass:"age"}),t._v(" "),t.resumeData.birthday?a("span",[t._v(t._s((new Date).getFullYear()-new Date(t.resumeData.birthday).getFullYear()))]):t._e()]),t._v(" "),a("em"),t._v(" "),a("p",[a("i",{staticClass:"edu"}),t._v(" "),a("span",[t._v(t._s(t.resumeData.educationLevelName))])]),t._v(" "),a("em"),t._v(" "),a("p",[a("i",{staticClass:"address"}),t._v(" "),a("span",[t._v(t._s(t.resumeData.presentAddressName))])])]),t._v(" "),a("div",{staticClass:"userInfo_details_bottom"},[a("p",[a("i",{staticClass:"phone"}),t._v(" "),a("span",[t._v(t._s(t.resumeData.phone))])]),t._v(" "),a("em"),t._v(" "),a("p",[a("i",{staticClass:"mail"}),t._v(" "),a("span",[t._v(t._s(t.resumeData.email))])])])])])]),t._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"list"},[a("h1",{staticClass:"title"},[t._v("教育经历")]),t._v(" "),a("span",{staticStyle:{"min-width":"20%"}},[t._v(t._s(t.resumeData.collegeName))]),t._v(" "),a("span",{staticStyle:{"min-width":"20%"}},[t._v(t._s(t.resumeData.majorName))]),t._v(" "),a("span",{staticStyle:{"min-width":"10%"}},[t._v(t._s(t.resumeData.educationLevelName))])]),t._v(" "),a("div",{staticClass:"list"},[a("h1",{staticClass:"title"},[t._v("项目经历")]),t._v(" "),a("p",[t._v(t._s(t.resumeData.projectExperience))])]),t._v(" "),a("div",{staticClass:"list"},[a("h1",{staticClass:"title"},[t._v("获奖经历")]),t._v(" "),a("p",[t._v(t._s(t.resumeData.rewardedExperience))])]),t._v(" "),a("div",{staticClass:"list"},[a("h1",{staticClass:"title"},[t._v("自我评价")]),t._v(" "),a("p",[t._v(t._s(t.resumeData.selfEvaluation))])])])])]),t._v(" "),a("div",{class:{showFile:t.showOnlineResume},attrs:{id:"sendFile"}},[a("div",{staticClass:"online_cantEdit"},[a("div",{staticClass:"top box"},[a("div",{staticClass:"userImg"},[t.resumeData.portrait?a("img",{attrs:{src:"/upload/storage/images/"+t.resumeData.portrait,alt:""}}):a("img",{attrs:{src:i("m/pr"),alt:""}})]),t._v(" "),a("div",{staticClass:"userInfo"},[a("p",[t._v(t._s(t.resumeData.name))]),t._v(" "),a("div",{staticClass:"userInfo_details"},[a("div",{staticClass:"userInfo_details_top"},[a("p",[a("i",{staticClass:"sexy"}),t._v(" "),t.resumeData.sex?a("span",[t._v(t._s("1"==t.resumeData.sex?"男":"女"))]):t._e()]),t._v(" "),a("em"),t._v(" "),a("p",[a("i",{staticClass:"age"}),t._v(" "),t.resumeData.birthday?a("span",[t._v(t._s((new Date).getFullYear()-new Date(t.resumeData.birthday).getFullYear()))]):t._e()]),t._v(" "),a("em"),t._v(" "),a("p",[a("i",{staticClass:"edu"}),t._v(" "),a("span",[t._v(t._s(t.resumeData.educationLevelName))])]),t._v(" "),a("em"),t._v(" "),a("p",[a("i",{staticClass:"address"}),t._v(" "),a("span",[t._v(t._s(t.resumeData.presentAddressName))])])]),t._v(" "),a("div",{staticClass:"userInfo_details_bottom"},[a("p",[a("i",{staticClass:"phone"}),t._v(" "),a("span",[t._v(t._s(t.resumeData.phone))])]),t._v(" "),a("em"),t._v(" "),a("p",[a("i",{staticClass:"mail"}),t._v(" "),a("span",[t._v(t._s(t.resumeData.email))])])])])])]),t._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"list"},[a("h1",{staticClass:"title"},[t._v("教育经历")]),t._v(" "),a("span",{staticStyle:{"min-width":"20%"}},[t._v(t._s(t.resumeData.collegeName))]),t._v(" "),a("span",{staticStyle:{"min-width":"20%"}},[t._v(t._s(t.resumeData.majorName))]),t._v(" "),a("span",{staticStyle:{"min-width":"10%"}},[t._v(t._s(t.resumeData.educationLevelName))])]),t._v(" "),a("div",{staticClass:"list"},[a("h1",{staticClass:"title"},[t._v("项目经历")]),t._v(" "),a("p",[t._v(t._s(t.resumeData.projectExperience))])]),t._v(" "),a("div",{staticClass:"list"},[a("h1",{staticClass:"title"},[t._v("获奖经历")]),t._v(" "),a("p",[t._v(t._s(t.resumeData.rewardedExperience))])]),t._v(" "),a("div",{staticClass:"list"},[a("h1",{staticClass:"title"},[t._v("自我评价")]),t._v(" "),a("p",[t._v(t._s(t.resumeData.selfEvaluation))])])])])])],1)},staticRenderFns:[]};var s=function(t){i("Acjl"),i("bYNL"),i("etCs")},o=i("C7Lr")(a.a,n,!1,s,"data-v-260b2748",null);e.a=o.exports},dCmJ:function(t,e){},dQ7k:function(t,e){},eYCz:function(t,e){},eswf:function(t,e,i){var a=i("Nlnz"),n=i("+Tcy")("iterator"),s=i("nVyG");t.exports=i("ZuHZ").isIterable=function(t){var e=Object(t);return void 0!==e[n]||"@@iterator"in e||s.hasOwnProperty(a(e))}},etCs:function(t,e){},fSJ2:function(t,e,i){"use strict";var a=i("lC5x"),n=i.n(a),s=i("J0Oq"),o=i.n(s),r=i("C331"),l={add:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/addDoubleChoose",type:"post",data:t.toApiDcw()}));case 1:case"end":return e.stop()}},i,e)}))()},get:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/getDetails",type:"get",data:{id:t}}));case 1:case"end":return e.stop()}},i,e)}))()},getOpenDcw:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/platform/getDoubleChooseDetails",type:"get",data:{id:t}}));case 1:case"end":return e.stop()}},i,e)}))()},getByUnit:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/doubleChoose/getDetails",type:"get",data:{id:t}}));case 1:case"end":return e.stop()}},i,e)}))()},update:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/updateDoubleChoose",type:"post",data:t.toApiDcw()}));case 1:case"end":return e.stop()}},i,e)}))()},unShelve:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/soldOut?id="+t,type:"post"}));case 1:case"end":return e.stop()}},i,e)}))()},shelve:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/soldOut?id="+t,type:"post"}));case 1:case"end":return e.stop()}},i,e)}))()},changeTop:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/top?id="+t,type:"post"}));case 1:case"end":return e.stop()}},i,e)}))()},publish:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/release?id="+t,type:"post"}));case 1:case"end":return e.stop()}},i,e)}))()},apply:function(t,e){var i=this;return o()(n.a.mark(function a(){var s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return(s=e.toApiUnitApplyInfo()).doubleChooseId=t,i.abrupt("return",Object(r.c)({url:"/api/employment/doubleChoose/addDoubleChooseAudit",type:"post",data:s}));case 3:case"end":return i.stop()}},a,i)}))()},getUnitApplyInfo:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/doubleChoose/getDoubleChooseAuditDetails?id="+t}));case 1:case"end":return e.stop()}},i,e)}))()},agree:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/audit/agreeDoubleChooseAudit?id="+t.id,type:"post",data:t.toApiUnitApplyInfo()}));case 1:case"end":return e.stop()}},i,e)}))()},disagree:function(t,e){var i=this;return o()(n.a.mark(function a(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/audit/repulseDoubleChooseAudit?id="+t+"&reason="+(e||""),type:"post",data:{id:t,reason:e}}));case 1:case"end":return i.stop()}},a,i)}))()},reject:function(t,e){var i=this;return o()(n.a.mark(function a(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/audit/rejectDoubleChooseAudit?id="+t+"&reason="+(e||""),type:"post",data:{id:t,reason:e}}));case 1:case"end":return i.stop()}},a,i)}))()},countermand:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/doubleChoose/recall?id="+t,type:"post",data:{id:t}}));case 1:case"end":return e.stop()}},i,e)}))()},resubmit:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/doubleChoose/updateDoubleChooseAudit",type:"post",data:t.toApiUnitApplyInfo()}));case 1:case"end":return e.stop()}},i,e)}))()},getManagedColleges:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/managedColleges"}));case 1:case"end":return t.stop()}},e,t)}))()}},c={isStandDeletable:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/canDelete",type:"get",data:{id:t}}));case 1:case"end":return e.stop()}},i,e)}))()},getUnitApplyInfo:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/participant/getDetails",data:{id:t}}));case 1:case"end":return e.stop()}},i,e)}))()},getOpenUnitApplyInfo:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/platform/getParticipantDetails",data:{id:t}}));case 1:case"end":return e.stop()}},i,e)}))()},getNoApplyUnits:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/getCompanyDetailList?id="+t}));case 1:case"end":return e.stop()}},i,e)}))()},deleteStandUnit:function(t,e){var i=this;return o()(n.a.mark(function a(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/cancelParticipant?id="+(t||e)+"&type="+(t?0:1),type:"post"}));case 1:case"end":return i.stop()}},a,i)}))()},addStands:function(t,e){var i=this;return o()(n.a.mark(function a(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/addBooth",type:"post",data:{boothVOS:e.map(function(e){return{id:t,name:e.name,sortNum:e.sort}})}}));case 1:case"end":return i.stop()}},a,i)}))()},deleteStand:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/deleteBooth?id="+t,type:"post"}));case 1:case"end":return e.stop()}},i,e)}))()},update:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/updateBooth?id="+t.id+"&name="+t.name,type:"post"}));case 1:case"end":return e.stop()}},i,e)}))()},reserve:function(t,e){var i=this;return o()(n.a.mark(function a(){var s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return(s=e.toApiUnitApplyInfo()).doubleChooseId=t,i.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/reserveBooth",type:"post",data:s}));case 3:case"end":return i.stop()}},a,i)}))()},updateStandUnit:function(t){var e=this;return o()(n.a.mark(function i(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r.c)({url:"/api/employment/manage/participant/update",type:"post",data:t.toApiUnitApplyInfo()}));case 1:case"end":return e.stop()}},i,e)}))()},setSign:function(t,e){var i=this;return o()(n.a.mark(function a(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.c)({url:"/api/employment/manage/doubleChoose/signIn",type:"post",data:{id:t,isSignIn:e}}));case 1:case"end":return i.stop()}},a,i)}))()}},u={getMyUnit:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(r.c)({url:"/api/employment/company/information",type:"get"}));case 1:case"end":return t.stop()}},e,t)}))()}};e.a={dcw:l,stand:c,unit:u,uploadPicture:function(t){var e=this;return o()(n.a.mark(function i(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),e.abrupt("return",Object(r.c)({url:"/upload/storage/files",type:"post",data:a,contentType:!1,processData:!1}));case 3:case"end":return e.stop()}},i,e)}))()}}},"fUz/":function(t,e,i){"use strict";var a=i("EVdu"),n=i("483g"),s=i("a2RD"),o=i("PXen"),r=i("tK0m");function l(t){return t}function c(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}e.newBlob=function(t,i){e.checkSupport("blob");try{return new Blob([t],{type:i})}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return a.append(t),a.getBlob(i)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(t,e,i){var a=[],n=0,s=t.length;if(s<=i)return String.fromCharCode.apply(null,t);for(;n<s;)"array"===e||"nodebuffer"===e?a.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+i,s)))):a.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+i,s)))),n+=i;return a.join("")},stringifyByChar:function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(t){return!1}}()}};function d(t){var i=65536,a=e.getTypeOf(t),n=!0;if("uint8array"===a?n=u.applyCanBeUsed.uint8array:"nodebuffer"===a&&(n=u.applyCanBeUsed.nodebuffer),n)for(;i>1;)try{return u.stringifyByChunk(t,a,i)}catch(t){i=Math.floor(i/2)}return u.stringifyByChar(t)}function p(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}e.applyFromCharCode=d;var h={};h.string={string:l,array:function(t){return c(t,new Array(t.length))},arraybuffer:function(t){return h.string.uint8array(t).buffer},uint8array:function(t){return c(t,new Uint8Array(t.length))},nodebuffer:function(t){return c(t,s.allocBuffer(t.length))}},h.array={string:d,array:l,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s.newBufferFrom(t)}},h.arraybuffer={string:function(t){return d(new Uint8Array(t))},array:function(t){return p(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:l,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s.newBufferFrom(new Uint8Array(t))}},h.uint8array={string:d,array:function(t){return p(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:l,nodebuffer:function(t){return s.newBufferFrom(t)}},h.nodebuffer={string:d,array:function(t){return p(t,new Array(t.length))},arraybuffer:function(t){return h.nodebuffer.uint8array(t).buffer},uint8array:function(t){return p(t,new Uint8Array(t.length))},nodebuffer:l},e.transformTo=function(t,i){if(i||(i=""),!t)return i;e.checkSupport(t);var a=e.getTypeOf(i);return h[a][t](i)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":a.nodebuffer&&s.isBuffer(t)?"nodebuffer":a.uint8array&&t instanceof Uint8Array?"uint8array":a.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!a[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,i,a="";for(i=0;i<(t||"").length;i++)a+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return a},e.delay=function(t,e,i){o(function(){t.apply(i||null,e||[])})},e.inherits=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i},e.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i},e.prepareContent=function(t,i,s,o,l){return r.Promise.resolve(i).then(function(t){return a.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new r.Promise(function(e,i){var a=new FileReader;a.onload=function(t){e(t.target.result)},a.onerror=function(t){i(t.target.error)},a.readAsArrayBuffer(t)}):t}).then(function(i){var u,d=e.getTypeOf(i);return d?("arraybuffer"===d?i=e.transformTo("uint8array",i):"string"===d&&(l?i=n.decode(i):s&&!0!==o&&(i=c(u=i,a.uint8array?new Uint8Array(u.length):new Array(u.length)))),i):r.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},hDtI:function(t,e,i){"use strict";var a=i("uezc");e.STORE={magic:"\0\0",compressWorker:function(t){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},e.DEFLATE=i("Ioml")},hJ1Y:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("3cXf"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__("kV13"),__WEBPACK_IMPORTED_MODULE_2_jquery__=__webpack_require__("qqHy"),__WEBPACK_IMPORTED_MODULE_2_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_jquery__),__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__=__webpack_require__("C331"),__WEBPACK_IMPORTED_MODULE_4__components_VFlow_vue__=__webpack_require__("bTp3"),__WEBPACK_IMPORTED_MODULE_5_fs__=__webpack_require__("0Nqt"),__WEBPACK_IMPORTED_MODULE_5_fs___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_fs__);__WEBPACK_IMPORTED_MODULE_1_vue__.default.component("v-flow",__WEBPACK_IMPORTED_MODULE_4__components_VFlow_vue__.a),__webpack_exports__.a={inject:{windowObj:{default:null}},props:{departmentId:{default:"1"},appId:{default:"1"},readonly:{default:!1},businessId:{default:null},appName:{default:null},type:{default:""},userType:{default:null}},created:function created(){var _this=this;this.columnsModel=[{id:"college",title:"学院",className:"text-left",hidden:!1},{id:"totalPeople",title:"总人数",className:"text-left",hidden:!1},{id:"rate",title:"比例",className:"text-left",hidden:!1,formatter:function(t,e){return t.rate+"%"}},{id:"id",title:"id",className:"text-left",hidden:!0},{id:"countResult",title:"计算结果",className:"text-left",hidden:!1},{id:"finalResult",className:"text-left",title:"最终结果",hidden:!1,edit:{type:"number"}}];var la=localStorage.getItem("lang");for(var i in Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.g)(la)&&(this.lang=la),this.businessId?(this.reviseFlowUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/flowSetting",this.reviseFormUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/formSetting"):"sc"===this.type?this.reviseFlowUrl="/api/sc/activities/types/"+this.appId+"/flowSetting":(this.reviseFlowUrl="/api/apps/"+this.appId+"/settings/flows",this.reviseFormUrl="/api/apps/"+this.appId+"/settings/forms"),Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:this.reviseFlowUrl,type:"get",success:function(t){t.state?t.data&&(_this.flowData.id=t.data.id,_this.flowData.chart=t.data.chart,_this.curFlow=t.data.settings,_this.curFlow.nodes.forEach(function(t,e){_this.$set(t,"id",t.id),_this.$set(t,"name",t.name),_this.$set(t,"category",t.category),_this.$set(t,"distributary",t.distributary),_this.$set(t,"operators",t.operators||[]),_this.$set(t,"operations",t.operations||{}),_this.$set(t,"dataAuthorities",t.dataAuthorities||[]),_this.$set(t,"links",t.links||[]),_this.$set(t,"nodeType",t.nodeType||"1")})):_this.$toast(t.message)}}),"sc"===this.type?(this.curFlow.name=this.appName+"流程",this.components=[],this.$set(this.curFlow,"formSettingName",this.appName+"表单"),this.$set(this.curFlow,"formSettingId","sc")):Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:this.reviseFormUrl,type:"get",success:function success(data){if(data.state){var patch=function patch(s,re){return re=eval("/"+re+"/ig"),s.match(re)?s.match(re).length:0};_this.curFlow.name=data.data.name+"流程",_this.components=data.data.components;var newCom=JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this.components)),initLength=0,m=[],num=0;_this.components.forEach(function(t,e){var i=patch(t.name,"_"),a=patch(t.name,"table");i<2&&a>=1&&(num+=1,m.push(e),num>1&&(initLength+=_this.components[m[num-2]].properties.basic.tableFields.length),t.properties.basic.tableFields.forEach(function(i,a){var n=e+1+initLength;i.title=t.title+i.title,i[t.name]=t.name,newCom.splice(n,0,i)}))}),_this.components=newCom,_this.components.forEach(function(t,e){_this.$set(t,"checked",!1),_this.$set(t,"checkedXian",!1),_this.$set(t,"checkedCollect",!1)}),_this.$set(_this.curFlow,"formSettingName",data.data.name),_this.$set(_this.curFlow,"formSettingId",data.data.id)}else _this.$toast(data.message)}}),"sc"===this.type&&this.distributaryData.push({id:"byOrganization",name:"以社团组织关系分流"}),"4"!==this.userType&&"2"!==this.userType||this.distributaryData.splice(1,2),this.distributaryData.forEach(function(t,e){t.name=_this.translate.distributaryData[t.id]}),this.operatorData.forEach(function(t,e){t.name=_this.translate.operatorData[t.id]}),"sc"===this.type&&(this.permissionData=[{id:"reject",name:"驳回",checked:!1,data:[{id:"rejectTo",name:"驳回至",options:[{id:"lastNode",name:"上一节点"},{id:"optional",name:"由此节点选择"}]},{id:"rejectBackTo",name:"驳回后返回",options:[{id:"flowWay",name:"按流程原路返回"},{id:"optional",name:"由此节点选择"}]}]},{id:"batch",name:"批量操作",checked:!1}]),this.permissionData.forEach(function(t,e){t.name=_this.translate.permissionData[t.id],t.data&&t.data.forEach(function(t,e){t.name=_this.translate.permissionData[t.id],t.options&&t.options.forEach(function(t,e){t.name=_this.translate.permissionData[t.id]})})}),this.attributesShow)this.attributesShow[i].conditions.forEach(function(t,e){t.name=_this.translate.condition[t.id]});this._initRoleList("bySchool"),this._initRoleList("byCollege"),this._initRoleList("byClass"),"sc"===this.type&&this._initRoleList("byOrganization"),this._initRoleList("byBuilding"),this._initRoleList("byParty")},data:function(){return{clicktoggle:!0,nextType:"",totalTrueNumberA:"",rows:[],mingTotalNumber:"",mingResultCaculate:"",mingRate:"",checkMingCollege:!0,checkMingLeval:!1,checkMingGrade:!1,checkMingClass:!1,checkMingZhi:!1,checkMingMajor:!1,checkMingDepartment:!1,mingEOn:!1,showTable:!1,resultType:[{label:"四舍五入",value:"ROUNDED"},{label:"向上取整",value:"TAKEUP"},{label:"向下取整",value:"TAKEDOWN"}],columnsModel:[],settingModelshow:!1,nodeTypeArr:[{id:"1",name:"其他节点"},{id:"2",name:"发起节点"}],distributaryData:[{id:"bySchool",name:"不分流"},{id:"byClass",name:"以班级关系分流"},{id:"byTeacher",name:"以带生关系分流"},{id:"byTutor",name:"以导师分流"},{id:"byVolunteer",name:"以志愿者分流"},{id:"byCollege",name:"以学院关系分流"},{id:"byBuilding",name:"公寓按楼栋分流"},{id:"byParty",name:"以党组织关系分流"}],roleList:{},components:[],operatorData:[{id:"required",name:"必填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"optional",name:"选填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"readonly",name:"只读",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map","nameCard"]},{id:"hide",name:"隐藏",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map","nameCard"]}],collectorData:[{id:"collected",flag:!0,name:"采集"},{id:"unCollected",flag:!1,name:"不采集"}],permissionData:[{id:"reject",name:"驳回",checked:!1,data:[{id:"rejectTo",name:"驳回至",options:[{id:"lastNode",name:"上一节点"},{id:"optional",name:"由此节点选择"}]},{id:"rejectBackTo",name:"驳回后返回",options:[{id:"flowWay",name:"按流程原路返回"},{id:"optional",name:"由此节点选择"}]}]},{id:"revocation",name:"撤回",checked:!1},{id:"deliverTo",name:"转交",checked:!1},{id:"sendTo",name:"抄送",checked:!1},{id:"batch",name:"批量操作",checked:!1},{id:"cancelByUser",name:"发起者在此节点可以取消流程",checked:!1}],permission:{reject:{usable:!0,properties:{rejectTo:"lastNode",rejectBackTo:"flowWay"}},revocation:{usable:!0},deliverTo:{usable:!0},sendTo:{usable:!0},batch:{usable:!0},cancelByUser:{usable:!0},canExport:{usable:!0}},attributesShow:{input:{conditions:[{id:"=",name:"等于",data:"value"},{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},number:{conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"}]},datetime:{conditions:[{id:"=",name:"等于",data:"value"},{id:"<",name:"小于",data:"value"},{id:"<=",name:"小于等于",data:"value"},{id:">",name:"大于",data:"value"},{id:">=",name:"大于等于",data:"value"},{id:"!=",name:"不等于",data:"value"}]},radio:{conditions:[{id:"=",name:"等于",data:"value"}]},checkbox:{conditions:[{id:"include",name:"包含",data:"value"},{id:"exclude",name:"不包含",data:"value"}]},select:{conditions:[{id:"=",name:"等于",data:"value"}]},address:{conditions:[{id:"=",name:"等于",data:"value"}]}},batchCheck:"",collectorCheck:"",newRoleName:"",roleEditing:!1,roleAddErrorMsg:"",chart:{},curNode:{nodeType:"1"},curLink:{},otherLink:{nextNodeId:""},curFlow:{id:"",name:"",formSettingId:"",formSettingName:"",nodes:[{id:"start",name:"",category:"start",distributary:null,operators:[],operations:{},dataAuthorities:[],links:[],nodeType:"1"}]},flowData:{id:"",chart:[],settings:{}},curTargetNode:null,isChange:!1,reviseFlowUrl:"",reviseFormUrl:"",lang:"zh-cn"}},computed:{isApplyNode:function(){return!(!this.curTargetNode||!this.curTargetNode.parents)&&"start"===this.curTargetNode.parents[0]},translate:function(){return Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.g)(this.lang).flowSetManage},roleCheckAllCount:function(){var t=this,e=0;return this.curNode&&this.curNode.operators&&this.roleList[this.curNode.distributary]&&this.roleList[this.curNode.distributary].forEach(function(i){t.curNode.operators.indexOf(parseInt(i.id))>=0&&e++}),e},componentsCheckAllCount:function(){var t=0;return this.components.forEach(function(e){e.checked&&t++}),t},componentsCheckAllCountXian:function(){var t=0;return this.components.forEach(function(e){e.checkedXian&&t++}),t},componentsCheckAllCountCollect:function(){var t=0;return this.components.forEach(function(e){e.checkedCollect&&t++}),t},initDataOfChart:function(){var t=this,e=null;return this.flowData.chart&&this.flowData.chart.nodes&&this.flowData.chart.nodes.length>0&&(e={},this.flowData.chart.nodes.forEach(function(t,i){e[t.id]=t})),setTimeout(function(){t._refreshFlow()},300),e},curComponent:function(){var t=this,e={};return this.components.forEach(function(i,a){t.curNode.links[0]&&t.curNode.links[0].condition&&t.curNode.links[0].condition.component===i.name&&(e=i)}),e}},mounted:function(){var t=this;__WEBPACK_IMPORTED_MODULE_2_jquery___default()("#flowSetPage").keydown(function(e){return 1!=e.ctrlKey||83!=e.keyCode||(t._saveFlow(),t.$emit("back"),e.preventDefault(),!1)})},methods:{changeCheck:function(t){t.name.indexOf("table")>-1&&t.name.length<21&&(this.components=this.components.map(function(e){return e.name.length>21&&e[t.name]&&(e.checked=!t.checked),e})),t.name.indexOf("table")>-1&&t.name.length>21&&(this.components=this.components.map(function(e){return e.name.length<21&&e.name==t[e.name]&&(e.checked=!1),e})),t.checked=!t.checked},clickChange:function(t){this.clicktoggle=!this.clicktoggle},_getExportData:function(t,e){return t.dataAuthorities[t.dataAuthoritiesKey[e.name]].exportable},changeTable:function(t){var e=this,i=0;this.rows.forEach(function(i,a){i.id==t.row.id&&e.$set(e.rows[a],"finalResult",t.value)}),this.rows.forEach(function(t){t.finalResult&&"总计"!=t.college&&(i+=parseInt(t.finalResult))}),this.$set(this.rows[this.rows.length-1],"finalResult",i),this.totalTrueNumberA=i},sureForMing:function(){var t=this;if(this.totalTrueNumberA==this.mingTotalNumber){var e=["COLLEGE"];this.checkMingLeval&&e.push("EDUCATIONLEVEL"),this.checkMingGrade&&e.push("GRADE"),this.checkMingClass&&e.push("CLASS"),this.checkMingZhi&&e.push("STUDYYEARS"),this.checkMingMajor&&e.push("MAJOR"),this.checkMingDepartment&&e.push("DEPARTMENT");var i={};i.appId=this.appId,i.nodeId=this.curNode.id,i.nodeName=this.curNode.name,i.businessId=this.businessId,i.totalNumber=parseInt(this.mingTotalNumber),i.conditions=e,i.rate=parseInt(this.mingRate),i.countWay=this.mingResultCaculate,i.guideShow=this.showTable,i.appQuotaCollectVO=this.rows,Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.d)("/api/app/quota/saveSetQuota",i,"post").then(function(e){e.state?(t.$toast("设置完成"),t.settingModelshow=!1):"10001"==e.code?t.$toast("条件填写不完整，请重新填写！"):t.$toast(e.message)})}else this.$toast("实际结果总计 需要和 总名额 相等")},sureMingSet:function(t){var e=this;t&&t.preventDefault(),this.columnsModel=[{id:"college",title:"学院",className:"text-left",hidden:!1},{id:"totalPeople",title:"总人数",className:"text-left",hidden:!1},{id:"rate",title:"比例",className:"text-left",hidden:!1,formatter:function(t,e){return t.rate+"%"}},{id:"id",title:"id",className:"text-left",hidden:!0},{id:"countResult",title:"计算结果",className:"text-left",hidden:!1},{id:"finalResult",className:"text-left",title:"最终结果",hidden:!1,edit:{type:"number"}}];var i="COLLEGE";this.checkMingLeval&&(this.columnsModel.splice(1,0,{id:"educationLevel",title:"培养层次",className:"text-left",hidden:!1}),i+=",EDUCATIONLEVEL"),this.checkMingGrade&&(this.columnsModel.splice(1,0,{id:"grade",title:"年级",className:"text-left",hidden:!1}),i+=",GRADE"),this.checkMingClass&&(this.columnsModel.splice(1,0,{id:"className",title:"班级",className:"text-left",hidden:!1}),i+=",CLASS"),this.checkMingZhi&&(this.columnsModel.splice(1,0,{id:"studyYears",title:"学制",className:"text-left",hidden:!1}),i+=",STUDYYEARS"),this.checkMingMajor&&(this.columnsModel.splice(1,0,{id:"major",title:"专业",className:"text-left",hidden:!1}),i+=",MAJOR"),this.checkMingDepartment&&(this.columnsModel.splice(1,0,{id:"department",title:"系别",className:"text-left",hidden:!1}),i+=",DEPARTMENT"),Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.d)("/api/app/quota/getConditionTable?conditions="+i+"&totalNumber="+this.mingTotalNumber+"&rate="+this.mingRate+"&countWay="+this.mingResultCaculate).then(function(t){t.state?(e.rows=[],t.data.forEach(function(t,i){t.id=i,e.rows.push(t)})):"10001"==t.code?e.$toast("条件填写不完整，请重新填写！"):e.$toast(t.message)})},rateNumber:function(t){(t.target.value>100||t.target.value<1)&&(alert("请输入1-100之间的数值"),this.mingRate="")},mingTotalNumberInput:function(t){t.target.value<1&&(alert("总名额需大于0"),this.mingTotalNumber="")},clickC1:function(){this.checkMingLeval=!this.checkMingLeval},clickC2:function(){this.checkMingGrade=!this.checkMingGrade},clickC3:function(){this.checkMingClass=!this.checkMingClass},clickC4:function(){this.checkMingZhi=!this.checkMingZhi},clickC5:function(){this.checkMingMajor=!this.checkMingMajor},clickC6:function(){this.checkMingDepartment=!this.checkMingDepartment},showSetting:function(){var t=this;Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.d)("/api/app/quota/"+this.appId+"/"+this.curNode.id+"/getInitQuota?businessId="+(this.businessId?this.businessId:"")).then(function(e){if(e.state){if(e.data.alreadySet){e.data.appQuotaCollectVO.forEach(function(e,i){e.id=i,"总计"==e.college&&e.finalResult&&(t.totalTrueNumberA=e.finalResult)}),t.rows=e.data.appQuotaCollectVO,t.mingResultCaculate=e.data.countWay,t.mingTotalNumber=e.data.totalNumber,t.mingRate=e.data.rate,t.showTable=e.data.guideShow,e.data.conditions.forEach(function(e){"EDUCATIONLEVEL"==e&&(t.checkMingLeval=!0),"GRADE"==e&&(t.checkMingGrade=!0),"CLASS"==e&&(t.checkMingClass=!0),"STUDYYEARS"==e&&(t.checkMingZhi=!0),"MAJOR"==e&&(t.checkMingMajor=!0),"DEPARTMENT"==e&&(t.checkMingDepartment=!0)}),t.columnsModel=[{id:"college",title:"学院",className:"text-left",hidden:!1},{id:"totalPeople",title:"总人数",className:"text-left",hidden:!1},{id:"rate",title:"比例",className:"text-left",hidden:!1,formatter:function(t,e){return t.rate+"%"}},{id:"id",title:"id",className:"text-left",hidden:!0},{id:"countResult",title:"计算结果",className:"text-left",hidden:!1},{id:"finalResult",className:"text-left",title:"最终结果",hidden:!1,edit:{type:"number"}}];t.checkMingLeval&&(t.columnsModel.splice(1,0,{id:"educationLevel",title:"培养层次",className:"text-left",hidden:!1}),",EDUCATIONLEVEL"),t.checkMingGrade&&(t.columnsModel.splice(1,0,{id:"grade",title:"年级",className:"text-left",hidden:!1}),",GRADE"),t.checkMingClass&&(t.columnsModel.splice(1,0,{id:"className",title:"班级",className:"text-left",hidden:!1}),",CLASS"),t.checkMingZhi&&(t.columnsModel.splice(1,0,{id:"studyYears",title:"学制",className:"text-left",hidden:!1}),",STUDYYEARS"),t.checkMingMajor&&(t.columnsModel.splice(1,0,{id:"major",title:"专业",className:"text-left",hidden:!1}),",MAJOR"),t.checkMingDepartment&&(t.columnsModel.splice(1,0,{id:"department",title:"系别",className:"text-left",hidden:!1}),",DEPARTMENT")}else t.rows=[],t.mingResultCaculate="",t.mingTotalNumber="",t.mingRate="",t.showTable=!1,t.checkMingLeval=!1,t.checkMingGrade=!1,t.checkMingClass=!1,t.checkMingZhi=!1,t.checkMingMajor=!1,t.checkMingDepartment=!1;t.settingModelshow=!0}else"10001"==e.code?t.$toast("条件填写不完整，请重新填写！"):t.$toast(e.message)})},_afterSelectNodeType:function(t){},lick:function(t){},_back:function(){this.isChange&&confirm(this.translate.backTip)?this._saveFlow():this.$emit("back")},_setApplyOnce:function(t){this.curNode.attribute||this.$set(this.curNode,"attribute",{}),this.$set(this.curNode.attribute,"applyOnceLimit",t)},_optionsFixed:function(t){var e=[];return t.forEach(function(t){e.push({id:t,name:t})}),e},_saveFlow:function(){this.curFlow.nodes.length<this.$refs.flow.export().length?this.curFlow.nodes.splice(0,0,{id:"start",name:"",category:"start",nodeType:"1"}):this.curFlow.nodes.splice(0,1,{id:"start",name:"start",category:"start",nodeType:"1"});var t={id:this.flowData.id,chart:{nodes:this.$refs.flow.export()},settings:this.curFlow};t.settings.nodes.forEach(function(e){"condition"!==e.category&&(e.links=[],t.chart.nodes.forEach(function(t){e.id===t.id&&t.links.forEach(function(t){e.links.push({nextNodeId:t.id})})}))});var e=!0,i="";t.settings.nodes.forEach(function(t){"2"==t.nodeType&&(t.distributary="",t.operators=[]),"end"!==t.category&&(t.links&&0===t.links.length&&(e=!1,i+=t.name+"下一节点不明哟~\n"),t.links.forEach(function(a){a.nextNodeId||(e=!1,i+=t.name+"下一节点不明哟~\n")}))}),e?(this.$emit("submit",t),this.isChange=!1):this.$toast(i)},_afterSelectedDis:function(t,e){var i=this;this.isChange=!0,this.roleEditing=!1;var a=[];e.operators.forEach(function(t,n){t>0&&i._roleIdIsInDistributary(t,e.distributary)&&a.push(t)}),"byTeacher"!==e.distributary&&(e.operators=a),this.$refs.flow.setLineText(e.id,t.target.selected)},_afterSelectedDisOf:function(t,e){var i=this;this.isChange=!0,this.roleEditing=!1;var a=[];e.roleIds.forEach(function(t,n){t>0&&i._roleIdIsInDistributary(t,e.distributary)&&a.push(t)}),"byTeacher"!==e.distributary&&(e.roleIds=a)},_roleIdIsInDistributary:function(t,e){var i=!1;return this.roleList[e].forEach(function(e){e.id===t&&(i=!0)}),i},_initRoleList:function(t){var e=this;this.roleList[t]||(this.$set(this.roleList,t,[]),"bySchool"===t||"byCollege"===t?Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/approveRoles",type:"get",data:{level:"bySchool"===t?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(i){i.state?e.roleList[t]=i.data.reverse():e.$toast(i.message)}}):"byClass"===t?Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/relClass/classCommittees",type:"get",success:function(i){i.state?(i.data.forEach(function(t){t.name=t.text,t.id=parseInt(t.id)}),e.roleList[t]=i.data.reverse()):e.$toast(i.message)}}):"byBuilding"===t?Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/apartment/roles",type:"get",success:function(i){i.state?(i.data.forEach(function(t){t.name=t.name,t.id=parseInt(t.id)}),e.roleList[t]=i.data.reverse()):e.$toast(i.message)}}):"byParty"===t&&Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/partyBuild/organizations/personInChargeRole",type:"get",success:function(i){i.state?(i.data.forEach(function(t){t.name=t.name,t.id=parseInt(t.id)}),e.roleList[t]=i.data.reverse()):e.$toast(i.message)}}))},_getAuthorityOf:function(t,e){var i="",a=!1;return e.dataAuthorities&&e.dataAuthorities.forEach(function(e){t.name===e.componentName&&(i=e.authority,a=!0)}),a||(e.dataAuthorities.push({componentName:t.name,authority:"optional"}),i="optional"),i},_setCanExport:function(t,e){t.dataAuthorities[t.dataAuthoritiesKey[e.name]].exportable?t.exportNum--:t.exportNum++,t.dataAuthorities[t.dataAuthoritiesKey[e.name]].exportable=!t.dataAuthorities[t.dataAuthoritiesKey[e.name]].exportable},_changeExportAll:function(t){0===t.exportNum?(t.dataAuthorities.forEach(function(t){t.exportable=!0}),t.exportNum=t.dataAuthorities.length):(t.dataAuthorities.forEach(function(t){t.exportable=!1}),t.exportNum=0)},_setAuthorityOf:function(t,e,i){var a=this,n=!1;i.dataAuthorities&&i.dataAuthorities.forEach(function(i){t.name===i.componentName&&(n=!0,a.$set(i,"authority",e))}),n||i.dataAuthorities.push({componentName:t.name,authority:e})},_batchSure:function(){var t=this;this.isChange=!0,this.components.forEach(function(e,i){e.checked&&(t._getAuthorityOf(e,t.curNode)?t._setAuthorityOf(e,t._verifyBatch(e,t.batchCheck),t.curNode):t.curNode.dataAuthorities.push({authority:t._verifyBatch(e,t.batchCheck),componentName:e.name}),e.checked=!1)}),this.batchCheck=""},isShowCollector:function(t,e){var i=e.split("_");return!(!t.collector.flag||i[0]!=t.componentType)},_setCollect:function(t,e,i){t.collectorFlag=e,this.$forceUpdate(),this._refreshCheckCollect(this.components,"collectColumns")},_collectorSure:function(){var t=this;this.isChange=!0,this.collectorCheck&&(this.components.forEach(function(e,i){e.checkedCollect&&(e.collectorFlag="collected"===t.collectorCheck),e.checkedCollect=!1}),this._refreshCheckCollect(this.components,"collectColumns"),this.collectorCheck="")},_verifyBatch:function(t,e){var i=!1;return this.operatorData.forEach(function(a){a.id===e&&a.coms.indexOf(t.componentType)>=0&&(i=!0)}),i?e:""},_permissionClick:function(t){this.isChange=!0,this.curNode.operations[t.id].usable=!this.curNode.operations[t.id].usable},_attrOptionClick:function(t,e,i){this.isChange=!0,this.$set(this.curNode.operations[t.id].properties,e.id,i.id)},_changeCheckState:function(t,e,i){var a=this;this.isChange=!0;var n=!1;0===e&&(n=!0),t.forEach(function(t){t.checked=n}),"operators"===i&&(this.curNode[i]=[],t.forEach(function(t){n&&a.curNode[i].push(parseInt(t.id))}))},_changeCanExport:function(t,e){var i=this;this.curNode[e]=[],t.forEach(function(t){1==t.canExport&&i.curNode[e].push(t.name)})},_changeCheckStateXian:function(t,e){var i=this;this.curNode[e]=[],t.forEach(function(t){1==t.checkedXian&&i.curNode[e].push(t.name)})},_changeCheckStateCollect:function(t,e,i){var a=this;this.isChange=!0;var n=!1;0===e&&(n=!0),t.forEach(function(t){a.isShowCollector(t,t.name)&&(t.checkedCollect=n)})},_refreshCheckCollect:function(t,e){var i=this;this.curNode[e]=[],t.forEach(function(t){1==t.collectorFlag&&i.curNode[e].push(t.name)})},_checkOperators:function(t){this.isChange=!0,this.curNode.operators||this.$set(this.curNode,"roleIds",[]);var e=this.curNode.operators.indexOf(parseInt(t.id));e>=0?this.curNode.operators.splice(e,1):this.curNode.operators.push(parseInt(t.id))},_changeRoleIds:function(t,e){this.isChange=!0,e.roleIds||this.$set(e,"roleIds",[]),e.roleIds.length>0?e.roleIds=[]:t.forEach(function(t){e.roleIds.push(parseInt(t.id))})},_checkCopyRoleIds:function(t,e){this.isChange=!0,e.roleIds||this.$set(e,"roleIds",[]);var i=e.roleIds.indexOf(parseInt(t.id));i>=0?e.roleIds.splice(i,1):e.roleIds.push(parseInt(t.id))},_addNewProxyUser:function(){this.curNode.proxyUsers||this.$set(this.curNode,"proxyUsers",[]),this.curNode.proxyUsers.push({distributary:"bySchool",roleIds:[]})},_addNewCopyUser:function(){this.curNode.copyUsers||this.$set(this.curNode,"copyUsers",[]),this.curNode.copyUsers.push({distributary:"bySchool",roleIds:[]})},_checkComponent:function(t){var e=this;this.isChange=!0,this.curNode.links.forEach(function(i,a){i.condition&&(i.condition.component=t.name,e.$set(i.condition,"data",{}),"other"!==i.condition.operator&&e.$set(i.condition,"operator",""))})},_saveNewRole:function(t,e){var i=this;this.isChange=!0,""===t.replace(/\s/g,"")&&(this.roleAddErrorMsg=this.roleEmptyTip),this.roleList[e.distributary].forEach(function(e){t===e.name&&(i.roleAddErrorMsg&&(i.roleAddErrorMsg+=","),i.roleAddErrorMsg+=i.translate.roleExistTip)}),this.roleAddErrorMsg?setTimeout(function(){i.roleAddErrorMsg=""},1500):Object(__WEBPACK_IMPORTED_MODULE_3__assets_utils_utils_js__.e)({url:"/api/approveRoles",type:"post",data:{name:t,level:"bySchool"===e.distributary?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(a){a.state?(i.roleList[e.distributary].unshift({id:a.data,name:t}),e.operators?e.operators.push(parseInt(a.data)):e.roleIds.push(parseInt(a.data)),i.roleEditing=!1,i.newRoleName=""):i.$toast(a.message)}})},_nodeSelected:function(t){var e=this;this.curFlow.nodes&&(this.components.forEach(function(t){t.checked=!1,t.checkedXian=!1,t.checkedCollect=!1,t.collectorFlag=!1}),this.curFlow.nodes.forEach(function(i){i.name&&i.name==t.target.name&&(e.components=e.components.map(function(t){void 0!=i.defaultVisibleTableColumns&&i.defaultVisibleTableColumns!=[]&&i.defaultVisibleTableColumns.forEach(function(e){t.name==e&&(t.checkedXian=!0)});var e=-1;return i.collectColumns&&i.collectColumns.length>0&&(e=i.collectColumns.findIndex(function(e){return e==t.name}),t.collectorFlag=e>=0),t}))})),this.roleEditing=!1,this.curTargetNode=t.target,this.curFlow.nodes.forEach(function(i,a){if(i.id===t.target.id){var n=0;if(i.dataAuthorities.forEach(function(t){t.exportable&&n++}),i.exportNum=n,e.curNode=i,e._initRoleList(e.curNode.distributary),e.curNode.copyUsers)for(var s in e.curNode.copyUsers);if(e.curNode.proxyUsers)for(var s in e.curNode.proxyUsers);"condition"===e.curNode.category&&e.curNode.links.forEach(function(t,i){t.condition&&"other"===t.condition.operator&&(e.otherLink=t)})}})},_nodeWaited:function(t){var e=this;this.isChange=!0,this.curFlow.nodes.forEach(function(i,a){i.id===t.target.id&&(e.curNode=i,"condition"===e.curNode.category&&e.curNode.links.forEach(function(t,i){t.condition&&"other"===t.condition.operator&&(e.otherLink=t)}))})},_nodeRemoved:function(t){var e=this;this.isChange=!0,this.curFlow.nodes.forEach(function(i,a){i.id===t.target.id&&e.curFlow.nodes.splice(a,1)});var i=[];this.curFlow.nodes.forEach(function(e,a){t.target.parents.indexOf(e.id)>=0&&i.push(e)}),i.forEach(function(i,a){"condition"===i.category&&i.links.forEach(function(i){i.nextNodeId===t.target.id&&e.$set(i,"nextNodeId","")})})},_nodeLinked:function(t){this.isChange=!0,"condition"===this.curNode.category&&(this.curLink.nextNodeId=t.target.id)},_nodeCreated:function(t){var e=this;this.isChange=!0;var i={};if(this.$set(i,"id",t.target.id),this.$set(i,"nodeType","1"),this.$set(i,"name",t.target.name),this.$set(i,"category",t.target.type),this.$set(i,"distributary",""),this.$set(i,"operators",[]),this.$set(i,"operations",JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.permission))),this.$set(i,"dataAuthorities",[]),this.$set(i,"links",[]),i.links.push({nextNodeId:"",condition:{component:"",operator:"other",data:{}}}),this.components.forEach(function(t,e){i.dataAuthorities.push({componentName:t.name,authority:"readonly",exportable:!0})}),i.exportNum=i.dataAuthorities.length,this.curFlow.nodes.push(i),"condition"==this.curNode.category)if(this.curNode.links){var a=this.curNode.links.length;this.curNode.links[a-1].nextNodeId||this.curNode.links[0].nextNodeId||""!=this.nextType||(this.curLink.nextNodeId=t.target.id),this.curNode.links[a-1].nextNodeId&&!this.curNode.links[0].nextNodeId&&"other"==this.nextType&&(this.nextType,this.$nextTick(function(){e.curLink.nextNodeId=t.target.id,e.otherLink.nextNodeId=t.target.id}))}else this.curLink.nextNodeId=t.target.id;else this.curNode=i},_syncToFlow:function(){this.isChange=!0,this.$refs.flow.refreshNodeText(this.curNode.id,this.curNode.name)},_afterSelectedCondition:function(t,e){this.isChange=!0,this.$set(e.condition,"data",{}),e.condition.component&&"address"===e.condition.component.split("_")[0]&&this.$set(e.condition.data,"value",{province:"",city:"",area:""})},_afterSelectedValue:function(t,e){this.isChange=!0;var i=t.target.$attrs["data-addType"];i&&("province"!==i&&e.condition.data.value||this.$set(e.condition.data,"value",{}),"city"===i&&this.$set(e.condition.data.value,"area",""),this.$set(e.condition.data.value,i,t.val))},_daySelectedOfValue:function(t){this.isChange=!0;var e=t.target.$attrs["data-index"];this.curNode.links[e].condition.data||this.$set(this.curNode.links[e].condition,"data",{}),this.$set(this.curNode.links[e].condition.data,"value",t.value)},_addNewCondition:function(t){this.isChange=!0;var e={nextNodeId:"",condition:{component:this.curComponent.name,operator:"other"===t?t:"",data:{}}};"other"===t?(this.nextType="other",this.otherLink=this.curNode.links[0],this._createBranch(this.otherLink)):(this.nextType="",this.curNode.links.push(e))},_createBranch:function(t){this.isChange=!0,t.nextNodeId||(this.curLink=t,this.$refs.flow.toCreateBranch(this.curNode.id))},_removeLink:function(t,e){this.isChange=!0,""===t.nextNodeId?this.curNode.links.splice(e,1):this.$toast(this.translate.removeNodeTip)},_getNodeById:function(t){return this.$refs.flow.getNodeById(t)},_refreshFlow:function(t){this.$refs.flow.refresh()},_showRoleEdit:function(t){this.roleEditing=!(t>=0)||t,this.newRoleName=""},_newRowInputFocus:function(t){this.newRoleName="copy"===t?"(抄送)"+this.appName+this.curNode.name+"管理员":"proxy"===t?"(代理)"+this.appName+this.curNode.name+"管理员":this.appName+this.curNode.name+"管理员"}},watch:{windowObj:{deep:!0,handler:function(t){this.$refs.flow&&this.$refs.flow.refresh()}},"curNode.dataAuthorities":function(t){var e=[];t.forEach(function(t,i){e[t.componentName]=i}),this.curNode.dataAuthoritiesKey=e}},destroyed:function(){}}},"hn+R":function(t,e,i){"use strict";var a=i("lC5x"),n=i.n(a),s=i("HzJ8"),o=i.n(s),r=(i("68u/"),i("YXeK"),i("EA6R")),l=i.n(r),c=i("J0Oq"),u=i.n(c),d=i("3cXf"),p=i.n(d),h=i("t7Ya"),m=i("fSJ2"),_=(Object,Boolean,Boolean,Boolean,Array,{props:{dcw:Object,canManage:Boolean,published:Boolean,selectable:Boolean,value:Array},data:function(){return{stands:JSON.parse(p()(this.value)),initLength:this.dcw.standInfo.stands.length,standFilterStatus:null}},computed:{filteredStands:function(){var t=this;return this.stands.filter(function(e){return"empty"===t.standFilterStatus?!e.occupied&&!e.applied:"occupied"===t.standFilterStatus?e.occupied:"applied"===t.standFilterStatus?e.applied:"selected"!==t.standFilterStatus||e.selected})},occupiedStandCount:function(){var t=0;return this.stands.forEach(function(e){(e.occupied||e.applied)&&++t}),t},selectedStandCount:function(){var t=0;return this.stands.forEach(function(e){e.selected&&++t}),t},maxSortOfStand:function(){var t=-1;return this.stands.forEach(function(e){e.sort>-1&&(t=e.sort)}),t}},watch:{stands:{deep:!0,handler:function(t){this.$emit("input",t),this.$emit("change",t)}}},methods:{addStand:function(){var t=this;return u()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.a.prompt("请输入要新增的展位数量",{inputType:"number"}).then(function(){var e=u()(n.a.mark(function e(i){var a,s,r,l,c,u,d,p,_,f,v,g,y,b=i.value;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:if(a=parseInt(b),t.stands.length,0!==a){e.next=6;break}return e.abrupt("return");case 6:if(!t.published){e.next=46;break}if(!(a<0)){e.next=10;break}return t.$toast("展位已发布，请单个删除"),e.abrupt("return");case 10:for(s=[],r=0;r<a;++r)s.push(new h.c({name:t.initLength+r+1+"",sort:t.maxSortOfStand+1+r}));return t.renameStandIfDuplicated(s),e.next=15,m.a.stand.addStands(t.dcw.id,s);case 15:if(l=e.sent,c=l.state,u=l.message,d=l.data,!c){e.next=43;break}for(d.length,p=!0,_=!1,f=void 0,e.prev=24,v=o()(d);!(p=(g=v.next()).done);p=!0)y=g.value,t.stands.push(h.c.fromApi(y));e.next=32;break;case 28:e.prev=28,e.t0=e.catch(24),_=!0,f=e.t0;case 32:e.prev=32,e.prev=33,!p&&v.return&&v.return();case 35:if(e.prev=35,!_){e.next=38;break}throw f;case 38:return e.finish(35);case 39:return e.finish(32);case 40:t.initLength+=d.length,e.next=44;break;case 43:t.$toast(u);case 44:e.next=47;break;case 46:t.renderStand(a);case 47:case"end":return e.stop()}},e,t,[[24,28,32,40],[33,,35,39]])}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},renderStand:function(t){var e=this.stands.length;if(0!==t){if(t>0){for(var i,a=[],n=0;n<t;++n)a.push(new h.c({id:+new Date+""+n,name:this.initLength+n+1+""}));this.renameStandIfDuplicated(a),(i=this.stands).push.apply(i,a)}else this.stands.splice(e+t,-t);this.initLength+=t}},reserveStand:function(){var t=this;return u()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$emit("to-reserve-dcw");case 1:case"end":return e.stop()}},e,t)}))()},deleteStand:function(t,e){var i=this;return u()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.addedToServer){a.next=5;break}return a.next=3,i.deletePublishedStand(t,e);case 3:a.next=7;break;case 5:return a.next=7,i.deleteNewStand(t,e);case 7:case"end":return a.stop()}},a,i)}))()},deletePublishedStand:function(t,e){var i=this;return u()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:l.a.confirm("是否删除展位"+t.name+"?").then(u()(n.a.mark(function a(){var s,o,r,l,c,u,d;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.stand.isStandDeletable(t.id);case 2:if(s=a.sent,o=s.state,r=s.message,l=s.data,!o){a.next=19;break}if(!l){a.next=16;break}return a.next=10,m.a.stand.deleteStand(t.id);case 10:c=a.sent,u=c.state,d=c.message,u?(i.$toast("删除成功"),i.stands.splice(e,1)):i.$toast(d),a.next=17;break;case 16:i.$toast("该展位已被占用，无法删除，请刷新页面查看最新数据");case 17:a.next=20;break;case 19:i.$toast(r);case 20:case"end":return a.stop()}},a,i)})));case 1:case"end":return a.stop()}},a,i)}))()},deleteNewStand:function(t,e){var i=this;return u()(n.a.mark(function a(){var s,o;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i.stands.splice(e,1),s=i.$createElement,o=i.$message({type:"warning",duration:6e3,message:s("p",null,[s("span",null,"展位 "+t.name+" 已删除"),s("a",{style:"position: absolute; right: 16px; top: 16px",on:{click:function(){i.stands.splice(e,0,t),o.close()}}},"撤销")])});case 3:case"end":return a.stop()}},a,i)}))()},filterStatus:function(t){this.standFilterStatus===t?this.standFilterStatus=null:this.standFilterStatus=t},toEditStand:function(t){this.canManage&&(t.editing=!0)},changeStand:function(t){var e=this;return u()(n.a.mark(function i(){var a,s,o;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.editing=!1,e.renameStandIfDuplicated([t]),!e.published){i.next=9;break}return i.next=5,m.a.stand.update(t);case 5:a=i.sent,s=a.state,o=a.message,s?e.$toast("更新成功"):e.$toast(o);case 9:case"end":return i.stop()}},i,e)}))()},selectStand:function(t){if(this.selectable&&!t.occupied&&!t.applied)if(t.selected)t.selected=!1;else{var e=this.dcw.standInfo.canSelectMultiStands?this.dcw.standInfo.limitStandsSelected:1;this.selectedStandCount===e?1===e?(this.cancelSelectStand(),t.selected=!0):this.$toast("最多可选择"+e+"个展位"):t.selected=!0,this.$emit("select-stands",this.stands.filter(function(t){return t.selected}))}},cancelSelectStand:function(){this.stands.forEach(function(t){t.selected=!1})},renameStandIfDuplicated:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!0,i=!1,a=void 0;try{for(var n,s=o()(t);!(e=(n=s.next()).done);e=!0)for(var r=n.value,l=this.findSameNameStand(r);l;)this.renameStand(r,l),l=this.findSameNameStand(r)}catch(t){i=!0,a=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw a}}},findSameNameStand:function(t){return this.stands.find(function(e){return e.id!==t.id&&e.name===t.name})},renameStand:function(t,e){var i=0;if(this.isEndWithSerialNo(e.name)){var a=this.getSerialNoStrOfName(e.name);a&&(i=parseInt(a.substring(1,a.length-1)),t.name=t.name.substring(0,t.name.length-a.length))}t.name=t.name+"（"+(i+1)+"）"},isEndWithSerialNo:function(t){return/\（\d+\）$/.test(t)},getSerialNoStrOfName:function(t){return t.match(/\（\d+\）$/)[0]}}}),f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"stands-container"},[t.stands.length?i("div",{staticClass:"actions"},[t.selectable||t.canManage&&t.published?i("div",{staticClass:"stand-stat"},[i("span",[t._v(t._s(t.occupiedStandCount+t.selectedStandCount)+" / "+t._s(t.stands.length))])]):t._e(),t._v(" "),i("div",{staticClass:"stand-status-tip"},[i("span",{staticClass:"empty",class:{"is-active":"empty"===t.standFilterStatus},on:{click:function(e){return t.filterStatus("empty")}}},[i("i"),t._v("可用")]),t._v(" "),i("span",{staticClass:"occupied",class:{"is-active":"occupied"===t.standFilterStatus},on:{click:function(e){return t.filterStatus("occupied")}}},[i("i"),t._v("已占用")]),t._v(" "),i("span",{staticClass:"applied",class:{"is-active":"applied"===t.standFilterStatus},on:{click:function(e){return t.filterStatus("applied")}}},[i("i"),t._v("有人申请")]),t._v(" "),t.selectable?i("span",{staticClass:"selected",class:{"is-active":"selected"===t.standFilterStatus},on:{click:function(e){return t.filterStatus("selected")}}},[i("i"),t._v("已选择")]):t._e()]),t._v(" "),t.canManage?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addStand}},[t._v("新增展位")]):t._e(),t._v(" "),t.canManage&&t.published?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.reserveStand}},[t._v("预留展位")]):t._e()],1):t._e(),t._v(" "),i("ul",{staticClass:"stands"},t._l(t.filteredStands,function(e,a){return i("transition",{key:"stand-"+a,attrs:{name:"el-zoom-in-top"}},[i("li",{staticClass:"stand",class:{selected:e.selected,occupied:e.occupied,applied:e.applied},on:{dblclick:function(i){return t.toEditStand(e)},click:function(i){return t.selectStand(e)}}},[e.editing?i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"stand.name"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:e.name},on:{blur:function(i){return t.changeStand(e)},keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.changeStand(e)},input:function(i){i.target.composing||t.$set(e,"name",i.target.value)}}}):i("span",[t._v(t._s(e.name))]),t._v(" "),!t.canManage||e.applied||e.occupied?t._e():i("span",{staticClass:"delete",on:{click:function(i){return t.deleteStand(e,a)}}},[i("i",{staticClass:"el-icon-close"})])])])}),1),t._v(" "),t.canManage&&!t.stands.length?i("div",{staticClass:"empty-stands"},[i("span",[t._v("未设置任何展位 "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.addStand}},[t._v("新增展位")])],1)]):t._e()])},staticRenderFns:[]};var v=i("C7Lr")(_,f,!1,function(t){i("B87C")},"data-v-0aed54ae",null);e.a=v.exports},iAlU:function(t,e,i){"use strict";var a=i("aA9S"),n=i.n(a),s=i("xTvN"),o=i("GwEi"),r=i("Y253"),l=i("zY0d"),c=(i("p+qa"),i("C331")),u=(s.a,o.a,r.a,{props:["loginType"],data:function(){return{placeRule:null,sumarry:"",unitList:[]}},methods:{catchPlaceRules:function(){var t=this;Object(l.a)("PREACH_MEETING").then(function(e){e.length&&(t.placeRule=e[0])})},submit:function(){var t=this,e=this.$refs.baseInfoEdit.vali(),i=this.$refs.unitInfoEdit.vali(),a=(this.$refs.positionInfoEdit.tableData,void 0);e&&i&&(this.$refs.baseInfoEdit.toSubmit(),setTimeout(function(){var e=t.$refs.baseInfoEdit.baseInfo,i=t.$refs.unitInfoEdit.unitForm,s=t.$refs.positionInfoEdit.tableData,o=n()({},e,i);s&&(o.recruitmentPositionVOList=s),o.recruitmentBrief=t.sumarry,a="COMPANY"==t.loginType.loginType?"/api/employment/preachMeeting/addPreachMeeting":"/api/employment/manage/preachMeeting/addPreachMeeting",Object(c.e)({url:a,type:"post",data:o,success:function(e){e.state?(t.$message.success("宣讲会添加成功"),t.$emit("backToParent")):(t.$message.error(e.message),t.$emit("backToParent"))}})},200))}},components:{baseInfoEdit:s.a,unitInfoEdit:o.a,positionEdit:r.a},created:function(){this.catchPlaceRules()}}),d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"addTeachin"}},[i("base-info-edit",{ref:"baseInfoEdit",attrs:{placeRule:t.placeRule,loginType:t.loginType}}),t._v(" "),i("unit-info-edit",{ref:"unitInfoEdit",attrs:{loginType:t.loginType}}),t._v(" "),i("position-edit",{ref:"positionInfoEdit",attrs:{unitList:t.unitList}}),t._v(" "),i("div",{staticClass:"sumarry"},[t._m(0),t._v(" "),i("div",{staticClass:"sumarryInput"},[i("el-input",{attrs:{type:"textarea",resize:"none",rows:"8"},model:{value:t.sumarry,callback:function(e){t.sumarry=e},expression:"sumarry"}})],1)]),t._v(" "),i("div",{staticClass:"submitBtn"},["COMPANY"==t.loginType.loginType?i("a",{on:{click:t.submit}},[t._v("提交审核")]):t._e(),t._v(" "),t.loginType.isAdmin?i("a",{on:{click:t.submit}},[t._v("提交")]):t._e()])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title clearfix"},[e("h1",[e("span",[e("em"),this._v(" "),e("i",[this._v("招聘简章")])])])])}]};var p=i("C7Lr")(u,d,!1,function(t){i("eYCz"),i("dCmJ")},"data-v-4a9ce7e2",null);e.a=p.exports},jCtM:function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"e",function(){return r}),i.d(e,"c",function(){return l}),i.d(e,"d",function(){return c}),i.d(e,"f",function(){return u}),i.d(e,"g",function(){return d}),i.d(e,"i",function(){return p}),i.d(e,"a",function(){return h}),i.d(e,"h",function(){return m});var a=i("rVsN"),n=i.n(a),s=i("C331"),o=function(){return new n.a(function(t,e){Object(s.e)({url:"/api/employment/user/getLoginType",type:"get",success:function(e){e.state&&t(e.data)},error:function(t){e(t)}})})},r=function(t){var e=void 0;return e=t?"/api/employment/company/getCompanyById?id="+t:"/api/employment/company/getCompanyById",new n.a(function(t,i){Object(s.e)({url:e,type:"get",success:function(e){e.state&&t(e.data)},error:function(t){i(t)}})})},l=function(t){return new n.a(function(e,i){Object(s.e)({url:"/api/employment/preachMeeting/getPreachMeetingInfo?id="+t,type:"get",success:function(t){t.state&&e(t)},error:function(t){i(t)}})})},c=function(t){return new n.a(function(e,i){Object(s.e)({url:"/api/employment/platform/getPreachMeetingInfo?id="+t,type:"get",success:function(t){t.state&&e(t)},error:function(t){i(t)}})})},u=function(t){return new n.a(function(e,i){Object(s.e)({url:"/api/employment/preachMeeting/recall?id="+t,type:"post",success:function(t){t.state&&e(t)},error:function(t){i(t)}})})},d=function(t,e){return new n.a(function(i,a){Object(s.e)({url:"/api/employment/manage/preachMeeting/setTop?id="+t+"&isTop="+e,type:"post",success:function(t){t.state&&i(t)},error:function(t){a(t)}})})},p=function(t,e){return new n.a(function(i,a){Object(s.e)({url:"/api/employment/manage/preachMeeting/undercarriage?id="+t+"&isUnder="+e,type:"post",success:function(t){t.state&&i(t)},error:function(t){a(t)}})})},h=function(t,e,i){return new n.a(function(a,n){Object(s.e)({url:"/api/employment/manage/preachMeeting/setAssistant",type:"post",data:{id:t,assistantName:e,assistantPhone:i},success:function(t){t.state&&a(t)},error:function(t){n(t)}})})},m=function(t,e){return new n.a(function(i,a){Object(s.e)({url:"/api/employment/manage/preachMeeting/signIn",type:"post",data:{id:t,isSignIn:e},success:function(t){t.state&&i(t)},error:function(t){a(t)}})})}},jlQl:function(t,e){},k9rz:function(t,e){!function(e){"use strict";var i,a=Object.prototype,n=a.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",r=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag",c="object"==typeof t,u=e.regeneratorRuntime;if(u)c&&(t.exports=u);else{(u=e.regeneratorRuntime=c?t.exports:{}).wrap=b;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",_={},f={};f[o]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(O([])));g&&g!==a&&n.call(g,o)&&(f=g);var y=E.prototype=w.prototype=Object.create(f);T.prototype=y.constructor=E,E.constructor=T,E[l]=T.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===T||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(y),t},u.awrap=function(t){return{__await:t}},k(x.prototype),x.prototype[r]=function(){return this},u.AsyncIterator=x,u.async=function(t,e,i,a){var n=new x(b(t,e,i,a));return u.isGeneratorFunction(e)?n:n.next().then(function(t){return t.done?t.value:n.next()})},k(y),y[l]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var a=e.pop();if(a in t)return i.value=a,i.done=!1,i}return i.done=!0,i}},u.values=O,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(D),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=i)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(a,n){return r.type="throw",r.arg=t,e.next=a,n&&(e.method="next",e.arg=i),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],r=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var s=a;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var n=a.arg;D(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:O(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=i),_}}}function b(t,e,i,a){var n=e&&e.prototype instanceof w?e:w,s=Object.create(n.prototype),o=new I(a||[]);return s._invoke=function(t,e,i){var a=d;return function(n,s){if(a===h)throw new Error("Generator is already running");if(a===m){if("throw"===n)throw s;return M()}for(i.method=n,i.arg=s;;){var o=i.delegate;if(o){var r=S(o,i);if(r){if(r===_)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===d)throw a=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=h;var l=C(t,e,i);if("normal"===l.type){if(a=i.done?m:p,l.arg===_)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(a=m,i.method="throw",i.arg=l.arg)}}}(t,i,o),s}function C(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function w(){}function T(){}function E(){}function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function x(t){var e;this._invoke=function(i,a){function s(){return new Promise(function(e,s){!function e(i,a,s,o){var r=C(t[i],t,a);if("throw"!==r.type){var l=r.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,s,o)},function(t){e("throw",t,s,o)}):Promise.resolve(c).then(function(t){l.value=t,s(l)},o)}o(r.arg)}(i,a,e,s)})}return e=e?e.then(s,s):s()}}function S(t,e){var a=t.iterator[e.method];if(a===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=i,S(t,e),"throw"===e.method))return _;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var n=C(a,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,_;var s=n.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=i),e.delegate=null,_):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,_)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,s=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=i,e.done=!0,e};return s.next=s}}return{next:M}}function M(){return{value:i,done:!0}}}(function(){return this}()||Function("return this")())},kaUr:function(t,e,i){"use strict";(function(t){var a=i("rVsN"),n=i.n(a),s=i("a3Yh"),o=i.n(s),r=i("TD+U"),l=i.n(r),c=i("C331"),u=i("b62r");e.a={props:["positionId","recruitFrom"],data:function(){var t;return t={recruitmentDetails:{},onApplyPositionModal:!1,hasResume:!1,resumenName:"",sendLoading:!1,resumeData:{},recruitmentDetailsId:"",recruitmentDetailsType:"",resumenInfoType:"",recruitType:"ONLINE",checkUserInfo:null},o()(t,"hasResume",!1),o()(t,"showOnlineResume",!1),o()(t,"showPreview",!1),t},methods:{blacklistSure:function(){var t=this;if(!this.resumenName)return this.$message.error("请填写简历名称");this.onApplyPositionModal=!1,this.sendLoading=!0;"FILE"==this.recruitType?(this.sendFileLoading=!0,Object(c.e)({url:"/api/employment/resume/sendFileResume",type:"post",data:{positionId:this.positionId,type:"FILE",resumeFile:this.resumenInfo.resumeFile,positionTypeEnum:this.recruitmentDetails.type},success:function(e){e.state?t.$message.success("发送成功"):t.$message.error(e.message),t.$emit("close"),t.sendFileLoading=!1},error:function(e){t.$emit("close"),t.sendFileLoading=!1,t.$message.error("发送失败")}})):this.setOnlineResume("send")},setOnlineResume:function(t){var e=this;if("FILE"!=this.recruitType){var i="/api/employment/resume/"+this.checkUserInfo.id;Object(c.e)({url:i,type:"get",success:function(i){i.state&&(e.resumeData=i.data,"send"==t?(e.showOnlineResume=!0,setTimeout(function(){e.sendOnlineResume()},2e3)):setTimeout(function(){e.showPreview=!0},20))}})}else{/<[^>]+>|&[^>]/g.test(this.resumenInfo.resumeFileName)&&(this.resumenInfo.resumeFileName="<xmp>"+this.resumenInfo.resumeFileName+"</xmp>"),this.$preview({name:this.resumenInfo.resumeFileName,url:"/downloads/storage/files/"+this.resumenInfo.resumeFile,type:"pdf"})}},_getPdf:function(e,i){var a=e||this.title;t("#content").outerWidth(),t("#content").outerHeight();u(document.getElementById("sendFile"),{allowTaint:!0,scale:1.5,width:800,height:t("#sendFile").outerHeight(),dpi:300}).then(function(t){var e=t.width,n=t.height,s=e/592.28*841.89,o=n,r=0,c=592.28/e*n,u=t.toDataURL("image/jpeg",1),d=new l.a("","pt","a4");if(o<s)d.addImage(u,"JPEG",0,0,595.28,c);else for(;o>0;)d.addImage(u,"JPEG",0,r,595.28,c),r-=841.89,(o-=s)>0&&d.addPage();i?i(d.output("datauri")):d.save(a+".pdf")})},dataURLtoFile:function(t,e){for(var i=t.split(","),a=i[0].match(/:(.*?);/)[1],n=atob(i[1]),s=n.length,o=new Uint8Array(s);s--;)o[s]=n.charCodeAt(s);return new File([o],e,{type:a})},sendOnlineResume:function(){var t=this;this._getPdf("我的简历",function(e){var i=t.dataURLtoFile(e,"pdf"),a=new FormData;a.append("file",i),Object(c.e)({url:"/upload/storage/files",type:"post",contentType:!1,processData:!1,data:a,success:function(e){if("88888"==e.code){var i=e.data.hash;Object(c.e)({url:"/api/employment/resume/sendFileResume",data:{positionId:t.positionId,type:t.resumenInfoType?t.resumenInfoType:"ONLINE",resumeFile:i,positionTypeEnum:t.recruitmentDetails.type},type:"post",success:function(e){e.state?t.$message.success("发送成功"):t.$message.error(e.message),t.sendLoading=!1,t.showOnlineResume=!1,t.$emit("close")},error:function(e){t.sendLoading=!1,t.showOnlineResume=!1,t.$emit("close")}})}}})})},preview:function(t){var e=this;if("FILE"!=this.recruitType){var i="/api/employment/resume/"+this.checkUserInfo.id;Object(c.e)({url:i,type:"get",success:function(i){i.state&&(e.resumeData=i.data,"send"==t?e.sendOnlineResume():setTimeout(function(){e.showPreview=!0},20))}})}else{/<[^>]+>|&[^>]/g.test(this.resumenInfo.resumeFileName)&&(this.resumenInfo.resumeFileName="<xmp>"+this.resumenInfo.resumeFileName+"</xmp>"),this.$preview({name:this.resumenInfo.resumeFileName,url:"/downloads/storage/files/"+this.resumenInfo.resumeFile,type:"pdf"})}},getDetails:function(t,e){var i,a=this;this.recruitFrom||(this.recruitFrom="RECRUITMENT"),i="/api/employment/platform/getPositionById?id="+t+"&type="+this.recruitFrom,Object(c.e)({url:i,type:"get",success:function(t){t.state&&(a.recruitmentDetails=t.data,a.getApplayInfo())}})},_checkLogin:function(){var t=this;Object(c.e)({url:"/login/check",type:"get",success:function(e){return new n.a(function(i,a){e.state?(t.checkUserInfo=e.data,t.getDetails(t.positionId,t.recruitFrom)):t.checkUserInfo=null})}})},getApplayInfo:function(){var t=this;if(this.checkUserInfo&&"STUDENT"==this.checkUserInfo.type){this.onApplyPositionModal=!0,this.resumenName=this.recruitmentDetails.schoolName+"_"+this.checkUserInfo.name+"_"+this.recruitmentDetails.positionName;Object(c.e)({url:"/api/employment/resume/getUseResumeType",type:"get",success:function(e){e.state?(t.resumenInfo=e.data,e.data.name||e.data.resumeFile?t.hasResume=!0:t.hasResume=!1,e.data.resumeFileName&&(t.recruitType="FILE"),e.data.name&&(t.recruitType="ONLINE")):t.hasResume=!1}})}else this.$message.error("您还未登录或非学生,暂无权限申请职位"),this.$router.push("/employment/login")}},created:function(){this.checkUserInfo||this._checkLogin()}}}).call(e,i("qqHy"))},kjtu:function(t,e,i){t.exports=i.p+"static/img/picGirl.2d5621c.jpeg"},lC5x:function(t,e,i){t.exports=i("XqSp")},lh7w:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("RL3Q");var a=i("hJ1Y"),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid",attrs:{id:"flowSetPage",tabindex:"1"}},[i("div",{staticClass:"head text-center"},[i("div",{staticClass:"pull-left back-div"},[i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("arrow_back"))},on:{click:t._back}},[t._v("arrow_back")])]),t._v(" "),i("div",{staticClass:"flow-title"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.curFlow.name,expression:"curFlow.name"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:t.translate.flowNameTip,maxlength:"15"},domProps:{value:t.curFlow.name},on:{input:function(e){e.target.composing||t.$set(t.curFlow,"name",e.target.value)}}})]),t._v(" "),i("a",{attrs:{href:"javascript:;"}},[t.curFlow.formSettingId?i("span",[t._v(t._s(t.translate.relevanceTip2)+"："+t._s(t.curFlow.formSettingName))]):i("span",[t._v(t._s(t.translate.relevanceTip))])])]),t._v(" "),i("div",{staticClass:"pull-right opt-div"},[i("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:t._back}},[t._v(t._s(t.translate.cancel))]),t._v(" "),i("button",{staticClass:"btn save",class:{hasChange:t.isChange},on:{click:t._saveFlow}},[t._v(t._s(t.translate.sure))])])]),t._v(" "),i("i",{staticClass:"maticon refresh",domProps:{innerHTML:t._s(t.icons("refresh"))},on:{click:t._refreshFlow}},[t._v("refresh")]),t._v(" "),i("v-flow",{ref:"flow",attrs:{height:"300px",data:t.initDataOfChart},on:{nodeSelected:t._nodeSelected,nodeLinked:t._nodeLinked,nodeCreated:t._nodeCreated,nodeRemoved:t._nodeRemoved,waitToCreate:t._nodeWaited}}),t._v(" "),i("div",{staticClass:"down-part"},[i("div",{staticClass:"info-container"},[i("div",{staticClass:"info-bar"},[i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("info"))}},[t._v("info")])]),t._v(" "),t.curNode.id&&"process"===t.curNode.category&&t.curTargetNode&&"start"!==t.curTargetNode.id?i("GeminiScrollbar",{staticClass:"info-body",attrs:{scrollY:!1,autoshow:!1}},[i("div",{staticClass:"col-container"},[i("div",{staticClass:"col",class:t.isApplyNode?"col-216":"col-144"},[t.isApplyNode?i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.applicant))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.curNode.name,expression:"curNode.name"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curNode.name},on:{input:[function(e){e.target.composing||t.$set(t.curNode,"name",e.target.value)},t._syncToFlow]}}),t._v(" "),"sc"!==t.type?i("label",{staticClass:"apply-once",class:t.curNode.attribute&&t.curNode.attribute.applyOnceLimit?"active":""},[t.curNode.attribute&&t.curNode.attribute.applyOnceLimit?i("i",{staticClass:"maticon active pull-left",domProps:{innerHTML:t._s(t.icons("check_box"))},on:{click:function(e){return t._setApplyOnce(!1)}}},[t._v("check_box")]):i("i",{staticClass:"maticon pull-left",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))},on:{click:function(e){return t._setApplyOnce(!0)}}},[t._v("check_box_outline_blank")]),t._v("\n                "+t._s(t.translate.applyOnceLimit)+"\n              ")]):t._e()]):i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.nodeName))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.curNode.name,expression:"curNode.name"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curNode.name},on:{input:[function(e){e.target.composing||t.$set(t.curNode,"name",e.target.value)},t._syncToFlow]}}),t._v(" "),i("label",{staticStyle:{"margin-top":"15px"}},[t._v("节点类型")]),t._v(" "),i("v-select",{attrs:{options:t.nodeTypeArr,"options-value":"id","options-label":"name"},on:{afterSelected:t._afterSelectNodeType},model:{value:t.curNode.nodeType,callback:function(e){t.$set(t.curNode,"nodeType",e)},expression:"curNode.nodeType"}})],1)]),t._v(" "),t.isApplyNode||"2"==t.curNode.nodeType?t._e():i("div",{staticClass:"col col-230"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.distributarySet))]),t._v(" "),i("v-select",{staticClass:"info-value disabled",attrs:{required:!0,options:t.distributaryData,"options-value":"id","options-label":"name"},on:{afterSelected:function(e){return t._afterSelectedDis(e,t.curNode)}},model:{value:t.curNode.distributary,callback:function(e){t.$set(t.curNode,"distributary",e)},expression:"curNode.distributary"}}),t._v(" "),"byTeacher"===t.curNode.distributary?i("label",{staticClass:"apply-once",class:t.curNode.operators.length>0?"active":""},[t.curNode.operators.length>0?i("i",{staticClass:"maticon active pull-left f20",domProps:{innerHTML:t._s(t.icons("check_box"))},on:{click:function(e){t.curNode.operators=[]}}},[t._v("check_box")]):i("i",{staticClass:"maticon pull-left f20",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))},on:{click:function(e){t.curNode.operators=[0]}}},[t._v("check_box_outline_blank")]),t._v("\n                是否支持兼职辅导员处理\n              ")]):t._e()],1)]),t._v(" "),i("div",{staticClass:"col",class:"2"!=t.curNode.nodeType&&!t.isApplyNode&&["byTeacher","byOrganization","byTutor","byVolunteer"].indexOf(t.curNode.distributary)<0&&""!=t.curNode.distributary?"col-268":"col-0"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.roleSet)),"byClass"===t.curNode.distributary||t.roleEditing||"byBuilding"===t.curNode.distributary||"byParty"===t.curNode.distributary?t._e():i("a",{staticClass:"add-role",attrs:{href:"javascript:;"},on:{click:t._showRoleEdit}},[t._v(t._s(t.translate.createNewRole))])]),t._v(" "),t.roleEditing?i("div",{staticClass:"input-group new-role"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newRoleName,expression:"newRoleName"},{name:"focus",rawName:"v-focus"}],ref:"roleName",staticClass:"form-control",attrs:{type:"text",placeholder:t.translate.newRolePlaceholder},domProps:{value:t.newRoleName},on:{focus:function(e){return t._newRowInputFocus("default")},input:function(e){e.target.composing||(t.newRoleName=e.target.value)}}}),t._v(" "),i("span",{staticClass:"input-group-addon",on:{click:function(e){t.roleEditing=!1,t.roleName=""}}},[t._v(t._s(t.translate.cancel))]),t._v(" "),i("span",{staticClass:"input-group-addon sure",on:{click:function(e){return t._saveNewRole(t.newRoleName,t.curNode)}}},[t._v(t._s(t.translate.sure))])]):t._e(),t._v(" "),!0===t.roleEditing?i("p",{staticClass:"errorMsg",class:t.roleAddErrorMsg?"show":""},[t._v(t._s(t.roleAddErrorMsg))]):t._e(),t._v(" "),i("div",{staticClass:"role-list"},[t.roleList[t.curNode.distributary]&&t.roleList[t.curNode.distributary].length>0?i("div",{staticClass:"role-list-item"},[i("span",{staticClass:"all-check",on:{click:function(e){return t._changeCheckState(t.roleList[t.curNode.distributary],t.roleCheckAllCount,"operators")}}},[0===t.roleCheckAllCount?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.roleCheckAllCount===t.roleList[t.curNode.distributary].length?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])])]):t._e(),t._v(" "),t._l(t.roleList[t.curNode.distributary],function(e,a){return i("div",{key:a,staticClass:"role-list-item hover input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(i){return t._checkOperators(e)}}},[t.curNode.operators.indexOf(parseInt(e.id))>=0?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"form-control",class:t.curNode.operators.indexOf(parseInt(e.id))>=0?"active":"",attrs:{title:e.name}},[t._v(t._s(e.name))])])})],2)])]),t._v(" "),"sc"!==t.type?i("div",{staticClass:"col col-550"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.readWritePermission))]),t._v(" "),i("div",{staticClass:"batch-head",style:t.componentsCheckAllCount>0?"opacity:1;":"opacity:0;z-index:-1;"},[i("span",[t._v(t._s(t.translate.alreadyChecked)+t._s(t.componentsCheckAllCount)+t._s(t.translate.setInto))]),t._v(" "),i("v-select",{attrs:{options:t.operatorData,"options-value":"id","options-label":"name"},model:{value:t.batchCheck,callback:function(e){t.batchCheck=e},expression:"batchCheck"}}),t._v(" "),i("a",{staticClass:"sure",attrs:{href:"javascript:;"},on:{click:t._batchSure}},[t._v(t._s(t.translate.sure))])],1),t._v(" "),i("div",{staticClass:"role-list",staticStyle:{position:"absolute"}},[i("div",{staticClass:"role-list-item box_flex box_between"},[i("span",{staticClass:"all-check",staticStyle:{"padding-left":"15px"},on:{click:function(e){return t._changeCheckState(t.components,t.componentsCheckAllCount,"dataAuthorities")}}},[0===t.componentsCheckAllCount?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.componentsCheckAllCount===t.components.length?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])]),t._v(" "),i("div",{staticClass:"input-group half box_flex align_center"},[i("span",{staticClass:"input-group-addon",staticStyle:{width:"17px"},on:{click:function(e){return t._changeExportAll(t.curNode)}}},[0===t.curNode.exportNum?i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.curNode.exportNum===t.curNode.dataAuthorities.length?i("i",{staticClass:"maticon role-icon active light-black-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])]),t._v(" "),i("span",{staticClass:"form-control"},[t._v("全部允许导出")])])]),t._v(" "),t._l(t.components,function(e,a){return e.name.length>21&&e.name.indexOf("table")>-1&&!t.clicktoggle?t._e():i("div",{key:a,staticClass:"role-list-item components-check hover",class:{"margin-left-20px":e.name.indexOf("table")>-1&&e.name.length>21}},[i("div",{staticClass:"col-xs-4"},[i("div",{staticClass:"input-group",class:{"margin-left-n20px":e.name.length<21&&e.name.indexOf("table")>-1}},[e.name.length<21&&e.name.indexOf("table")>-1?i("span",{staticClass:"input-group-addon",on:{click:function(e){return t.clickChange(t.i)}}},[t.clicktoggle?i("i",{staticClass:"maticon   light-black-color",domProps:{innerHTML:t._s(t.icons("keyboard_arrow_down"))}},[t._v("keyboard_arrow_down")]):t._e(),t._v(" "),t.clicktoggle?t._e():i("i",{staticClass:"maticon   light-black-color",domProps:{innerHTML:t._s(t.icons("keyboard_arrow_up"))}},[t._v("keyboard_arrow_up")])]):t._e(),t._v(" "),i("span",{staticClass:"input-group-addon",on:{click:function(i){return t.changeCheck(e)}}},[e.checked?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"form-control",class:e.checked?"active":"",attrs:{title:e.title}},[t._v(t._s(e.title))])])]),t._v(" "),0===t.componentsCheckAllCount?i("div",{staticClass:"col-xs-8"},[t._l(t.operatorData,function(a,n){return a.coms.indexOf(e.componentType)>=0?i("span",{key:n,staticClass:"operator",class:t._getAuthorityOf(e,t.curNode)===a.id?"active":"",on:{click:function(i){return t._setAuthorityOf(e,a.id,t.curNode)}}},[t._v(t._s(a.name))]):i("span",{staticClass:"operator disabled"},[t._v(t._s(a.name))])}),t._v(" "),i("span",{staticClass:"operator",class:t._getExportData(t.curNode,e)?"active":"",on:{click:function(i){return t._setCanExport(t.curNode,e)}}},[t._v("允许导出")])],2):t._e()])})],2)])]):t._e(),t._v(" "),t.isApplyNode?t._e():i("div",{staticClass:"col col-268"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.operatingPermission))]),t._v(" "),i("div",{staticClass:"role-list"},t._l(t.permissionData,function(e,a){return i("div",{key:a,staticClass:"role-list-item"},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(i){return t._permissionClick(e)}}},[t.curNode.operations[e.id].usable?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"form-control",class:t.curNode.operations[e.id].usable?"active":"",attrs:{title:e.title}},[t._v(t._s(e.name))])]),t._v(" "),i("div",{staticClass:"per-attr-div",class:t.curNode.operations[e.id].usable&&e.data?"active":""},t._l(e.data,function(a,n){return i("div",{key:n,staticClass:"per-attr"},[i("label",[t._v(t._s(a.name))]),t._v(" "),i("div",{staticClass:"per-attr-options"},t._l(a.options,function(n,s){return i("div",{key:s,staticClass:"input-group",on:{click:function(i){return t._attrOptionClick(e,a,n)}}},[i("span",{staticClass:"input-group-addon",class:t.curNode.operations[e.id].properties&&t.curNode.operations[e.id].properties[a.id]===n.id?"active":""},[t.curNode.operations[e.id].properties&&t.curNode.operations[e.id].properties[a.id]===n.id?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("radio_button_checked"))}},[t._v("radio_button_checked")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("radio_button_unchecked"))}},[t._v("radio_button_unchecked")])]),t._v(" "),i("span",{staticClass:"form-control",class:t.curNode.operations[e.id].properties&&t.curNode.operations[e.id].properties[a.id]===n.id?"active":""},[t._v(t._s(n.name))])])}),0)])}),0)])}),0)])]),t._v(" "),"sc"===t.type||t.isApplyNode?t._e():i("div",{staticClass:"col col-167",staticStyle:{"overflow-x":"hidden","overflow-y":"auto"}},[i("div",{staticClass:"form-group"},[i("label",[t._v("列表默认显示的控件")]),t._v(" "),i("div",{staticClass:"role-list",staticStyle:{position:"absolute"}},t._l(t.components,function(e,a){return i("div",{key:a,staticClass:"role-list-item components-check hover"},[i("div",{staticClass:"col-xs-5"},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(i){e.checkedXian=!e.checkedXian,t._changeCheckStateXian(t.components,"defaultVisibleTableColumns")}}},[e.checkedXian?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"form-control",class:e.checkedXian?"active":"",attrs:{title:e.title}},[t._v(t._s(e.title))])])])])}),0)])]),t._v(" "),"sc"===t.type||t.isApplyNode?t._e():i("div",{staticClass:"col col-167",staticStyle:{"overflow-x":"hidden","overflow-y":"auto"}},[i("div",{staticClass:"form-group"},[i("label",[t._v("名额设置")]),t._v(" "),i("div",{staticClass:"bool-div",class:t.mingEOn?"active":"",staticStyle:{visibility:"hidden",height:"5px"},on:{click:function(e){t.mingEOn=!t.mingEOn}}},[i("span",[t._v(t._s(t.mingEOn?"开":"关"))])]),t._v(" "),i("button",{staticClass:"btn",staticStyle:{"margin-top":"12px","background-color":"#298df7",color:"#fff"},on:{click:t.showSetting}},[t._v("设置")])])]),t._v(" "),t._l(t.curNode.copyUsers,function(e,a){return t.isApplyNode?t._e():i("div",{key:a,staticClass:"col col-copy-item"},[i("div",{staticClass:"col col-230"},[i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn auto-copy-remove",on:{click:function(e){return t.curNode.copyUsers.splice(a,1)}}},[t._v("移除自动抄送")])]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.distributarySet))]),t._v(" "),i("v-select",{staticClass:"info-value disabled",attrs:{required:!0,options:t.distributaryData,"options-value":"id","options-label":"name"},on:{afterSelected:function(i){return t._afterSelectedDisOf(i,e)}},model:{value:e.distributary,callback:function(i){t.$set(e,"distributary",i)},expression:"copyUser.distributary"}}),t._v(" "),"byTeacher"===e.distributary?i("label",{staticClass:"apply-once",class:e.roleIds.length>0?"active":""},[e.roleIds.length>0?i("i",{staticClass:"maticon active pull-left f20",domProps:{innerHTML:t._s(t.icons("check_box"))},on:{click:function(t){e.roleIds=[]}}},[t._v("check_box")]):i("i",{staticClass:"maticon pull-left f20",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))},on:{click:function(t){e.roleIds=[0]}}},[t._v("check_box_outline_blank")]),t._v("\n                  是否支持兼职辅导员处理\n                ")]):t._e()],1)]),t._v(" "),i("div",{staticClass:"col",class:"2"!=t.curNode.nodeType&&!t.isApplyNode&&["byTeacher","byOrganization","byTutor","byVolunteer"].indexOf(e.distributary)<0&&""!==e.distributary?"col-340":"col-0"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.roleSet)),"byClass"!==e.distributary&&!1===t.roleEditing?i("a",{staticClass:"add-role",attrs:{href:"javascript:;"},on:{click:function(e){return t._showRoleEdit(a)}}},[t._v(t._s(t.translate.createNewRole))]):t._e()]),t._v(" "),t.roleEditing===a?i("div",{staticClass:"input-group new-role"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newRoleName,expression:"newRoleName"},{name:"focus",rawName:"v-focus"}],ref:"roleName",refInFor:!0,staticClass:"form-control",attrs:{type:"text",placeholder:t.translate.newRolePlaceholder},domProps:{value:t.newRoleName},on:{focus:function(e){return t._newRowInputFocus("copy")},input:function(e){e.target.composing||(t.newRoleName=e.target.value)}}}),t._v(" "),i("span",{staticClass:"input-group-addon",on:{click:function(e){t.roleEditing=!1,t.roleName=""}}},[t._v(t._s(t.translate.cancel))]),t._v(" "),i("span",{staticClass:"input-group-addon sure",on:{click:function(i){return t._saveNewRole(t.newRoleName,e)}}},[t._v(t._s(t.translate.sure))])]):t._e(),t._v(" "),t.roleEditing>=0?i("p",{staticClass:"errorMsg",class:t.roleAddErrorMsg?"show":""},[t._v(t._s(t.roleAddErrorMsg))]):t._e(),t._v(" "),i("div",{staticClass:"role-list"},[t.roleList[e.distributary]&&t.roleList[e.distributary].length>0?i("div",{staticClass:"role-list-item"},[i("span",{staticClass:"all-check",on:{click:function(i){return t._changeRoleIds(t.roleList[e.distributary],e)}}},[0===e.roleIds.length?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):e.roleIds.length===t.roleList[e.distributary].length?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])])]):t._e(),t._v(" "),t._l(t.roleList[e.distributary],function(a,n){return i("div",{key:n,staticClass:"role-list-item hover input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(i){return t._checkCopyRoleIds(a,e)}}},[e.roleIds.indexOf(parseInt(a.id))>=0?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"form-control",class:e.roleIds.indexOf(parseInt(a.id))>=0?"active":"",attrs:{title:a.name}},[t._v(t._s(a.name))])])})],2)])])])}),t._v(" "),!t.isApplyNode&&t.curNode.id==t.curTargetNode.id&&t.curTargetNode.children[0]&&-1==t.curTargetNode.children[0].indexOf("end")?i("div",{staticClass:"col col-400"},[i("div",{staticClass:"form-group"},[i("label",[t._v("数据采集")]),t._v(" "),i("span",{staticClass:"data-tips"},[t._v("当且仅当该节点同意后进行数据采集")]),t._v(" "),i("div",{staticClass:"batch-head",style:t.componentsCheckAllCountCollect>0?"opacity:1;":"opacity:0;z-index:-1;"},[i("span",[t._v(t._s(t.translate.alreadyChecked)+t._s(t.componentsCheckAllCountCollect)+t._s(t.translate.setInto))]),t._v(" "),i("v-select",{attrs:{options:t.collectorData,"options-value":"id","options-label":"name"},model:{value:t.collectorCheck,callback:function(e){t.collectorCheck=e},expression:"collectorCheck"}}),t._v(" "),i("a",{staticClass:"sure",attrs:{href:"javascript:;"},on:{click:t._collectorSure}},[t._v(t._s(t.translate.sure))])],1),t._v(" "),i("div",{staticClass:"role-list",staticStyle:{position:"absolute"}},[i("div",{staticClass:"role-list-item box_flex box_between"},[i("span",{staticClass:"all-check",staticStyle:{"padding-left":"15px"},on:{click:function(e){return t._changeCheckStateCollect(t.components,t.componentsCheckAllCountCollect,"collectColumns")}}},[0===t.componentsCheckAllCountCollect?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.componentsCheckAllCountCollect===t.components.length?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])])]),t._v(" "),t._l(t.components,function(e,a){return t.isShowCollector(e,e.name)?i("div",{key:a,staticClass:"role-list-item components-check hover"},[i("div",{staticClass:"col-xs-6"},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(t){e.checkedCollect=!e.checkedCollect}}},[e.checkedCollect?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"form-control",class:e.checkedCollect?"active":"",attrs:{title:e.title}},[t._v(t._s(e.title))])])]),t._v(" "),0===t.componentsCheckAllCountCollect?i("div",{staticClass:"col-xs-6"},t._l(t.collectorData,function(a,n){return i("span",{key:n,staticClass:"operator",class:e.collectorFlag==a.flag?"active":"",on:{click:function(i){return t._setCollect(e,a.flag,t.curNode)}}},[t._v(t._s(a.name))])}),0):t._e()]):t._e()})],2)])]):t._e(),t._v(" "),t.isApplyNode?t._e():i("div",{staticClass:"col col-167"},[i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn auto-copy-add",on:{click:t._addNewCopyUser}},[t._v("添加自动抄送")])])]),t._v(" "),t._l(t.curNode.proxyUsers,function(e,a){return t.isApplyNode&&"sc"!==t.type?i("div",{staticClass:"col col-copy-item"},[i("div",{staticClass:"col col-167"},[i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn auto-copy-remove",on:{click:function(e){return t.curNode.proxyUsers.splice(a,1)}}},[t._v("移除代理")])]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.distributarySet))]),t._v(" "),i("v-select",{staticClass:"info-value disabled",attrs:{required:!0,options:t.distributaryData,required:"true","options-value":"id","options-label":"name"},on:{afterSelected:function(i){return t._afterSelectedDisOf(i,e)}},model:{value:e.distributary,callback:function(i){t.$set(e,"distributary",i)},expression:"proxyUser.distributary"}})],1)]),t._v(" "),i("div",{staticClass:"col",class:["byTeacher","byClass","byTutor","byVolunteer"].indexOf(e.distributary)<0&&""!=e.distributary?"col-340":"col-0"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.roleSet)),"byClass"!==e.distributary&&!1===t.roleEditing?i("a",{staticClass:"add-role",attrs:{href:"javascript:;"},on:{click:function(e){return t._showRoleEdit(a)}}},[t._v(t._s(t.translate.createNewRole))]):t._e()]),t._v(" "),t.roleEditing===a?i("div",{staticClass:"input-group new-role"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newRoleName,expression:"newRoleName"},{name:"focus",rawName:"v-focus"}],ref:"roleName",refInFor:!0,staticClass:"form-control",attrs:{type:"text",placeholder:t.translate.newRolePlaceholder},domProps:{value:t.newRoleName},on:{focus:function(e){return t._newRowInputFocus("proxy")},input:function(e){e.target.composing||(t.newRoleName=e.target.value)}}}),t._v(" "),i("span",{staticClass:"input-group-addon",on:{click:function(e){t.roleEditing=!1,t.roleName=""}}},[t._v(t._s(t.translate.cancel))]),t._v(" "),i("span",{staticClass:"input-group-addon sure",on:{click:function(i){return t._saveNewRole(t.newRoleName,e)}}},[t._v(t._s(t.translate.sure))])]):t._e(),t._v(" "),t.roleEditing>=0?i("p",{staticClass:"errorMsg",class:t.roleAddErrorMsg?"show":""},[t._v(t._s(t.roleAddErrorMsg))]):t._e(),t._v(" "),i("div",{staticClass:"role-list"},[t.roleList[e.distributary]&&t.roleList[e.distributary].length>0?i("div",{staticClass:"role-list-item"},[i("span",{staticClass:"all-check",on:{click:function(i){return t._changeRoleIds(t.roleList[e.distributary],e)}}},[0===e.roleIds.length?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):e.roleIds.length===t.roleList[e.distributary].length?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])])]):t._e(),t._v(" "),t._l(t.roleList[e.distributary],function(a,n){return i("div",{key:n,staticClass:"role-list-item hover input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(i){return t._checkCopyRoleIds(a,e)}}},[e.roleIds.indexOf(parseInt(a.id))>=0?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"form-control",class:e.roleIds.indexOf(parseInt(a.id))>=0?"active":"",attrs:{title:a.name}},[t._v(t._s(a.name))])])})],2)])])]):t._e()}),t._v(" "),t.isApplyNode&&"sc"!==t.type?i("div",{staticClass:"col col-167"},[i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn auto-copy-add",on:{click:t._addNewProxyUser}},[t._v("添加代理")])])]):t._e()],2)]):t.curNode.id&&"condition"===t.curNode.category?i("GeminiScrollbar",{staticClass:"info-body",attrs:{scrollY:!1,autoshow:!1}},[i("div",{staticClass:"col-container"},[i("div",{staticClass:"col col-144"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.conditionName))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.curNode.name,expression:"curNode.name"}],staticClass:"form-control info-value",attrs:{type:"text"},domProps:{value:t.curNode.name},on:{input:[function(e){e.target.composing||t.$set(t.curNode,"name",e.target.value)},t._syncToFlow]}})])]),t._v(" "),i("div",{staticClass:"col col-216"},[i("div",{staticClass:"form-group"},[i("label",[t._v(t._s(t.translate.conditionField))]),t._v(" "),i("div",{staticClass:"role-list"},t._l(t.components,function(e,a){return t.attributesShow[e.componentType]?i("div",{key:a,staticClass:"role-list-item hover input-group"},[i("span",{staticClass:"input-group-addon",on:{click:function(i){return t._checkComponent(e)}}},[t.curComponent.name===e.name?i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("radio_button_checked"))}},[t._v("radio_button_checked")]):i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("radio_button_unchecked"))}},[t._v("radio_button_unchecked")])]),t._v(" "),i("span",{staticClass:"form-control",class:t.curComponent.name===e.name?"active":"",attrs:{title:e.title}},[t._v(t._s(e.title))])]):t._e()}),0)])]),t._v(" "),t.curComponent&&t.curComponent.name?i("div",{staticClass:"col col-550"},[i("ul",{staticClass:"list-group links-list"},[t._l(t.curNode.links,function(e,a){return e.condition&&"other"!==e.condition.operator?i("li",{key:a,staticClass:"list-group-item"},[""===e.nextNodeId?i("i",{staticClass:"maticon remove-link",domProps:{innerHTML:t._s(t.icons("cancel"))},on:{click:function(i){return t._removeLink(e,a)}}},[t._v("cancel")]):t._e(),t._v(" "),i("div",{staticClass:"link-div container-fluid"},[i("div",{staticClass:"link-part col-sm-2 con"},[i("v-select",{staticClass:"info-value disabled",staticStyle:{width:"auto"},attrs:{options:t.attributesShow[t.curComponent.componentType]?t.attributesShow[t.curComponent.componentType].conditions:[],autoSelect:!1,"options-value":"id","options-label":"name","data-index":a,"close-on-select":""},on:{afterSelected:function(i){return t._afterSelectedCondition(i,e)}},model:{value:e.condition.operator,callback:function(i){t.$set(e.condition,"operator",i)},expression:"link.condition.operator"}})],1),t._v(" "),e.condition.operator&&e.condition.data?i("div",{staticClass:"link-part col-sm-5"},["select"===t.curComponent.componentType||"radio"===t.curComponent.componentType?i("v-select",{staticClass:"info-value disabled",attrs:{options:t._optionsFixed(t.curComponent.properties.basic.options),"options-value":"id","options-label":"name","data-index":a,"close-on-select":""},on:{afterSelected:function(i){return t._afterSelectedValue(i,e)}},model:{value:e.condition.data.value,callback:function(i){t.$set(e.condition.data,"value",i)},expression:"link.condition.data.value"}}):"checkbox"===t.curComponent.componentType?i("v-select",{staticClass:"info-value disabled",attrs:{options:t._optionsFixed(t.curComponent.properties.basic.options),"options-value":"id","options-label":"name","data-index":a,multiple:""},on:{afterSelected:function(i){return t._afterSelectedValue(i,e)}},model:{value:e.condition.data.value,callback:function(i){t.$set(e.condition.data,"value",i)},expression:"link.condition.data.value"}}):"datetime"===t.curComponent.componentType?i("v-datepicker",{staticClass:"info-value disabled btn-block",attrs:{showTime:!1,width:"100%","data-index":a},on:{daySelected:t._daySelectedOfValue},model:{value:e.condition.data.value,callback:function(i){t.$set(e.condition.data,"value",i)},expression:"link.condition.data.value"}}):"address"===t.curComponent.componentType&&e.condition.data.value?i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4",staticStyle:{padding:"0"}},[i("v-select",{staticClass:"info-value disabled",attrs:{options:t.provinceList,autoSelect:!1,"options-value":"name","options-label":"name","data-index":a,"data-addType":"province"},on:{afterSelected:function(i){return t._afterSelectedValue(i,e)}},model:{value:e.condition.data.value.province,callback:function(i){t.$set(e.condition.data.value,"province",i)},expression:"link.condition.data.value.province"}})],1),t._v(" "),e.condition.data.value.province?i("div",{staticClass:"col-md-4",staticStyle:{padding:"0"}},[i("v-select",{staticClass:"info-value disabled",attrs:{options:t._getCityList(e.condition.data.value.province),autoSelect:!1,"options-value":"name","options-label":"name","data-index":a,"data-addType":"city"},on:{afterSelected:function(i){return t._afterSelectedValue(i,e)}},model:{value:e.condition.data.value.city,callback:function(i){t.$set(e.condition.data.value,"city",i)},expression:"link.condition.data.value.city"}})],1):t._e(),t._v(" "),e.condition.data.value.city?i("div",{staticClass:"col-md-4",staticStyle:{padding:"0"}},[i("v-select",{staticClass:"info-value disabled",attrs:{options:t._getAreaList(e.condition.data.value.city,e.condition.data.value.province),autoSelect:!1,"options-value":"name","options-label":"name","data-index":a,"data-addType":"area"},on:{afterSelected:function(i){return t._afterSelectedValue(i,e)}},model:{value:e.condition.data.value.area,callback:function(i){t.$set(e.condition.data.value,"area",i)},expression:"link.condition.data.value.area"}})],1):t._e()]):"number"===t.curComponent.componentType?i("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.data.value,expression:"link.condition.data.value"}],staticClass:"form-control info-value",staticStyle:{"margin-left":"10px"},attrs:{type:"number",placeholder:"请输入数字"},domProps:{value:e.condition.data.value},on:{input:function(i){i.target.composing||t.$set(e.condition.data,"value",i.target.value)}}}):"input"===t.curComponent.componentType?i("input",{directives:[{name:"model",rawName:"v-model",value:e.condition.data.value,expression:"link.condition.data.value"}],staticClass:"form-control info-value",attrs:{type:"text",placeholder:"请输入文字"},domProps:{value:e.condition.data.value},on:{input:function(i){i.target.composing||t.$set(e.condition.data,"value",i.target.value)}}}):t._e()],1):t._e(),t._v(" "),i("div",{staticClass:"link-part col-sm-5"},[i("i",{staticClass:"maticon pull-right line-toggle",class:e.nextNodeId?"left-side":"",domProps:{innerHTML:t._s(t.icons("trending_flat"))},on:{click:function(i){return t._createBranch(e)}}},[t._v("trending_flat")]),t._v(" "),e.nextNodeId?i("div",{staticClass:"con-node text-center pull-right"},[t._v("\n                      "+t._s(t._getNodeById(e.nextNodeId).name)+"\n                    ")]):t._e()])])]):t._e()}),t._v(" "),i("div",{staticClass:"create-branch-div"},[i("a",{attrs:{href:"javascript:;"},on:{click:t._addNewCondition}},[t._v(t._s(t.translate.createBranch))])]),t._v(" "),i("li",{staticClass:"list-group-item"},[i("div",{staticClass:"link-div container-fluid"},[i("div",{staticClass:"link-part col-sm-3"},[t._v("\n                    "+t._s(t.translate.other)+"\n                  ")]),t._v(" "),i("div",{staticClass:"link-part col-sm-4"}),t._v(" "),i("div",{staticClass:"link-part col-sm-5"},[i("i",{staticClass:"maticon pull-right line-toggle",class:t.otherLink.nextNodeId?"left-side":"",domProps:{innerHTML:t._s(t.icons("trending_flat"))},on:{click:function(e){return t._addNewCondition("other")}}},[t._v("trending_flat")]),t._v(" "),t.otherLink.nextNodeId?i("div",{staticClass:"con-node text-center pull-right"},[t._v("\n                      "+t._s(t._getNodeById(t.otherLink.nextNodeId).name)+"\n                    ")]):t._e()])])])],2)]):t._e()])]):t._e()],1)]),t._v(" "),i("v-modal",{staticClass:"organization-modal",attrs:{show:t.settingModelshow,effect:"fade",width:"1000"}},[i("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[i("h5",{staticClass:"modal-title"},[t._v("名额管理设置")])]),t._v(" "),i("div",{staticClass:"modal-body",staticStyle:{padding:"3px 15px"},attrs:{slot:"modal-body"},slot:"modal-body"},[i("form",{staticClass:"form-inline",staticStyle:{height:"245px"}},[i("div",{staticClass:"form-group line_group_i"},[i("label",[t._v("总名额")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.mingTotalNumber,expression:"mingTotalNumber"}],staticClass:"form-control",attrs:{type:"number",id:"name",placeholder:"请输入总名额数"},domProps:{value:t.mingTotalNumber},on:{input:[function(e){e.target.composing||(t.mingTotalNumber=e.target.value)},t.mingTotalNumberInput]}})]),t._v(" "),i("div",{staticClass:"form-group line_group_j"},[i("div",{staticClass:"onel",staticStyle:{display:"inline-block"}},[t._v("划分条件：")]),t._v(" "),i("div",{staticClass:"twol",staticStyle:{display:"inline-block"}},[i("div",{staticClass:"checkbox"},[i("label",[i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("radio_button_checked")]),t._v(" "),t._v("\n                学院")])]),t._v(" "),i("div",{staticClass:"checkbox"},[i("label",[t.checkMingLeval?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))},on:{click:t.clickC1}},[t._v("radio_button_checked")]):i("i",{staticClass:"maticon ",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))},on:{click:t.clickC1}},[t._v("radio_button_unchecked")]),t._v("\n                培养层次")])]),t._v(" "),i("div",{staticClass:"checkbox"},[i("label",[t.checkMingZhi?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))},on:{click:t.clickC4}},[t._v("radio_button_checked")]):i("i",{staticClass:"maticon ",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))},on:{click:t.clickC4}},[t._v("radio_button_unchecked")]),t._v("\n                学制")])]),t._v(" "),i("div",{staticClass:"checkbox"},[i("label",[t.checkMingGrade?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))},on:{click:t.clickC2}},[t._v("radio_button_checked")]):i("i",{staticClass:"maticon ",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))},on:{click:t.clickC2}},[t._v("radio_button_unchecked")]),t._v("\n                年级")])]),t._v(" "),i("div",{staticClass:"checkbox"},[i("label",[t.checkMingClass?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))},on:{click:t.clickC3}},[t._v("radio_button_checked")]):i("i",{staticClass:"maticon ",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))},on:{click:t.clickC3}},[t._v("radio_button_unchecked")]),t._v("\n                班级")])]),t._v(" "),i("div",{staticClass:"checkbox"},[i("label",[t.checkMingMajor?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))},on:{click:t.clickC5}},[t._v("radio_button_checked")]):i("i",{staticClass:"maticon ",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))},on:{click:t.clickC5}},[t._v("radio_button_unchecked")]),t._v("\n                专业")])]),t._v(" "),i("div",{staticClass:"checkbox"},[i("label",[t.checkMingDepartment?i("i",{staticClass:"maticon active",domProps:{innerHTML:t._s(t.icons("check_box"))},on:{click:t.clickC6}},[t._v("radio_button_checked")]):i("i",{staticClass:"maticon ",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))},on:{click:t.clickC6}},[t._v("radio_button_unchecked")]),t._v("\n                系别")])])])]),t._v(" "),i("div",{staticClass:"form-group line_group",staticStyle:{"padding-right":"25px"}},[i("label",[t._v("比例：")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.mingRate,expression:"mingRate"}],staticClass:"form-control",staticStyle:{width:"160px"},attrs:{type:"number",id:"name",placeholder:"可填1-100之间的数"},domProps:{value:t.mingRate},on:{input:[function(e){e.target.composing||(t.mingRate=e.target.value)},t.rateNumber]}}),t._v(" "),i("span",[t._v("%")])]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",[t._v("取值结果：")]),t._v(" "),i("v-select",{attrs:{options:t.resultType,"options-value":"value","options-label":"label"},on:{afterSelected:function(t){}},model:{value:t.mingResultCaculate,callback:function(e){t.mingResultCaculate=e},expression:"mingResultCaculate"}})],1),t._v(" "),i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn",staticStyle:{"margin-left":"10px","background-color":"#298df7",color:"#fff"},on:{click:t.sureMingSet}},[t._v("确定")])])]),t._v(" "),i("v-table",{staticClass:"theTable",attrs:{paginationShow:!1,rows:t.rows,pagesize:"10",idField:"id",columns:t.columnsModel,multiple:!1,order:!1,search:null},on:{change:t.changeTable}}),t._v(" "),i("div",{staticClass:"form-group",staticStyle:{padding:"10px 0"}},[i("label",{staticStyle:{display:"inline-block","line-height":"26px",position:"relative",top:"-7px"}},[t._v("是否在指南中显示该表格：")]),t._v(" "),i("div",{staticClass:"bool-div",class:t.showTable?"active":"",staticStyle:{display:"inline-block"},on:{click:function(e){t.showTable=!t.showTable}}},[i("span",[t._v(t._s(t.showTable?"开":"关"))])])])],1),t._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.settingModelshow=!1}}},[t._v(t._s(t.translate.cancel))]),t._v(" "),i("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t.sureForMing}},[t._v("确定")])])])],1)},staticRenderFns:[]};var s=function(t){i("tsmp")},o=i("C7Lr")(a.a,n,!1,s,null,null);e.default=o.exports},lxAt:function(t,e,i){"use strict";(function(t){i("kV13");var a=i("C331");e.a={inject:{windowObj:{default:null}},props:{data:{default:null},isApply:{default:null},formDetail:{default:null},userInfo:{default:null},formType:{default:null}},data:function(){return{curRouter:"jobDetail",computerSkillsData:[],computerSkillsArr:["PPT","Word","Excel","Photoshop","Access","视频制作","网站制作"],writeSkillArr:["新闻写作","调研报告","应用文写作","文字编辑"],computerOther:{checked:!1,title:""},writingAbilityData:[],writingOther:{checked:!1,title:""},addedFileArr:[],deleteFileArr:[],supportPreview:["doc","docx","wps","pdf","ppt","pptx","xls","xlsx","png","jpg","jpeg","bmp","txt"],applyListData:{position:{id:""},applyName:"",contact:"",applyTime:"",workStartTime:"",workEndTime:"",isDifficultyStudent:"",difficultyLevel:"",validWorkTime:"",computerSkill:[],writeSkill:[],remark:"",attachment:[]},isTodifficultStudentData:[],difficultyLevelData:[],fileData:[],formStatus:"",logShow:!1,isShowLog:!1,scrollHeight:null,logData:{},actionTypeData:{AGREE:"同意",DISAGREE:"不同意",REJECT:"驳回",REVOKE:"撤回",RESUBMIT:"重新提交",CANCEL:"取消申请"},isLogRecord:!1,showUnpassOpinionModal:!1,opinion:""}},created:function(){var t=this;if(Object(a.e)({url:"/api/system/dicts",dataType:"json",type:"get",data:{dictType:"困难等级"},success:function(e){e.state?t.difficultyLevelData=e.data:t.$toast(e.message)}}),this.isTodifficultStudentData=[{id:"true",text:"是"},{id:"false",text:"否"}],"application"!==this.formType)this.initData();else{Object(a.e)({url:"/api/pwps/users/info",dataType:"json",type:"get",success:function(e){e.state?(t.applyListData.isDifficultyStudent=e.data.isDifficultyStudent?"true":"false",t.applyListData.difficultyLevel=e.data.isDifficultyStudent?e.data.difficultyLevel:""):t.$toast(e.message)}});var e=new Date,i=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var s=e.getDate();s=s<10?"0"+s:s,this.applyListData.applyTime=i+"-"+n+"-"+s,this.applyListData.position.id=this.formDetail.id,this.applyListData.applyName=this.userInfo.userName}this.computerSkillsData=[{id:"PPT",checked:!1,title:"PPT"},{id:"Word",checked:!1,title:"Word"},{id:"Excel",checked:!1,title:"Excel"},{id:"Photoshop",checked:!1,title:"Photoshop"},{id:"Access",checked:!1,title:"Access"},{id:"视频制作",checked:!1,title:"视频制作"},{id:"网站制作",checked:!1,title:"网站制作"}],this.writingAbilityData=[{id:"新闻写作",checked:!1,title:"新闻写作"},{id:"调研报告",checked:!1,title:"调研报告"},{id:"应用文写作",checked:!1,title:"应用文写作"},{id:"文字编辑",checked:!1,title:"文字编辑"}]},mounted:function(){var e=this;setTimeout(function(){var i=t("#jobApplyForm").height();e.scrollHeight=i-t(".jobApplyForm-header").height()},100)},methods:{initData:function(){var t=this;if(this.formDetail){for(var e in this.formDetail.status&&(this.formStatus=this.formDetail.status),this.isShowLog=this.formDetail.isShowLog,this.applyListData={applyName:this.formDetail.form.name,contact:this.formDetail.form.contact||this.formDetail.contact,applyTime:this.formDetail.form.createTime.split(" ")[0],idCarcNo:this.formDetail.form.idCardNo,workStartTime:this.formDetail.form.workStartTime,workEndTime:this.formDetail.form.workEndTime,isDifficultyStudent:this.formDetail.form.isDifficultyStudent,difficultyLevel:this.formDetail.form.difficultyLevel,validWorkTime:this.formDetail.form.validWorkTime,computerSkill:this.formDetail.form.computerSkill,writeSkill:this.formDetail.form.writeSkill,remark:this.formDetail.form.remark,attachment:this.formDetail.form.attachment||[]},null===this.applyListData.isDifficultyStudent?this.applyListData.isDifficultyStudent="":this.applyListData.isDifficultyStudent=this.applyListData.isDifficultyStudent?"true":"false",this.applyListData.computerSkill)this.applyListData.computerSkill[e]&&this.computerSkillsArr.indexOf(this.applyListData.computerSkill[e])<0&&(this.computerOther={checked:!0,title:this.applyListData.computerSkill[e]});for(var e in this.applyListData.writeSkill)this.applyListData.writeSkill[e]&&this.writeSkillArr.indexOf(this.applyListData.writeSkill[e])<0&&(this.writingOther={checked:!0,title:this.applyListData.writeSkill[e]});if("unitJobView"===this.formType)Object(a.e)({url:"/api/pwps/workflow/runtime/position/"+this.formDetail.formId+"/histories",dataType:"json",type:"get",success:function(e){e.state?e.data?(t.logData=e.data,t.isLogRecord=!0):t.isLogRecord=!1:t.$toast(e.message)}});else{if("schoolJobView"===this.formType)return;Object(a.e)({url:"/api/pwps/workflow/runtime/instances/"+this.formDetail.formId+"/histories",dataType:"json",type:"get",success:function(e){e.state?e.data?(t.logData=e.data,t.isLogRecord=!0):t.isLogRecord=!1:t.$toast(e.message)}})}}},isPhoneNo:function(){if(!/^1[3456789]\d{9}$/.test(this.applyListData.contact))return this.$toast("联系方式格式不对"),void(this.applyListData.contact="")},_back:function(){this.$emit("back")},changeComputer:function(t,e){if(e){t.checked=!t.checked;var i=this.applyListData.computerSkill.indexOf(t.title);i>=0?this.applyListData.computerSkill.splice(i,1):t.title&&this.applyListData.computerSkill.push(t.title)}},changeWriting:function(t,e){if(e){t.checked=!t.checked;var i=this.applyListData.writeSkill.indexOf(t.title);i>=0?this.applyListData.writeSkill.splice(i,1):t.title&&this.applyListData.writeSkill.push(t.title)}},_fileUpload:function(){var t=this;this.$waiting.show({text:"附件上传中..."});var e=new FormData;e.append("file",event.target.files[0]),e.append("fieldName",event.target.files[0].name),Object(a.e)({url:this.uploadFile,type:"post",data:e,contentType:!1,processData:!1,success:function(e){"88888"===e.code?(t.applyListData.attachment.push({hash:e.data.hash,originalName:e.data.originalName,size:e.data.size}),t.addedFileArr.push(e.data.hash),t.$toast("附件上传成功")):t.$toast(e.message)}}).always(function(){t.$waiting.close()})},_downloadFile:function(t){var e=t.target.getAttribute("data-href"),i=document.createElement("iframe");i.src=e,i.style.display="none",document.body.appendChild(i)},_removeFile:function(t){confirm("确定删除该附件吗？")&&(this.deleteFileArr.push(this.applyListData.attachment[t].hash),this.applyListData.attachment.splice(t,1))},_showAttachmentPreview:function(t,e){var i=this.fileUrlPrefix+t.hash;/<[^>]+>|&[^>]/g.test(t.originalName)&&(t.originalName="<xmp>"+t.originalName+"</xmp>"),this.$preview({name:t.originalName,url:i,type:"image"===e?"png":t.originalName.match(/([^.]+)$/)[1]})},sumbit:function(){return""===this.applyListData.isDifficultyStudent?this.$toast("请选择是否困难生"):"true"!==this.applyListData.isDifficultyStudent||""!==this.applyListData.difficultyLevel&&this.applyListData.difficultyLevel?!this.formDetail.isToDifficultyStudent||"false"!==this.applyListData.isDifficultyStudent&&this.applyListData.isDifficultyStudent?(this.applyListData.computerSkill.indexOf(this.computerOther.title)<0&&this.applyListData.computerSkill.push(this.computerOther.title),this.applyListData.writeSkill.indexOf(this.writingOther.title)<0&&this.applyListData.writeSkill.push(this.writingOther.title),void this.$emit("submit",{applicationsData:this.applyListData})):this.$toast("你不是困难生，不能申请该岗位"):this.$toast("请选择困难认定级别")},_pass:function(){this.$emit("pass")},_unpass:function(){this.opinion="",this.showUnpassOpinionModal=!0},submitUnpassOpinion:function(){if(!this.opinion)return this.$toast("请输入不通过的意见");this.$emit("unpass",{opinion:this.opinion})},_revoke:function(){this.$emit("revoke")},_resubimt:function(){return""===this.applyListData.isDifficultyStudent?this.$toast("请选择是否困难生"):"true"!==this.applyListData.isDifficultyStudent||""!==this.applyListData.difficultyLevel&&this.applyListData.difficultyLevel?!this.formDetail.isToDifficultyStudent||"false"!==this.applyListData.isDifficultyStudent&&this.applyListData.isDifficultyStudent?(this.applyListData.computerSkill.indexOf(this.computerOther.title)<0&&this.applyListData.computerSkill.push(this.computerOther.title),this.applyListData.writeSkill.indexOf(this.writingOther.title)<0&&this.applyListData.writeSkill.push(this.writingOther.title),void this.$emit("resubimt",this.applyListData)):this.$toast("你不是困难生，不能申请该岗位"):this.$toast("请选择困难认定级别")},_cancelApplication:function(){this.$emit("cancelApplication")},difficultStudentSelected:function(t){this.applyListData.isDifficultyStudent=t.value,"false"===t.value&&(this.applyListData.difficultyLevel="")},levelSelected:function(t){this.applyListData.difficultyLevel=t.value}},watch:{windowObj:{deep:!0,handler:function(){var e=t("#jobApplyForm").height().toFixed(1);this.scrollHeight=e-t(".jobApplyForm-header").height().toFixed(1)}}}}}).call(e,i("qqHy"))},"m/pr":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHMAAAByCAYAAABgH+5DAAAAAXNSR0IArs4c6QAAEOBJREFUeAHtXQl0VNUZ/t99s2dnsoIEJJFISJQkBIGEFCjWgC0ugEeqtpYesLWxVXs83WyttZtaWxWtldLqsVq1VCvoQSTWgCUgBAgEJBLCEhKYhEz2zP6W3jsYyGT25W1x5pxk3rv3f////f/37n13fUPBmM+6F3n1KQAD4oa1NoRozgnUGJH4qUQRQBrg9RzHcijRMQ3AuuEeyjUayiWieJ6nFj3dn+JSaQyjBeLH8o2AmnFa6+5PHaAoiico3WS6idwwZHQ5aY18oceR+YqAWsM669Yl9RBCERFwl8g4kb5iJfs0UgAJfwQoRZ6RnzqtGbJHHQcYMAIzNYZuRBo7AaXimYqIgLvRSlqtikAbBxkwAoRHRLofAaXimYqIAOERxfuRiuAqKEjCo7s1G1QyLqCICMTJVARNoYGMkxlanBQhFSdTETSFBjJOZmhxUoRUnExF0BQayDiZocVJEVJxMhVBU2gg42SGFidFSMXJVARNoYGMkxlanBQhpVIEyjBAci4bNevgmjLDcMsSlWt4HvCuaeacVcs/m/X46TDUKFJ03JBZeHBtcUrPvhUqZmg58FzWCBssrf/wi0Ak8VeWZKqtfaiwaU2F3nK2gmashRTHXEEBN4GnODXFIRYvdunnQdXFq3StHKXpVrn6l1Gca8YIgaO/eaRpG30+no9lSaZDreP11vPXaBw938XLzi5hvLgGjQWKAyMFbB44HfODTcbSrHVuxfZr/kRI5IHHyxSRBSjNAIc0vYwm9bxNl3POnHfbqe7Ur9iUTjRVsd4yUa5OlO1adkPC0LGNPA+CNtQoXOw5ij7DIn0zp05qGEgr3vXZrA3Nco2LP1yX7np/AlKlFzauLdTYO6/jgXLgMqUXEge5WSienabihqcBM3xjhs0E6aY8M6cyfGBNnbnpUPkbDULaj5Vu2ZXM8vql1brB1h/iVmhhrJyMVg+HVG2MNv2V49f86eV+4zx7tPqEul42ZBYd+n5+yoXtjyHGXiWUs1Hrpehupy7z+aMl61+xpM7GNYa8PrIgkzwbDUPNzwMvbHUaq9DziG7tzVxcc6z0r0dipTMWegRtWIQC8Lq6eWtJI0cpRBKfKI7NN3bWvjv3w7n3kUGKUPwUQ0ZSMmfvWLhSYzP9UujWqkCBVKudnT+urJvzjFwIlYzMa/aunq23tj0hUKBFU0szQyvkQqgkZKb27NEl9zasx12OcbGanhBasWPu70W7g/wYkoTMqw/fV0PxTK4fTIpMVrkG7izbfeP1UoIXncy8lqey1Paee6V0WijbhoHmxzPb/+neXieUjUB6RSczveO1u8dL9eoVWDxbk9f8u4e90kVKEJXMhP79Wq2j/06RfJPEjIoZXpF96qU0KYyLSmbhp498iee5CVI4Kp5NXjulbcNK8exdtiQqmWpLe/Vl0+P3SO24IEntIyqZNGNZMn4pvOwZGSEqaPxuweUUcY5EI3N600NTAVijOG5JbyVx+ITosz6ikZk00FgifYjFQ6B29I5fMtWu/jzxQim9JZqz+1yTJCQy0UomYhzZQjoiN90U67xKbEyikYkXYCmCzMTEZNBooh8yxsuK1OOXTM4lezKzJ14B9/7oUVj97RpAKOr7nBu3ZCKevbQwWWwng9kjs8tzKhfD9370K0gzZsDVxSVw8+3fiup1nniO1v1ywmC2Y5kv4uo8PjGWwGOlKzN7Ity8eg1cedXVHirLKxcBx3Ow+fWXImOFiuwyDxBhnohJpoi2gkchPTMLFi+9BWaVz8cv0PFdpV634MugVqvh7Vc3AsuFV2vyFGKCo4ithGgBxnWO6NXO2FCpVWoovLYMyuZVQf6MYsCv9Rwr4nVeOrcKklPS4J8b14PNZvXK959Ad/nPEyZHNDKBR3hpImeI1g2ECcDvxw16ZxC5hKRkSM/Mhqn5BRf/phWARqcLGwIh/r6f/gYT+ix0tJ0O6Xq8x6U9JMEYColHJkVZMANeZJJuQPbEyZCZMwlS0tIgJdWIv42gNySAzqAHnd4AWo0OaBUNiFZ5lCZCKssywLoYcLkc4HDYweV0QgLuXiRiIv1Vn5HEjzSM7n3oUdi9YzvUvvtvt61AejhadyZQvhB5opFJqzQW1mVzv9d20uSpUF65EDc6ZkBGZk7EQSfVpApXneRPq9eD0C0scnNULK6G4tI5sO2dN6HpwCf4ZmJ98rKkeumUG0uPz/j53gLR9qwIvgj6wdLTk6ozTY+9/vxvbrBahuGrq+50k+gzAgpLHOzvgz07ajGpe6C3p9sD/U9+ux6SU9PAztF1O00ZjzzWmH/SQ0CAE0HJ/MuCpsqZqUMvUDw/4cjBvVA0qzziUiiA7zFVae4yQfvpVugxX8B7fTm4fvmqS/rx02DoxFDCfWs+Lqm9lCjAgWBk/ra8uagqu3czbq2E3+IQwFHpVVKuhu7UFQ/snXlAKCyCPDMnpjhUFVm9L0ZL5NmzJti5az+0tJwBk8kMFqsdGNzgScANo+TkRJiePwUq5pdAySzPDn8kwWo89BnU726EltY2GBwcxrZsoMINrgSDDnJy0mH69KnwpcrZkJubE4l6fA2vLsvof+GqdGflCbPGGaGSgJcJUjJfW3T4likJQ88FtBwk841/vQ+b3tp+qQuSmZEGGRkT8BAbBQM42OfPX7jUkb9hyXy4Z+3lai2Iaq/sFzdugg9qd7vTSc8zJycDJqRdXDFpNvdB14UeNw6St2rFV+D225Z66Qg14axF/8DX68r+Fap8OHKClMwsvfXmcED4km3DpXLuddfCtcXToay0EIzGVA8xJ+6CHD7cAv/dsReajp7wyAv35HBTC5SXzYSFVeXuUq7Tec6a9A8MwoEDzdB4uBkIrmg+mXrX1/D1gpApSMn8+Kv1+xDwk6JxerxeywFlqnqvYrYQ/vkelIzSEh6jGefLKSMPEI6NZxUTuSqvKwUhE7+HYMjLUjzBHQH8+oQBoUIhyDPTzqIDBpqNvJXgx9vXcaPorS0f4oljClavWga3fG2xH8nIk4W2YWfQ/sjRBb5SkJLZbde/F9hs+LldkAvPb3wTOnHL8nynGZ5a/wpsq60PX1GAK97dugMmz14qqA2TTRvz2Iy4JAiZa/5Xspnh0WcjRmLx/dC6u7zUvPn2B15p0SRseqcWfvyduz1UxNIGw6Fj6+pLlUWmg+H5/5mNNfjZafGITBQn5/GgwdhPx7nOsUlRnQtpA0/m2nb1Gn9AYhMVyAAXC1IyiT0yW3CkL/mbHE95jkAHABMoa2J2ulf2xJxMr7RoEoSywVPQ19KfsPbhTwqORYMv2LWCkUkM31tfvOfvp3KXWFn0Nh648T1XFAzh5/m33vRlL8mVNy3xSosmIeY28A+U2jnV9tdOTl7y7V0lddFgC+VaOnfZz5JCEYxU5pA5xfqP1snvT0pwbslPHr4D6wn27kKfpq6efiVez6qC9o4uSEo0wDe/vhxW3BzbXedeNlZHbsPFo0M7uibcsWZnyd/2d6cO+3QqxomCjAD5w/jRst3vaBBX7i9/PKX3ODSP31Q751kxfRK0mh3ryDBL7xmbNl7PBxla8MnosbETlcwum+ELQ+apYUPr2GALfS4qmb8+WrAHrz7tFdopyfXjxt6rp/NCW8YXQ7CiktnWq3ENuTSbYohflqpcHPpUqAnoQA6LSiYBsv9C5muBAI2HPCujujjTLbIzopP5SOPUk1aWfl9kP0U1d9qSFNtxxhDRi04mwbWl/Ypf4KG+cNb6h+iO9GJ4TPpoza4Z+6RAIgmZzx2dfL7bofu9FA4LbfOsJcH9Sw1C2/GlXxIyCZBba8v+ZmVVW32BUmoansfd+Y0d126TCr9kZBKHnzxe8AALSPTOtRDB5gB1vnzyyhohdIeqU1Iya0+lDb/XkXkHy1HnQgUsSzmKsjX1p37n1ZYcSfvQkpJJiHnyUH77VlPWSrxqTZGEkoZcU2/yXTW7ChukvtEEWQMUrlOPN+afpRhq1Q25plfUFOSHez2RZ5sb8Y9DuQAZswCl4LlPvCXQ58dmAa6vGzhzF1B4VzQ9o9SnWCiJPE8NHuhJu+v+TwoFW9cTCo4RGVFnTUaM+vtekNtr+EVRy5N6xES0iJonJHV2ANffA+C0XzSDt/u5P4wLf+FJfq0BEN6dhbJzgUr1nvC+KBz8vwvoA9vOZdSQGzG4tDgSsiJzxOVNixvuzklwPoz3quhH0mTzjcddex3aZ9bUFz9ttuiimnCPtU+SPzN9ObTqo/KX3zidW4WHxf6Nt0oLtmbGl+1AaXiv5Yc7OycsXb69/Cm5EUlwy7Jkjg7oE/NOFJWlmR/WInbB6HQxjx08/fHh3qQnHtxT1Cim3XBtyZ7MEYceLTmTV5rVeVuKil2B97FEuq9uRF3Qb5an2gdZevOhvrR3xNzKHhRYAAHFkDnig1ZFUc/Nb1pwRYK1WofYEjXFzyB7H0fyI/7GfUUXi5rxqNT+4336dx/cV3QwYl0SXag4MsfGaUbKkHZtQdvMKSn2WWnIej9FcUby4gqyl5KiEP5zH2C+8etm8NMXvyP+8z2fVJ+FU/9nwKk50mpJaHr206kn5PgcHOtvoHPFkznaua1V21owd346mKMl3Z0Uy7KPq6d7pir7TBaDBpGEcBBUyUMMPZfhqfl4Z1UhLnRX4dEYXBBDb/yecRne4ineifBCbfxK0TMqxDcnANuQQjPey+cjASnyNYoicwiQdpDRVTuBvx14qhLHyqNr1efUnjJq7NNCiaGDU53EtM/FeuDiW/EQ3lYP4MDLevt4zXGa57YYKO4/RpWzLRR9cpDxCIYcAPnCMEjTunbGUNPD6A46efgzJqAKy3lh39KV2+Hrel9pW7sm+d3YhJ+tBQygh3Dpr8eld4OJ0+BGlvw/XgGRG+QO1rC6x66tZ3j4CQ5ywF3HT7QUzRliNE3BfLCz6gM/O1YWvN+K621cem/EWwxqz7KG39k1tPxGpEY5K1syexjNlDbGsNnFwR8w3uxRmP0e4sDrVjYsou2sym+3wsnR+2/dt6gfy4beV8Wk4ir4G51W7fYuMBT7BSBxhixbsyZOu9DO0n/BsYloHwxu0Zr/WNTw0fWZ5wrVFJdHuiR4Erx1T2/6/nVNlVX4BVrR/JLDsAHBHVm0VRYzJaPvH9mR2cEYbsHzG8/gRmlEG4w8nKPAhevJFsxlP06fFlZpHK3I+9iip+DObJVVkoVb3nAupsiqNdvu0q3Cr0/+I4YWk+ofl0g1JnCmP+ejSE+wAWwc4lQLkxAj6eqC0T7EJGijFUZ6bGK0ixgKPYWvlw2mgL7wYDSz6icDyoicKYvA9SP1JNy/ey4WVau48aOq21ndSnFt+rcmCzL7HOqXg3U7/LsgbQ5+6cSvLGo6pCFEoZFKTuZZVv80drJQaEcF1J9itmpfEFB/yKolJxPPG0a03idkD0UQxKOAwQcgRMAhOZn4ORn9XKQIgQpiQhMkX5Rs6ckUxc0vhhGENGHMGX0xYqJILwmPSM9xslouqMhIygA04RFxKNEhAyxxCFFGgPCIpgGMy02vUcZGcZcTHtGGeyiXmnHGCVUcfZcBE/4Ij+7WbN39qQNqDSvIzzNcNunniIJuPznKSZbQB8Ib4Y8Ey00mXgbF161L6pGihOJdX2QESNEfqXwgfBHeCH8kgGRVqcdn3Yu8+hTeEIe4Ya0NIZpzest4XBCDk/OcttLBom/h1a7Fn885um+yGKgWSgWHA2fCK3GPaGnupYnIsUsoQ6P1ku4HabWSxg55RpKqdXT+/wFtmpDnXCv24AAAAABJRU5ErkJggg=="},m5wb:function(t,e,i){"use strict";var a=i("uezc"),n=i("BvaA");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("fUz/").inherits(s,a),s.prototype.processChunk=function(t){this.streamInfo.crc32=n(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=s},oB0e:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__=__webpack_require__("a3Yh"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__=__webpack_require__("3cXf"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_2_vue__=__webpack_require__("kV13"),__WEBPACK_IMPORTED_MODULE_3_jquery__=__webpack_require__("qqHy"),__WEBPACK_IMPORTED_MODULE_3_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_jquery__),__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__=__webpack_require__("C331"),__WEBPACK_IMPORTED_MODULE_5__components_VFlow_vue__=__webpack_require__("bTp3"),__WEBPACK_IMPORTED_MODULE_6_timers__=__webpack_require__("7Adc"),__WEBPACK_IMPORTED_MODULE_6_timers___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_timers__),_methods;__WEBPACK_IMPORTED_MODULE_2_vue__.default.component("v-flow",__WEBPACK_IMPORTED_MODULE_5__components_VFlow_vue__.a),__webpack_exports__.a={inject:{windowObj:{default:null}},props:{departmentId:{default:"1"},appId:{default:"1"},readonly:{default:!1},businessId:{default:null},appName:{default:null},roleSetting:{default:null},userType:{default:null}},created:function created(){var _this=this,la=localStorage.getItem("lang");Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.g)(la)&&(this.lang=la),this.roleSetting&&(this.isConfig=!0),"4"!==this.userType&&"2"!==this.userType||this.distributaryData.splice(1,2),this.isConfig?(this.$waiting.show(),Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/information/components/"+this.roleSetting.type,type:"get",data:{educationLevel:this.roleSetting.educationLevel},success:function(t){t.state?(t.data.forEach(function(t,e){t.components.forEach(function(e,i){_this.components.push({name:e.name,title:e.title+"("+t.name+")",componentType:e.componentType,checked:!1,checkedXian:!1}),_this.ownerData.dataAuthorities.push({componentName:e.name,authority:"readonly"})})}),_this.copyDataAuthorities=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.ownerData.dataAuthorities)),Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/information/player/"+_this.roleSetting.type,type:"get",data:{educationLevel:_this.roleSetting.educationLevel},success:function(t){t.state?(t.data&&t.data.players.forEach(function(t,e){if("owner"===t.category){_this.ownerData=t;var i=0;(n=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.copyDataAuthorities))).forEach(function(t,e){_this.ownerData.dataAuthorities.forEach(function(e,i){t.componentName===e.componentName&&(t.authority=e.authority,t.exportable=e.exportable)}),t.exportable&&i++}),_this.ownerData.exportNum=i,_this.ownerData.dataAuthorities=n}else{var a={};_this.$set(a,"palyerForm",{}),a.palyerForm=t,a.palyerForm.roleCheckList=a.palyerForm.checkNameAndNoBatch;var n,s=0;(n=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.copyDataAuthorities))).forEach(function(t,e){a.palyerForm.dataAuthorities.forEach(function(e,i){t.componentName===e.componentName&&(t.authority=e.authority,t.exportable=e.exportable)}),t.exportable&&s++}),a.palyerForm.exportNum=s,a.palyerForm.dataAuthorities=n,_this.$set(a,"roleEditing",!1),_this.$set(a,"newRoleName",""),_this.$set(a,"roleAddErrorMsg",""),_this.$set(a,"curComponentsCount",0),_this.$set(a,"curComponentsCountXian",0),_this.$set(a,"curPlayerCount",0),_this.$set(a,"AllComponents",[]),_this.$set(a,"roleSetData",[]),_this.$set(a,"batchCheck",""),_this.$set(a,"playerName",""),_this.$set(a,"searchName",""),a.curPlayerCount=t.operators.length,a.AllComponents=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.components)),_this.palyers.push(a)}}),Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height();_this.ownerContentHeight=t-190-50},300),_this.monitorScroll()):_this.$toast(t.message)}}).always(function(){_this.$waiting.close()})):_this.$toast(t.message)}}).always(function(){_this.$waiting.close()})):(this.businessId?(this.formUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/formSetting",this.playersUrl="/api/app/"+this.appId+"/publishBusiness/"+this.businessId+"/playerSetting"):(this.formUrl="/api/apps/"+this.appId+"/settings/forms",this.playersUrl="/api/apps/"+this.appId+"/settings/players"),Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:this.formUrl,type:"get",success:function success(data){if(data.state){var patch=function patch(s,re){return re=eval("/"+re+"/ig"),s.match(re)?s.match(re).length:0};_this.components=data.data.components;var curAuthority="",newCom=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.components)),initLength=0,m=[],num=0;_this.components.forEach(function(t,e){var i=patch(t.name,"_"),a=patch(t.name,"table");i<2&&a>=1&&(num+=1,m.push(e),num>1&&(initLength+=_this.components[m[num-2]].properties.basic.tableFields.length),t.properties.basic.tableFields.forEach(function(i,a){var n=e+1+initLength;i[t.name]=t.name,t.collector&&t.collector.tableKeys&&(i.collector.tableKeys=t.collector.tableKeys),newCom.splice(n,0,i)}))}),_this.components=newCom,_this.components.forEach(function(t,e){_this.$set(t,"checked",!1),_this.$set(t,"checkedXian",!1),_this.ownerData.dataAuthorities.push({componentName:t.name,authority:"readonly",exportable:!0})}),_this.copyDataAuthorities=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.ownerData.dataAuthorities)),_this.$set(_this.curForm,"formSettingName",data.data.name),_this.$set(_this.curForm,"formSettingId",data.data.id),Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:_this.playersUrl,type:"get",success:function(t){t.state?(t.data&&(_this.playersId=t.data.id,_this.multiForm=!!t.data.multiForm,t.data.players.forEach(function(t,e){if(_this.components.forEach(function(t){t.checkedXian=!1}),t.defaultVisibleTableColumns.forEach(function(t){_this.components=_this.components.map(function(e){return t==e.name&&(e.checkedXian=!0),e})}),"owner"===t.category){_this.ownerData=t;var i=0;(n=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.copyDataAuthorities))).forEach(function(t,e){_this.ownerData.dataAuthorities.forEach(function(e,i){t.componentName===e.componentName&&(t.authority=e.authority,t.exportable=e.exportable)}),t.exportable&&i++}),_this.ownerData.dataAuthorities=n,_this.ownerData.exportNum=i}else{var a={};_this.$set(a,"palyerForm",{}),a.palyerForm=t,a.palyerForm.roleCheckList=a.palyerForm.checkNameAndNoBatch;var n,s=0;(n=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.copyDataAuthorities))).forEach(function(t,e){a.palyerForm.dataAuthorities.forEach(function(e,i){t.componentName===e.componentName&&(t.authority=e.authority,t.exportable=e.exportable)}),t.exportable&&s++}),a.palyerForm.dataAuthorities=n,a.palyerForm.exportNum=s,_this.$set(a,"roleEditing",!1),_this.$set(a,"newRoleName",""),_this.$set(a,"roleAddErrorMsg",""),_this.$set(a,"curComponentsCount",0),_this.$set(a,"curComponentsCountXian",0),_this.$set(a,"curPlayerCount",0),_this.$set(a,"AllComponents",[]),_this.$set(a,"roleSetData",[]),_this.$set(a,"batchCheck",""),_this.$set(a,"playerName",""),_this.$set(a,"searchName",""),_this.$set(a,"roleSetSearchName",""),a.curPlayerCount=t.operators.length,a.AllComponents=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(_this.components)),_this.palyers.push(a),_this._initRoleList(e-1)}}),_this.palyers.map(function(){_this.clicktoggle.push(!0)})),Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);_this.ownerContentHeight=t-190-50},300),_this.monitorScroll()):_this.$toast(t.message)}})}else _this.$toast(data.message)}})),this.operatorData.forEach(function(t,e){t.name=_this.translate.operatorData[t.id]})},data:function(){return{clicktoggleStudent:!0,clicktoggle:[],positionLeft:null,newDistributaryData:[],distributaryData:[{id:"bySchool",name:"全校统一汇总"},{id:"byClass",name:"以班级关系分配"},{id:"byTeacher",name:"以带生关系分配"},{id:"byCollege",name:"以学院关系分配"},{id:"byTutor",name:"以导师分配"},{id:"byVolunteer",name:"以志愿者分配"},{id:"byBuilding",name:"公寓按楼栋分配"},{id:"byParty",name:"以党组织关系分配"}],roleList:[],components:[],operatorData:[{id:"required",name:"必填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"optional",name:"选填",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","map"]},{id:"readonly",name:"只读",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map","nameCard"]},{id:"hide",name:"隐藏",coms:["input","number","select","checkbox","radio","datetime","address","table","attachment","image","signature","splitLine","label","map","nameCard"]}],permission:{reject:{usable:!1,properties:{rejectTo:"lastNode",rejectBackTo:"flowWay"}},revocation:{usable:!1},deliverTo:{usable:!1},sendTo:{usable:!1},batch:{usable:!1},cancelByUser:{usable:!1}},batchCheck:"",roleEditing:!1,curNode:{distributary:"",operators:[],dataAuthorities:[{authority:null}]},curLink:{},otherLink:{nextNodeId:""},curForm:{formSettingId:"",formSettingName:""},isApplyNode:!1,isChange:!1,isSelectBatchSet:!1,palyers:[],ownerData:{id:"owner",name:"",category:"owner",distributary:"",operators:[],dataAuthorities:[],batch:!1,showLogs:!0,isHide:!1},copyDataAuthorities:[],curComponentsCount:{},curComponentsCountXian:{},nameIsNull:!0,roleNameArray:[],nameChangeMsg:"",noRoleSetAfaterHeight:"",joinRoleScrollAreaHeight:"",newAuthorityMaxHeight:"",roleSetContentHeight:"",headerIsFixed:"",batchHeadIsFixed:"",ownerHeaderIsFixed:"",ownerContentHeight:0,scrollIndex:0,formUrl:"",playersUrl:"",playersId:"",configurationArray:["infoConfig"],isConfig:!1,owenrSearchName:"",multiForm:!1,lang:"zh-cn"}},computed:{translate:function(){return Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.g)(this.lang).joinRoleSetManage},componentsCheckAllCount:function(){var t=0;return this.components.forEach(function(e){e.checked&&t++}),t},setColStyle:function(){return this.palyers.length<=1?{"text-align":"center","padding-left":"105px"}:{"text-align":"left","padding-left":"0"}}},watch:{headerIsFixed:{handler:function(){this.headerIsFixed||__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#read-write-content"+this.scrollIndex).css("padding-bottom","0")},deep:!0},batchHeadIsFixed:{handler:function(){this.batchHeadIsFixed?__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#read-write-content"+this.scrollIndex).css("padding-bottom","100px"):__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#read-write-content"+this.scrollIndex).css("padding-bottom","0")},deep:!0},ownerHeaderIsFixed:{handler:function(){this.ownerHeaderIsFixed?this.ownerContentHeight=this.ownerContentHeight-60:this.ownerContentHeight=this.ownerContentHeight+60},deep:!0},windowObj:{deep:!0,handler:function(t){var e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height();this.roleSetContentHeight=e-268,this.ownerContentHeight=e-190-50,this.joinRoleScrollAreaHeight=e-238,this.noRoleSetAfaterHeight=e-190,this.newAuthorityMaxHeight=e-83}}},mounted:function(){var t=this;Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);t.isConfig?t.newAuthorityMaxHeight=e-263:t.newAuthorityMaxHeight=e-228},300),__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#joinRolePage").keydown(function(e){return 1!=e.ctrlKey||83!=e.keyCode||(t._saveJoinSet(),t.$emit("back"),e.preventDefault(),!1)})},methods:(_methods={clickChangeStudent:function(){this.clicktoggleStudent=!this.clicktoggleStudent},clickChange:function(t){__WEBPACK_IMPORTED_MODULE_2_vue__.default.set(this.clicktoggle,t,!this.clicktoggle[t])},_setCanExport:function(t,e){t.dataAuthorities[e].exportable?t.exportNum--:t.exportNum++,t.dataAuthorities[e].exportable=!t.dataAuthorities[e].exportable},_changeExportAll:function(t){0===t.exportNum?(t.dataAuthorities.forEach(function(t){t.exportable=!0}),t.exportNum=t.dataAuthorities.length):(t.dataAuthorities.forEach(function(t){t.exportable=!1}),t.exportNum=0)},getContentHeight:function(t){return this.isConfig?this.newAuthorityMaxHeight+"px":"byTeacher"!==this.palyers[t].palyerForm.distributary&&""!=this.palyers[t].palyerForm.distributary&&"byTutor"!=this.palyers[t].palyerForm.distributary&&"byVolunteer"!=this.palyers[t].palyerForm.distributary?"":this.newAuthorityMaxHeight+"px"},monitorScroll:function(){var t=this,e=!1,i=!1,a=!1;this.isConfig||Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".join-role-scroll-area").scroll(function(){var a=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).attr("data-id");t.scrollIndex=a;var n=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children().find(".participant-read-write-content").position().top,s=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);n<=50?(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children().find(".participant-read-write-header").css("display","none"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-header").css("display","block"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#joinRoleScrollArea"+a).css("height",s-288),t.headerIsFixed=!0,e=!0):(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children().find(".participant-read-write-header").css("display","block"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-header").css("display","none"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#joinRoleScrollArea"+a).css("height",s-238),e&&(t.headerIsFixed=!1)),n<=-488?(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children(".participant-read-write-content").find(".batch-head").css("display","none"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-batch-head").css("display","block"),t.palyers[a].curComponentsCount>0&&(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-header").children(".participant-read-write-header").css("box-shadow","none"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-batch-head").children(".batch-head").css("box-shadow","0 0 0 0 rgba(0,0,0,0.12), 0 4px 4px 0 rgba(0,0,0,0.12)"),t.batchHeadIsFixed=!0,i=!0)):(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children(".participant-read-write-content").find(".batch-head").css("display","block"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-batch-head").css("display","none"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-header").children(".participant-read-write-header").css("box-shadow"," 0 0 0 0 rgba(0,0,0,0.12), 0 4px 4px 0 rgba(0,0,0,0.12)"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".fiexd-batch-head").children(".batch-head").css("box-shadow","none"),i&&(t.batchHeadIsFixed=!1))}),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".owner-read-write-content").scroll(function(){var e=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children(".role-list").position().top;t.componentsCheckAllCount>0&&(e<=-4?(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children(".batch-head").css("display","none"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".owner-batch-head").css("display","block"),t.ownerHeaderIsFixed=!0,a=!0):(__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).children(".batch-head").css("display","block"),__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this).siblings(".owner-batch-head").css("display","none"),a&&(t.ownerHeaderIsFixed=!1)))})},300)},_allowWriteMultipleForm:function(){this.multiForm=!this.multiForm},_back:function(){if(this.isChange&&confirm(this.translate.backTip)&&this._saveJoinSet(),!this.nameIsNull)return!1;this.$emit("back")},_saveJoinSet:function(){var t=this,e=[];e.push(this.ownerData),this.palyers.forEach(function(t,i){e.push(t.palyerForm)}),e.forEach(function(e,i){e.batch?e.checkNameAndNoBatch=e.roleCheckList:e.checkNameAndNoBatch=null,"owner"===e.category?e.name?t.nameIsNull=!0:(t.$toast("表单所属人名称不能为空"),t.nameIsNull=!1):e.name?t.nameIsNull=!0:(t.$toast("参与者名称不能为空"),t.nameIsNull=!1)});var i=[];if(this.components.forEach(function(t,e){t.name.indexOf("table")>-1&&t.name.length<21&&t.collector&&t.collector.tableKeys&&t.collector.tableKeys.length>0&&t.collector.tableKeys.forEach(function(t){i.push(t)})}),i.forEach(function(t){e=e.map(function(e){return e.dataAuthorities=e.dataAuthorities.map(function(e){return t==e.componentName&&(e.authority="required"),e}),e})}),!this.nameIsNull)return!1;this.isConfig?this.$emit("submit",{players:e,educationLevel:this.roleSetting.educationLevel,type:this.roleSetting.type}):this.businessId?this.$emit("submit",{id:this.playersId,multiForm:this.multiForm,players:e}):this.$emit("submit",{multiForm:this.multiForm,players:e})},_addRole:function(){this.isChange=!0;(new Date).getTime();var t={};this.$set(t,"palyerForm",{}),this.$set(t,"roleEditing",!1),this.$set(t,"newRoleName",""),this.$set(t,"roleAddErrorMsg",""),this.$set(t,"curComponentsCount",0),this.$set(t,"curComponentsCountXian",0),this.$set(t,"AllComponents",[]),this.$set(t,"roleSetData",[]),this.$set(t,"batchCheck",""),this.$set(t,"curPlayerCount",0),this.$set(t,"playerName",""),this.$set(t,"searchName",""),this.$set(t,"roleSetSearchName",""),this.$set(t.palyerForm,"id",""),this.$set(t.palyerForm,"name",""),this.$set(t.palyerForm,"category","participant"),this.$set(t.palyerForm,"distributary",""),this.$set(t.palyerForm,"operators",[]),this.$set(t.palyerForm,"dataAuthorities",[]),this.$set(t.palyerForm,"batch",!1),this.$set(t.palyerForm,"showLogs",!0),t.palyerForm.id="player_"+(new Date).getTime();this.components.forEach(function(e,i){t.palyerForm.dataAuthorities.push({componentName:e.name,authority:"readonly",exportable:!0})}),t.palyerForm.exportNum=t.palyerForm.dataAuthorities.length,t.AllComponents=JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(this.components)),this.palyers.push(t)},_deletePlayers:function(t){this.palyers.splice(t,1)},_getAuthorityOf:function(t,e){var i="";return e.dataAuthorities&&e.dataAuthorities.forEach(function(e){t.name===e.componentName&&(i=e.authority)}),i},_setAuthorityOf:function(t,e,i){var a=this;if("optional"==e&&t.collector&&t.collector.tableKeys&&t.collector.tableKeys.indexOf(t.name)>-1)this.$toast("索引字段不可设置选填！");else{var n=!1;i.dataAuthorities&&i.dataAuthorities.forEach(function(i){t.name===i.componentName&&(n=!0,a.$set(i,"authority",e))}),n||i.dataAuthorities.push({componentName:t.name,authority:e})}},_batchSure:function(t,e){var i=this;this.isChange=!0,"participant"===t?(this.palyers[e].AllComponents.forEach(function(t,a){t.checked&&(i._getAuthorityOf(t,i.palyers[e].palyerForm)?i._setAuthorityOf(t,i._verifyBatch(t,i.palyers[e].batchCheck),i.palyers[e].palyerForm):i.palyers[e].palyerForm.dataAuthorities.push({authority:i._verifyBatch(t,i.palyers[e].batchCheck),componentName:t.name}),t.checked=!1)}),this.palyers[e].batchCheck="",this._componentsCheckAllCount(e)):(this.components.forEach(function(t,e){t.checked&&(i._getAuthorityOf(t,i.ownerData)?i._setAuthorityOf(t,i._verifyBatch(t,i.batchCheck),i.ownerData):i.ownerData.dataAuthorities.push({authority:i._verifyBatch(t,i.batchCheck),componentName:t.name}),t.checked=!1)}),this.batchCheck="")},_verifyBatch:function(t,e){var i=!1;return this.operatorData.forEach(function(a){a.id===e&&a.coms.indexOf(t.componentType)>=0&&(i=!0)}),i?e:""},_afterSelectedDis:function(t){var e=parseInt(t.target.$attrs["data-index"]);this.isChange=!0,this.palyers[e].roleEditing=!1,this.palyers[e].palyerForm.operators=[],this.palyers[e].curPlayerCount=0,this.isConfig||this._initRoleList(e)},_initRoleList:function(t){var e=this;"bySchool"===this.palyers[t].palyerForm.distributary||"byCollege"===this.palyers[t].palyerForm.distributary?Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/approveRoles",type:"get",data:{level:"bySchool"===this.palyers[t].palyerForm.distributary?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(i){if(i.state){e.palyers[t].roleSetData=i.data.reverse();var a=null;a&&clearTimeout(a),a=Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);e.roleSetContentHeight=t-268,e.joinRoleScrollAreaHeight=t-238,e.noRoleSetAfaterHeight=t-170,e.newAuthorityMaxHeight=t-83},300)}else e.$toast(i.message)}}):"byClass"===this.palyers[t].palyerForm.distributary?Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/relClass/classCommittees",type:"get",success:function(i){if(i.state){i.data.forEach(function(t){t.name=t.text}),e.palyers[t].roleSetData=i.data.reverse();var a=null;a&&clearTimeout(a),a=Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);e.roleSetContentHeight=t-268,e.joinRoleScrollAreaHeight=t-238,e.noRoleSetAfaterHeight=t-170,e.newAuthorityMaxHeight=t-83},300)}else e.$toast(i.message)}}):"byBuilding"===this.palyers[t].palyerForm.distributary?Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/apartment/roles",type:"get",success:function(i){if(i.state){i.data.forEach(function(t){t.name=t.name}),e.palyers[t].roleSetData=i.data.reverse();var a=null;a&&clearTimeout(a),a=Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);e.roleSetContentHeight=t-268,e.joinRoleScrollAreaHeight=t-238,e.noRoleSetAfaterHeight=t-170,e.newAuthorityMaxHeight=t-83},300)}else e.$toast(i.message)}}):"byParty"===this.palyers[t].palyerForm.distributary&&Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/partyBuild/organizations/personInChargeRole",type:"get",success:function(i){if(i.state){i.data.forEach(function(t){t.name=t.name}),e.palyers[t].roleSetData=i.data.reverse();var a=null;a&&clearTimeout(a),a=Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){var t=__WEBPACK_IMPORTED_MODULE_3_jquery___default()(".col").height().toFixed(1);e.roleSetContentHeight=t-268,e.joinRoleScrollAreaHeight=t-238,e.noRoleSetAfaterHeight=t-170,e.newAuthorityMaxHeight=t-83},300)}else e.$toast(i.message)}})},_changeInstructorSet:function(t){this.isChange=!0,this.palyers[t].palyerForm.operators.length>0?this.palyers[t].palyerForm.operators=[]:this.palyers[t].palyerForm.operators=[0]},_checkOperators:function(t,e){this.isChange=!0;var i=this.palyers[e].palyerForm.operators.indexOf(parseInt(t.id));i>=0?this.palyers[e].palyerForm.operators.splice(i,1):this.palyers[e].palyerForm.operators.push(parseInt(t.id)),this._roleCheckAllCount(e)},_changeCheckState:function(t,e,i,a){var n=this;this.isChange=!0;var s=!1;0===e&&(s=!0),this.isConfig?("dataAuthorities"===i&&t.forEach(function(t){t.title.indexOf(n.palyers[a].searchName)>=0&&(t.checked=s)}),"owner"===i&&t.forEach(function(t){t.title.indexOf(n.owenrSearchName)>=0&&(t.checked=s)})):"operators"===i?t.forEach(function(t){t.name.indexOf(n.palyers[a].roleSetSearchName)>=0&&(t.checked=s)}):t.forEach(function(t){t.checked=s}),"operators"===i?(this.palyers[a].palyerForm[i]=[],t.forEach(function(t){t.checked&&n.palyers[a].palyerForm[i].push(parseInt(t.id))}),this._roleCheckAllCount(a)):"dataAuthorities"===i&&this._componentsCheckAllCount(a)},_changeCheckStateXian:function(t,e,i,a,n){var s=this;this.palyers[a].palyerForm[i]=[],t.forEach(function(t){1==t.checkedXian&&s.palyers[a].palyerForm[i].push(t.name)})},_afterSelectedOperator:function(t){var e=parseInt(t.target.$attrs["data-index"]);this.isChange=!0,this.palyers[e].batchCheck=t.val,this._componentsCheckAllCount(e)},_afterSelectedOwner:function(t){this.isChange=!0,this.batchCheck=t.val},_creatNewRole:function(t){this.palyers[t].roleEditing=!0,__WEBPACK_IMPORTED_MODULE_3_jquery___default()("#roleContent"+t).animate({scrollTop:"0px"},300)},_saveNewRole:function(t,e){var i=this;this.isChange=!0;__WEBPACK_IMPORTED_MODULE_3_jquery___default()(this);if(!t)return this.palyers[e].roleAddErrorMsg="角色名不能为空",Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){i.palyers[e].roleAddErrorMsg=""},1500),!1;""===t.replace(/\s/g,"")&&(this.palyers[e].roleAddErrorMsg=this.roleEmptyTip),this.palyers[e].roleSetData.forEach(function(a){t===a.name&&(i.palyers[e].roleAddErrorMsg&&(i.palyers[e].roleAddErrorMsg+=","),i.palyers[e].roleAddErrorMsg+=i.translate.roleExistTip)}),this.palyers[e].roleAddErrorMsg?Object(__WEBPACK_IMPORTED_MODULE_6_timers__.setTimeout)(function(){i.palyers[e].roleAddErrorMsg=""},1500):Object(__WEBPACK_IMPORTED_MODULE_4__assets_utils_utils_js__.e)({url:"/api/approveRoles",type:"post",data:{name:t,level:"bySchool"===this.palyers[e].palyerForm.distributary?"SCHOOL":"COLLEGE",departmentId:this.departmentId},success:function(a){a.state?(i.palyers[e].roleSetData.unshift({id:a.data,name:t}),i.palyers[e].palyerForm.operators.push(parseInt(a.data)),i.palyers[e].roleEditing=!1):i.$toast(a.message)}})},_changeBatchSet:function(t){this.palyers[t].palyerForm.batch?this.palyers[t].palyerForm.batch=!1:(this.palyers[t].palyerForm.batch=!0,this.palyers[t].palyerForm.roleCheckList||(this.palyers[t].palyerForm.roleCheckList=0))},_roleCheckAllCount:function(t){var e=this;return this.palyers[t].curPlayerCount=0,this.palyers[t].palyerForm&&this.palyers[t].palyerForm.operators&&this.palyers[t].roleSetData.forEach(function(i){e.palyers[t].palyerForm.operators.indexOf(parseInt(i.id))>=0&&e.palyers[t].curPlayerCount++}),this.palyers[t].curPlayerCount},_componentsCheckAllCount:function(t){var e=this;return this.palyers[t].curComponentsCount=0,this.palyers[t].AllComponents.forEach(function(i){i.checked&&e.palyers[t].curComponentsCount++}),this.palyers[t].curComponentsCount},_componentsCheckAllCountXian:function(t){var e=this;return this.palyers[t].curComponentsCountXian=0,this.palyers[t].AllComponents.forEach(function(i){i.checkedXian&&e.palyers[t].curComponentsCountXian++}),this.palyers[t].curComponentsCountXian}},__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_methods,"_componentsCheckAllCountXian",function(t){var e=this;return this.palyers[t].curComponentsCountXian=0,this.palyers[t].AllComponents.forEach(function(i){i.checkedXian&&e.palyers[t].curComponentsCountXian++}),this.palyers[t].curComponentsCount}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_methods,"_changeComSelectXian",function(t,e){t.checkedXian=!t.checkedXian,this._componentsCheckAllCountXian(e)}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_methods,"_changeComSelect",function(t,e){t.name.indexOf("table")>-1&&t.name.length<21&&(this.palyers[e].AllComponents=this.palyers[e].AllComponents.map(function(e){return e.name.length>21&&e[t.name]&&(e.checked=!t.checked),e})),t.name.indexOf("table")>-1&&t.name.length>21&&(this.palyers[e].AllComponents=this.palyers[e].AllComponents.map(function(e){return e.name.length<21&&e.name==t[e.name]&&(e.checked=!1),e})),t.checked=!t.checked,this._componentsCheckAllCount(e)}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_methods,"_changeComSelectStudent",function(t){t.name.indexOf("table")>-1&&t.name.length<21&&(this.components=this.components.map(function(e){return e.name.length>21&&e[t.name]&&(e.checked=!t.checked),e})),t.name.indexOf("table")>-1&&t.name.length>21&&(this.components=this.components.map(function(e){return e.name.length<21&&e.name==t[e.name]&&(e.checked=!1),e})),t.checked=!t.checked}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_methods,"_changeNameInput",function(){this.isChange=!0}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_methods,"_newRowInputFocus",function(t){this.palyers[t].newRoleName=this.appName+this.palyers[t].palyerForm.name+"管理员"}),_methods),destroyed:function(){__WEBPACK_IMPORTED_MODULE_3_jquery___default()(window).off("keydown")}}},oIon:function(t,e){},oUxH:function(t,e,i){"use strict";i("/sSi");var a=i("oB0e"),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid",attrs:{id:"joinRolePage",tabindex:"1"}},[i("div",{staticClass:"head text-center"},[i("div",{staticClass:"pull-left back-div"},[i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("arrow_back"))},on:{click:t._back}},[t._v("arrow_back")])]),t._v(" "),i("div",{staticClass:"flow-title"},[t._m(0),t._v(" "),i("a",{attrs:{href:"javascript:;"}},[t.curForm.formSettingId?i("span",[t._v("关联表单："+t._s(t.curForm.formSettingName))]):i("span",[t._v(t._s(t.translate.relevanceTip))])])]),t._v(" "),i("div",{staticClass:"pull-right opt-div"},[i("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:t._back}},[t._v("取消")]),t._v(" "),i("button",{staticClass:"btn save",on:{click:t._saveJoinSet}},[t._v("保存")])])]),t._v(" "),i("div",{staticClass:"join-set-content"},[i("GeminiScrollbar",{staticClass:"info-container",style:t.setColStyle,attrs:{scrollY:!1,autoshow:!0}},[i("div",{staticClass:"col first-col"},[i("div",{staticClass:"owner-header"},[i("div",{staticClass:"form-group clear-bord-bottom"},[i("i",{staticClass:"maticon pull-left app-icon white-color",domProps:{innerHTML:t._s(t.icons("label"))}},[t._v("label")]),t._v(" "),i("div",{staticClass:"form-group-input pull-left"},[i("label",{staticClass:"name-label light-white-color"},[t._v("表单所属人名称")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.ownerData.name,expression:"ownerData.name"}],staticClass:"form-control name-input white-color border-bottom-white",attrs:{type:"text",disabled:t.isConfig,maxlength:"25"},domProps:{value:t.ownerData.name},on:{change:t._changeNameInput,input:function(e){e.target.composing||t.$set(t.ownerData,"name",e.target.value)}}}),t._v(" "),t.nameChangeMsg?i("p",{staticClass:"name-error-tip text-center"},[t._v(t._s(t.nameChangeMsg))]):t._e()])]),t._v(" "),t.isConfig?t._e():i("div",{staticClass:"input-group allow-write-multiple-form"},[i("span",{on:{click:t._allowWriteMultipleForm}},[t.multiForm?i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"role-name white-color"},[t._v("允许填写多个表单")])])]),t._v(" "),i("div",{staticClass:"form-group clear-bord-bottom"},[i("div",{staticClass:"owner-read-write-header",style:{height:t.isConfig?"85px":"50px"}},[i("i",{staticClass:"maticon app-icon white-color",domProps:{innerHTML:t._s(t.icons("visibility"))}},[t._v("visibility")]),t._v(" "),i("label",{staticClass:"read-write-label light-white-color"},[t._v("读写权限")]),t._v(" "),t.isConfig?i("div",{staticClass:"form-group-input pull-right",staticStyle:{"margin-right":"16px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.owenrSearchName,expression:"owenrSearchName"}],staticClass:"form-control search-input white-color border-bottom-white",attrs:{type:"text",placeholder:"请输入需要设置权限的字段名称"},domProps:{value:t.owenrSearchName},on:{input:function(e){e.target.composing||(t.owenrSearchName=e.target.value)}}})]):t._e()]),t._v(" "),t.componentsCheckAllCount>0?i("div",{staticClass:"batch-head owner-batch-head"},[i("span",{staticClass:"batch-tip light-white-color"},[t._v("已选 "+t._s(t.componentsCheckAllCount)+" 项，设置为")]),t._v(" "),i("v-select",{attrs:{options:t.operatorData,"options-value":"id","options-label":"name"},on:{afterSelected:t._afterSelectedOwner}}),t._v(" "),i("button",{staticClass:"btn pull-right sure clearBtnBorder white-color",on:{click:function(e){return t._batchSure("owner")}}},[t._v("确定")])],1):t._e(),t._v(" "),i("div",{staticClass:"owner-read-write-content",style:"max-height:"+t.ownerContentHeight+"px"},[t.componentsCheckAllCount>0?i("div",{staticClass:"batch-head"},[i("span",{staticClass:"batch-tip light-white-color"},[t._v("已选 "+t._s(t.componentsCheckAllCount)+" 项，设置为")]),t._v(" "),i("v-select",{attrs:{options:t.operatorData,"options-value":"id","options-label":"name"},on:{afterSelected:t._afterSelectedOwner}}),t._v(" "),i("button",{staticClass:"btn pull-right sure clearBtnBorder white-color",on:{click:function(e){return t._batchSure("owner")}}},[t._v("确定")])],1):t._e(),t._v(" "),i("div",{staticClass:"role-list",style:{"padding-top":t.isConfig?"15px":""}},[i("div",{staticClass:"role-list-item margin-bottom-5px"},[i("div",{staticClass:"margin-left-70px box_flex box_between"},[i("div",{staticClass:"input-group half"},[i("span",{on:{click:function(e){return t._changeCheckState(t.components,t.componentsCheckAllCount,"owner")}}},[0===t.componentsCheckAllCount?i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.componentsCheckAllCount===t.components.length?i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])]),t._v(" "),i("span",{staticClass:"role-name white-color"},[t._v("全选")])]),t._v(" "),t.roleSetting&&"STUDENT"===t.roleSetting.type?t._e():i("div",{staticClass:"input-group half"},[i("span",{on:{click:function(e){return t._changeExportAll(t.ownerData)}}},[0===t.ownerData.exportNum?i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.ownerData.exportNum===t.ownerData.dataAuthorities.length?i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])]),t._v(" "),i("span",{staticClass:"role-name white-color"},[t._v("全部允许导出")])])])]),t._v(" "),i("div",{staticClass:"role-list-item"},[i("div",{staticStyle:{"margin-left":"20px"}},[i("div",{staticClass:"col-xs-5"},[i("div",{staticClass:"input-group"},[i("span",{on:{click:function(e){t.ownerData.isHide=!t.ownerData.isHide}}},[t.ownerData.isHide?i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"data-authorities-name white-color",attrs:{title:"无法查看表单"}},[t._v("无法查看表单")])])])])]),t._v(" "),t._l(t.components,function(e,a){return!(e.title.indexOf(t.owenrSearchName)>=0)||e.name.length>21&&e.name.indexOf("table")>-1&&!t.clicktoggleStudent?t._e():i("div",{key:a,staticClass:"role-list-item"},[i("div",{staticClass:"margin-left-40px",class:{"margin-left-70pxx1":e.name.length>21&&e.name.indexOf("table")>-1&&t.clicktoggleStudent,"margin-left-70pxx2":e.name.length>21&&e.name.indexOf("table")>-1&&!t.clicktoggleStudent}},[i("div",{staticClass:"col-xs-5"},[i("div",{staticClass:"input-group"},[e.name.length<21&&e.name.indexOf("table")>-1?i("span",{staticStyle:{"margin-left":"-20px",width:"20px",display:"inline-block"},on:{click:function(e){return t.clickChangeStudent()}}},[t.clicktoggleStudent?i("i",{staticClass:"maticon role-icon  light-black-color",staticStyle:{color:"#ffffff"},domProps:{innerHTML:t._s(t.icons("keyboard_arrow_down"))}},[t._v("keyboard_arrow_down")]):t._e(),t._v(" "),t.clicktoggleStudent?t._e():i("i",{staticClass:"maticon role-icon  light-black-color",staticStyle:{color:"#ffffff"},domProps:{innerHTML:t._s(t.icons("keyboard_arrow_up"))}},[t._v("keyboard_arrow_up")])]):t._e(),t._v(" "),i("span",{on:{click:function(i){return t._changeComSelectStudent(e)}}},[e.checked?i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"data-authorities-name white-color",attrs:{title:e.title}},[t._v(t._s(e.title))])])]),t._v(" "),0===t.componentsCheckAllCount?i("div",{staticClass:"col-xs-7"},[t._l(t.operatorData,function(a,n){return a.coms.indexOf(e.componentType)>=0?i("span",{key:n,staticClass:"operator",class:t._getAuthorityOf(e,t.ownerData)===a.id?"active":"",on:{click:function(i){return t._setAuthorityOf(e,a.id,t.ownerData)}}},[t._v(t._s(a.name))]):i("span",{staticClass:"operator disabled"},[t._v(t._s(a.name))])}),t._v(" "),t.roleSetting&&"STUDENT"===t.roleSetting.type?t._e():i("span",{staticClass:"operator",class:t.ownerData.dataAuthorities[a].exportable?"active":"",on:{click:function(e){return t._setCanExport(t.ownerData,a)}}},[t._v("允许导出")])],2):t._e()])])})],2)])]),t._v(" "),i("div",{staticClass:"form-group clear-bord-bottom"},[i("div",{staticClass:"owner-read-write-content",style:"max-height:"+t.ownerContentHeight+"px"},[i("div",{staticClass:"role-list",style:{"padding-top":t.isConfig?"15px":""}},[i("div",{staticClass:"role-list-item"},[i("div",{staticStyle:{"margin-left":"20px"}},[i("div",{staticClass:"col-xs-5"},[i("div",{staticClass:"input-group"},[i("span",{on:{click:function(e){t.ownerData.showLogs=!t.ownerData.showLogs}}},[t.ownerData.showLogs?i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"data-authorities-name white-color",attrs:{title:"查看日志"}},[t._v("查看日志")])])])])])])])])]),t._v(" "),t._l(t.palyers,function(e,a){return i("div",{key:a,staticClass:"col other-col"},[i("div",{staticClass:"form-group"},[i("i",{staticClass:"maticon pull-left app-icon black-color",domProps:{innerHTML:t._s(t.icons("label"))}},[t._v("label")]),t._v(" "),i("div",{staticClass:"form-group-input pull-left"},[i("label",{staticClass:"name-label light-black-color"},[t._v("参与者名称")]),t._v(" "),t.isConfig?t._e():i("i",{staticClass:"maticon pull-right more-icon black-color dropdown-toggle",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},domProps:{innerHTML:t._s(t.icons("more_vert"))}},[t._v("more_vert")]),t._v(" "),i("ul",{staticClass:"dropdown-menu more-opt-menu"},[i("li",{on:{click:function(e){return t._deletePlayers(a)}}},[i("a",{attrs:{href:"#"}},[t._v("删除")])])]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.palyers[a].palyerForm.name,expression:"palyers[i].palyerForm.name"}],staticClass:"form-control name-input border-bottom-blue black-color",attrs:{type:"text",disabled:t.isConfig,maxlength:"25"},domProps:{value:t.palyers[a].palyerForm.name},on:{change:t._changeNameInput,input:function(e){e.target.composing||t.$set(t.palyers[a].palyerForm,"name",e.target.value)}}}),t._v(" "),t.palyers[a].playerName?i("p",{staticClass:"name-error-tip text-center"},[t._v(t._s(t.palyers[a].playerName))]):t._e()])]),t._v(" "),i("div",{staticClass:"form-group"},[i("i",{staticClass:"maticon pull-left app-icon black-color",domProps:{innerHTML:t._s(t.icons("call_split"))}},[t._v("call_split")]),t._v(" "),i("div",{staticClass:"form-group-input pull-left"},[i("label",{staticClass:"name-label light-black-color"},[t._v("分配方式")]),t._v(" "),i("div",{staticClass:"distribution-select"},[i("v-select",{attrs:{autoSelect:!1,options:t.distributaryData,"options-value":"id","options-label":"name","data-index":a,disabled:t.isConfig},on:{afterSelected:t._afterSelectedDis},model:{value:t.palyers[a].palyerForm.distributary,callback:function(e){t.$set(t.palyers[a].palyerForm,"distributary",e)},expression:"palyers[i].palyerForm.distributary"}})],1),t._v(" "),"byTeacher"===t.palyers[a].palyerForm.distributary?i("div",{staticClass:"input-group role-list",staticStyle:{"padding-top":"8px"}},[i("span",{on:{click:function(e){return t._changeInstructorSet(a)}}},[t.palyers[a].palyerForm.operators.length>0?i("i",{staticClass:"maticon role-icon active light-black-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"role-name light-black-color"},[t._v("是否支持兼职辅导员处理")])]):t._e()])]),t._v(" "),"byTeacher"===t.palyers[a].palyerForm.distributary||"byTutor"==t.palyers[a].palyerForm.distributary||"byVolunteer"==t.palyers[a].palyerForm.distributary||""==t.palyers[a].palyerForm.distributary||t.isConfig?t._e():i("div",{staticClass:"form-group clear-padding-bottom clear-bord-bottom"},[i("div",{staticClass:"role-set-head"},[i("i",{staticClass:"maticon pull-left app-icon black-color",domProps:{innerHTML:t._s(t.icons("people"))}},[t._v("people")]),t._v(" "),i("div",{staticClass:"form-group-input pull-left",staticStyle:{height:"35px"}},[i("label",{staticClass:"name-label light-black-color"},[t._v("角色设置")]),t._v(" "),"byClass"===t.palyers[a].palyerForm.distributary||t.palyers[a].roleEditing||"byBuilding"===t.palyers[a].palyerForm.distributary||"byParty"===t.palyers[a].palyerForm.distributary?t._e():i("span",{staticClass:"creat-new-role blue-color",on:{click:function(e){return t._creatNewRole(a)}}},[t._v("创建新的角色")])])])]),t._v(" "),i("div",{staticClass:"form-group clear-padding-bottom clear-bord-bottom fiexd-header"},[i("div",{staticClass:"participant-read-write-header",style:{height:t.isConfig?"85px":"50px"}},[i("i",{staticClass:"maticon app-icon black-color",domProps:{innerHTML:t._s(t.icons("visibility"))}},[t._v("visibility")]),t._v(" "),i("label",{staticClass:"read-write-label light-black-color"},[t._v("读写权限")])])]),t._v(" "),i("div",{staticClass:"form-group clear-padding-bottom clear-bord-bottom fiexd-batch-head"},[i("div",{staticClass:"participant-read-write-header",style:{height:t.isConfig?"85px":"50px"}},[i("i",{staticClass:"maticon app-icon black-color",domProps:{innerHTML:t._s(t.icons("cloud"))}},[t._v("cloud")]),t._v(" "),i("label",{staticClass:"read-write-label light-black-color"},[t._v("列表默认显示的控件")])]),t._v(" "),t.palyers[a].curComponentsCount>0?i("div",{staticClass:"batch-head"},[i("span",{staticClass:"batch-tip light-black-color"},[t._v("已选 "+t._s(t.palyers[a].curComponentsCount)+" 项，设置为")]),t._v(" "),i("v-select",{attrs:{options:t.operatorData,"options-value":"id","options-label":"name","data-index":a},on:{afterSelected:t._afterSelectedOperator}}),t._v(" "),i("button",{staticClass:"btn pull-right sure clearBtnBorder blue-color",on:{click:function(e){return t._batchSure("participant",a)}}},[t._v("确定")])],1):t._e()]),t._v(" "),i("div",{staticClass:"join-role-scroll-area",staticStyle:{"padding-bottom":"220px"},style:{height:"byTutor"!==t.palyers[a].palyerForm.distributary&&"byVolunteer"!==t.palyers[a].palyerForm.distributary&&"byTeacher"!==t.palyers[a].palyerForm.distributary&&""!=t.palyers[a].palyerForm.distributary?t.joinRoleScrollAreaHeight+"px":t.noRoleSetAfaterHeight+"px"},attrs:{id:"joinRoleScrollArea"+a,"data-id":a}},["byTutor"!==t.palyers[a].palyerForm.distributary&&"byVolunteer"!==t.palyers[a].palyerForm.distributary&&"byTeacher"!==t.palyers[a].palyerForm.distributary&&""!=t.palyers[a].palyerForm.distributary?i("div",{staticClass:"form-group clear-padding-bottom",staticStyle:{"z-index":"2 !important"}},[i("div",{staticClass:"role-set-content",style:"max-height:"+t.roleSetContentHeight+"px",attrs:{id:"roleContent"+a}},[t.palyers[a].roleEditing?i("div",{staticClass:"creat-role-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.palyers[a].newRoleName,expression:"palyers[i].newRoleName"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control name-input border-bottom-blue black-color padding-right-70px",attrs:{type:"text",maxlength:"25",placeholder:"应用名称+参与者名称+管理员"},domProps:{value:t.palyers[a].newRoleName},on:{focus:function(e){return t._newRowInputFocus(a)},input:function(e){e.target.composing||t.$set(t.palyers[a],"newRoleName",e.target.value)}}}),t._v(" "),i("div",{staticClass:"pull-right creat-btn-group"},[i("button",{staticClass:"btn creat-cancle clearBtnBorder",on:{click:function(e){t.palyers[a].roleEditing=!1}}},[t._v("取消")]),t._v(" "),i("button",{staticClass:"btn creat-sure blue-color clearBtnBorder",on:{click:function(e){return t._saveNewRole(t.palyers[a].newRoleName,a)}}},[t._v("确定")])]),t._v(" "),t.palyers[a].roleEditing?i("p",{staticClass:"errorMsg",class:t.palyers[a].roleAddErrorMsg?"show":""},[t._v(t._s(t.palyers[a].roleAddErrorMsg))]):t._e()]):i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isConfig,expression:"!isConfig"}],staticClass:"form-group-input",staticStyle:{margin:"0 0 15px 72px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.palyers[a].roleSetSearchName,expression:"palyers[i].roleSetSearchName"}],staticClass:"form-control search-input border-bottom-blue black-color",attrs:{type:"text",placeholder:"搜索角色名称"},domProps:{value:t.palyers[a].roleSetSearchName},on:{input:function(e){e.target.composing||t.$set(t.palyers[a],"roleSetSearchName",e.target.value)}}})]),t._v(" "),t.isConfig?t._e():i("div",{staticClass:"role-list",attrs:{id:"roleList"+a}},[i("div",{staticClass:"role-list-item margin-bottom-5px"},[i("div",{staticClass:"margin-left-70px"},[i("div",{staticClass:"input-group"},[i("span",{on:{click:function(e){return t._changeCheckState(t.palyers[a].roleSetData,t.palyers[a].curPlayerCount,"operators",a)}}},[0===t.palyers[a].curPlayerCount?i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.palyers[a].curPlayerCount===t.palyers[a].roleSetData.length?i("i",{staticClass:"maticon role-icon active light-black-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])]),t._v(" "),i("span",{staticClass:"role-name light-black-color"},[t._v("全选")])])])]),t._v(" "),t._l(t.palyers[a].roleSetData,function(e,n){return e.name.indexOf(t.palyers[a].roleSetSearchName)>=0?i("div",{key:n,staticClass:"role-list-item"},[i("div",{staticClass:"margin-left-70px"},[i("div",{staticClass:"input-group"},[i("span",{on:{click:function(i){return t._checkOperators(e,a)}}},[t.palyers[a].palyerForm.operators.indexOf(parseInt(e.id))>=0?i("i",{staticClass:"maticon role-icon active light-black-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"role-name",class:t.palyers[a].palyerForm.operators.indexOf(parseInt(e.id))>=0?"black-color":"light-black-color",attrs:{title:e.name}},[t._v(t._s(e.name))])])])]):t._e()})],2)])]):t._e(),t._v(" "),i("div",{staticClass:"form-group clear-bord-bottom clear-padding-bottom"},[i("div",{staticClass:"participant-read-write-header",style:{height:t.isConfig?"85px":"50px"}},[i("i",{staticClass:"maticon app-icon black-color",domProps:{innerHTML:t._s(t.icons("visibility"))}},[t._v("visibility")]),t._v(" "),i("label",{staticClass:"read-write-label light-black-color"},[t._v("读写权限")]),t._v(" "),t.isConfig?i("div",{staticClass:"form-group-input pull-right",staticStyle:{"margin-right":"16px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.palyers[a].searchName,expression:"palyers[i].searchName"}],staticClass:"form-control search-input border-bottom-blue black-color",attrs:{type:"text",placeholder:"请输入需要设置权限的字段名称"},domProps:{value:t.palyers[a].searchName},on:{input:function(e){e.target.composing||t.$set(t.palyers[a],"searchName",e.target.value)}}})]):t._e(),t._v(" "),t.isConfig?t._e():i("div",{staticClass:"dividing-line"})]),t._v(" "),i("div",{staticClass:"participant-read-write-content",style:{"max-height":t.getContentHeight(a)},attrs:{id:"read-write-content"+a}},[t.isConfig?t._e():i("div",{staticClass:"role-list role-list-batch"},[i("div",{staticClass:"role-list-item margin-bottom-5px"},[i("div",{staticClass:"margin-left-70px"},[i("div",{staticClass:"input-group"},[i("span",{on:{click:function(e){return t._changeBatchSet(a)}}},[t.palyers[a].palyerForm.batch?i("i",{staticClass:"maticon role-icon active light-black-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"role-name light-black-color"},[t._v("允许批量操作")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.palyers[a].palyerForm.batch,expression:"palyers[i].palyerForm.batch"}],staticClass:"role-name black-color"},[i("i",{staticClass:"el-icon-info"}),t._v("设置上传名单时，是否需要校验姓名")]),t._v(" "),t.palyers[a].palyerForm.batch?i("div",{staticClass:"input-group control",staticStyle:{"margin-top":"5px"}},[i("el-radio-group",{model:{value:t.palyers[a].palyerForm.roleCheckList,callback:function(e){t.$set(t.palyers[a].palyerForm,"roleCheckList",e)},expression:"palyers[i].palyerForm.roleCheckList"}},[i("el-radio",{attrs:{label:0}},[t._v("仅检验学号")]),t._v(" "),i("el-radio",{attrs:{label:1}},[t._v("检验学号及姓名")])],1)],1):t._e()])])])]),t._v(" "),t.palyers[a].curComponentsCount>0?i("div",{staticClass:"batch-head",staticStyle:{"margin-top":"35px"}},[i("span",{staticClass:"batch-tip light-black-color"},[t._v("已选 "+t._s(t.palyers[a].curComponentsCount)+" 项，设置为")]),t._v(" "),i("v-select",{attrs:{options:t.operatorData,"options-value":"id","options-label":"name","data-index":a},on:{afterSelected:t._afterSelectedOperator}}),t._v(" "),i("button",{staticClass:"btn pull-right sure clearBtnBorder blue-color",on:{click:function(e){return t._batchSure("participant",a)}}},[t._v("确定")])],1):t._e(),t._v(" "),i("div",{staticClass:"role-list set-margin-top-30px"},[i("div",{staticClass:"role-list-item margin-bottom-5px"},[i("div",{staticClass:"margin-left-40px box_flex box_between"},[i("div",{staticClass:"input-group half"},[i("span",{on:{click:function(e){return t._changeCheckState(t.palyers[a].AllComponents,t.palyers[a].curComponentsCount,"dataAuthorities",a)}}},[0===t.palyers[a].curComponentsCount?i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.palyers[a].curComponentsCount===t.palyers[a].AllComponents.length?i("i",{staticClass:"maticon role-icon active light-black-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])]),t._v(" "),i("span",{staticClass:"role-name light-black-color"},[t._v("全选")])]),t._v(" "),t.roleSetting&&"STUDENT"===t.roleSetting.type?t._e():i("div",{staticClass:"input-group half"},[i("span",{on:{click:function(e){return t._changeExportAll(t.palyers[a].palyerForm)}}},[0===t.palyers[a].palyerForm.exportNum?i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")]):t.palyers[a].palyerForm.exportNum===t.palyers[a].palyerForm.dataAuthorities.length?i("i",{staticClass:"maticon role-icon active light-black-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))}},[t._v("indeterminate_check_box")])]),t._v(" "),i("span",{staticClass:"role-name light-black-color"},[t._v("全部允许导出")])])])]),t._v(" "),t._l(t.palyers[a].AllComponents,function(e,n){return!(e.title.indexOf(t.palyers[a].searchName)>=0)||e.name.length>21&&e.name.indexOf("table")>-1&&!t.clicktoggle[a]?t._e():i("div",{key:n,staticClass:"role-list-item"},[i("div",{staticClass:"margin-left-40px",class:{"margin-left-70pxx1":e.name.length>21&&e.name.indexOf("table")>-1&&t.clicktoggle[a],"margin-left-70pxx2":e.name.length>21&&e.name.indexOf("table")>-1&&!t.clicktoggle[a]}},[i("div",{staticClass:"col-xs-5"},[i("div",{staticClass:"input-group"},[e.name.length<21&&e.name.indexOf("table")>-1?i("span",{staticStyle:{"margin-left":"-20px",width:"20px",display:"inline-block"},on:{click:function(e){return t.clickChange(a)}}},[t.clicktoggle[a]?i("i",{staticClass:"maticon role-icon  light-black-color",domProps:{innerHTML:t._s(t.icons("keyboard_arrow_down"))}},[t._v("keyboard_arrow_down")]):t._e(),t._v(" "),t.clicktoggle[a]?t._e():i("i",{staticClass:"maticon role-icon  light-black-color",domProps:{innerHTML:t._s(t.icons("keyboard_arrow_up"))}},[t._v("keyboard_arrow_up")])]):t._e(),t._v(" "),i("span",{on:{click:function(i){return t._changeComSelect(e,a)}}},[e.checked?i("i",{staticClass:"maticon role-icon active light-black-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"data-authorities-name",class:e.checked?"black-color":"light-black-color",attrs:{title:e.title}},[t._v(t._s(e.title))])])]),t._v(" "),0===t.palyers[a].curComponentsCount?i("div",{staticClass:"col-xs-7"},[t._l(t.operatorData,function(n,s){return n.coms.indexOf(e.componentType)>=0?i("span",{key:s,staticClass:"operator",class:t._getAuthorityOf(e,t.palyers[a].palyerForm)===n.id?"active":"",on:{click:function(i){return t._setAuthorityOf(e,n.id,t.palyers[a].palyerForm)}}},[t._v(t._s(n.name))]):i("span",{staticClass:"operator disabled"},[t._v(t._s(n.name))])}),t._v(" "),t.roleSetting&&"STUDENT"===t.roleSetting.type?t._e():i("span",{staticClass:"operator",class:t.palyers[a].palyerForm.dataAuthorities[n].exportable?"active":"",on:{click:function(e){return t._setCanExport(t.palyers[a].palyerForm,n)}}},[t._v("允许导出")])],2):t._e()])])})],2)])]),t._v(" "),i("div",{staticClass:"form-group clear-bord-bottom clear-padding-bottom"},[i("div",{staticClass:"participant-read-write-content"},[i("div",{staticClass:"role-list",style:{"padding-top":t.isConfig?"15px":""}},[i("div",{staticClass:"role-list-item"},[i("div",{staticStyle:{"margin-left":"20px"}},[i("div",{staticClass:"col-xs-5"},[i("div",{staticClass:"input-group"},[i("span",{on:{click:function(e){t.palyers[a].palyerForm.showLogs=!t.palyers[a].palyerForm.showLogs}}},[t.palyers[a].palyerForm.showLogs?i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"data-authorities-name light-black-color",attrs:{title:"查看日志"}},[t._v("查看日志")])])])])])])])]),t._v(" "),i("div",{staticClass:"form-group clear-bord-bottom clear-padding-bottom"},[i("div",{},[i("i",{staticClass:"maticon app-icon black-color",domProps:{innerHTML:t._s(t.icons("cloud"))}},[t._v("cloud")]),t._v(" "),i("label",{staticClass:"read-write-label light-black-color"},[t._v("列表默认显示的控件")]),t._v(" "),i("div",{staticClass:"form-group-input pull-right",staticStyle:{"margin-right":"16px"}})]),t._v(" "),i("div",{staticClass:"participant-read-write-content",style:{"max-height":t.getContentHeight(a)},attrs:{id:"read-write-content"+a}},[i("div",{staticClass:"role-list "},t._l(t.palyers[a].AllComponents,function(e,n){return e.title.indexOf(t.palyers[a].searchName)>=0?i("div",{key:n,staticClass:"role-list-item"},[i("div",{staticClass:"margin-left-70px"},[i("div",{staticClass:"col-xs-5"},[i("div",{staticClass:"input-group"},[i("span",{on:{click:function(i){t._changeComSelectXian(e,a),t._changeCheckStateXian(t.palyers[a].AllComponents,t.palyers[a].curComponentsCountXian,"defaultVisibleTableColumns",a)}}},[e.checkedXian?i("i",{staticClass:"maticon role-icon active light-black-color",domProps:{innerHTML:t._s(t.icons("check_box"))}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon light-black-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))}},[t._v("check_box_outline_blank")])]),t._v(" "),i("span",{staticClass:"data-authorities-name",class:e.checkedXian?"black-color":"light-black-color",attrs:{title:e.title}},[t._v(t._s(e.title))])])])])]):t._e()}),0)])])])])}),t._v(" "),t.isConfig?t._e():i("div",{staticClass:"add-role"},[i("button",{staticClass:"add-btn clearBtnBorder",on:{click:t._addRole}},[t._v("添加参与者")])])],2)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group"},[e("label",{staticClass:"page-name"},[this._v("参与者设置")])])}]};var s=function(t){i("66iE")},o=i("C7Lr")(a.a,n,!1,s,null,null);e.a=o.exports},"p+qa":function(t,e,i){"use strict";i.d(e,"n",function(){return o}),i.d(e,"i",function(){return r}),i.d(e,"p",function(){return l}),i.d(e,"e",function(){return c}),i.d(e,"j",function(){return u}),i.d(e,"k",function(){return d}),i.d(e,"o",function(){return p}),i.d(e,"l",function(){return h}),i.d(e,"a",function(){return m}),i.d(e,"g",function(){return _}),i.d(e,"b",function(){return f}),i.d(e,"c",function(){return v}),i.d(e,"h",function(){return g}),i.d(e,"m",function(){return y}),i.d(e,"d",function(){return b}),i.d(e,"f",function(){return w});var a=i("rVsN"),n=i.n(a),s=i("C331"),o=function(){return new n.a(function(t,e){Object(s.e)({url:"/api/employment/user/getSchoolInfo",type:"get",success:function(e){t(e)},error:function(t){e(t)}})})},r=function(t){var e="/api/employment/system/findDictByTypeName?typeName="+t;return new n.a(function(t,i){Object(s.e)({url:e,type:"get",success:function(e){t(e)},error:function(t){i(t)}})})},l=function(){return new n.a(function(t,e){Object(s.e)({url:"api/employment/manage/recruitment/getAllCompany",type:"get",success:function(e){t(e)},error:function(t){e(t)}})})},c=function(t){var e="/api/employment/recruitment/deletePosition?recruitmentPositionId="+t;return new n.a(function(t,i){Object(s.e)({url:e,type:"post",success:function(e){t(e)},error:function(t){i(t)}})})},u=function(){return new n.a(function(t,e){Object(s.e)({url:"/api/employment/user/getLoginType",type:"get",success:function(e){t(e)},error:function(t){e(t)}})})},d=function(){return Object(s.c)({url:"/api/employment/company/getCompanyById"})},p=function(t){return Object(s.c)({url:"/api/employment/manage/company/getCompanyDetail?id="+t})},h=function(t,e,i){return Object(s.c)({url:"/api/employment/manage/company/getParticipationRecordDetails?id="+t+"&companyId="+e+"&type="+i})},m=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments[1];if(!i)return document.body.scrollTop=document.documentElement.scrollTop=e,e;var a=i/20,n=document.body.scrollTop+document.documentElement.scrollTop,s=(e-n)/a,o=setInterval(function(){a>0?(a--,t(n+=s)):clearInterval(o)},20)},_=function(){return Object(s.c)({url:"/api/colleges"})},f=function(t){return new n.a(function(e,i){Object(s.e)({url:"/api/employment/applyLimit/overStep?type="+t,type:"get",success:function(t){e(t)},error:function(t){i(t)}})})},v=function(){return new n.a(function(t,e){Object(s.e)({url:"/api/employment/company/isDeactivated",type:"get",success:function(e){e.state&&t(e)},error:function(t){e(t)}})})},g=function(t){var e=void 0;return e=t?"/api/employment/area/getFreeAreaDateList?dataStr="+t:"/api/employment/area/getFreeAreaDateList",new n.a(function(t,i){Object(s.e)({url:e,type:"get",success:function(e){t(e)},error:function(t){i(t)}})})},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=void 0;return e=t?"/api/employment/positionTemplate/getPositionTemplate?id="+t:"/api/employment/positionTemplate/getPositionTemplate",new n.a(function(t,i){Object(s.e)({url:e,type:"get",success:function(e){t(e)},error:function(t){i(t)}})})},b=function(t){var e=new Date(t),i=Number(e.getMonth())+1;return e.getFullYear()+"-"+C(i)+"-"+C(e.getDate())},C=function(t){return t<10?"0"+t:t},w=function(){return new n.a(function(t,e){Object(s.e)({url:"/api/employment/system/findDictByTypeName?typeName=场地类别",type:"get",success:function(e){t(e)},error:function(t){e(t)}})})}},q1YX:function(t,e){},q48g:function(t,e){},qfg7:function(t,e,i){"use strict";var a=i("0lw6");function n(){}var s={},o=["REJECTED"],r=["FULFILLED"],l=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,t!==n&&h(this,t)}function u(t,e,i){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function d(t,e,i){a(function(){var a;try{a=e(i)}catch(e){return s.reject(t,e)}a===t?s.reject(t,new TypeError("Cannot resolve promise with itself")):s.resolve(t,a)})}function p(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function h(t,e){var i=!1;function a(e){i||(i=!0,s.reject(t,e))}function n(e){i||(i=!0,s.resolve(t,e))}var o=m(function(){e(n,a)});"error"===o.status&&a(o.value)}function m(t,e){var i={};try{i.value=t(e),i.status="success"}catch(t){i.status="error",i.value=t}return i}t.exports=c,c.prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then(function(i){return e.resolve(t()).then(function(){return i})},function(i){return e.resolve(t()).then(function(){throw i})})},c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!=typeof t&&this.state===r||"function"!=typeof e&&this.state===o)return this;var i=new this.constructor(n);this.state!==l?d(i,this.state===r?t:e,this.outcome):this.queue.push(new u(i,t,e));return i},u.prototype.callFulfilled=function(t){s.resolve(this.promise,t)},u.prototype.otherCallFulfilled=function(t){d(this.promise,this.onFulfilled,t)},u.prototype.callRejected=function(t){s.reject(this.promise,t)},u.prototype.otherCallRejected=function(t){d(this.promise,this.onRejected,t)},s.resolve=function(t,e){var i=m(p,e);if("error"===i.status)return s.reject(t,i.value);var a=i.value;if(a)h(t,a);else{t.state=r,t.outcome=e;for(var n=-1,o=t.queue.length;++n<o;)t.queue[n].callFulfilled(e)}return t},s.reject=function(t,e){t.state=o,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callRejected(e);return t},c.resolve=function(t){if(t instanceof this)return t;return s.resolve(new this(n),t)},c.reject=function(t){var e=new this(n);return s.reject(e,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,a=!1;if(!i)return this.resolve([]);var o=new Array(i),r=0,l=-1,c=new this(n);for(;++l<i;)u(t[l],l);return c;function u(t,n){e.resolve(t).then(function(t){o[n]=t,++r!==i||a||(a=!0,s.resolve(c,o))},function(t){a||(a=!0,s.reject(c,t))})}},c.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,a=!1;if(!i)return this.resolve([]);var o=-1,r=new this(n);for(;++o<i;)l=t[o],e.resolve(l).then(function(t){a||(a=!0,s.resolve(r,t))},function(t){a||(a=!0,s.reject(r,t))});var l;return r}},qqyD:function(t,e){},rR5i:function(t,e,i){"use strict";var a=i("fUz/"),n=i("tK0m"),s=i("PObU"),o=(a=i("fUz/"),i("28Y8")),r=i("m5wb"),l=i("a2RD");function c(t){return new n.Promise(function(e,i){var a=t.decompressed.getContentWorker().pipe(new r);a.on("error",function(t){i(t)}).on("end",function(){a.streamInfo.crc32!==t.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}t.exports=function(t,e){var i=this;return e=a.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(t)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var i=new o(e);return i.load(t),i}).then(function(t){var i=[n.Promise.resolve(t)],a=t.files;if(e.checkCRC32)for(var s=0;s<a.length;s++)i.push(c(a[s]));return n.Promise.all(i)}).then(function(t){for(var a=t.shift(),n=a.files,s=0;s<n.length;s++){var o=n[s];i.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:e.createFolders})}return a.zipComment.length&&(i.comment=a.zipComment),i})}},rsUi:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAACyCAYAAABryxB5AAAAAXNSR0IArs4c6QAAEXdJREFUeAHtnQt0VdWZx//3/coNNw9IQoAkJLwM0vKIKArojG0dtS5adVZrR9eqjjq6sNXOVGfKzDizXLUPZpR2tO1iOtjaFjtFZY3VsdIOEOShQiMIJkJIISEJhIS8c3Pfd759Q0IS7r2cm/O85+y91l33PPbZ+/u+3/72OWe/jqlzMBYHD4a0gNmQWnOlExbg8A1cEDh8Dt/AFjCw6tzzOXwDW8DAqnPP5/ANbAEDq849n8M3sAUMrDr3fA7fwBYwsOrc8zl8A1vAwKpzz+fwDWwBA6vOPZ/DN7AFDKw693wO38AWMLDq3PM5fANbwMCqc8/n8A1sAQOrzj2fwzewBQysOvd8Dt/AFjCw6tzzOXwDW8DAqnPP5/ANbAEDq849n8M3sAUMrDr3fA7fwBYwsOrc8zl8A1vAwKpzz+fwDWwBA6vOPZ/DN7AFDKw693wO38AWMLDq3PM5fANbwMCqG97zo5GwYfFbjab5+dPH0HRoB1qO1qLj1FEsuuFOfOahjUYzQ0JfQ8Dvbm1Ew7uvomHfdvR1NE8AveLzj07YN9JO1sG/0HoCbQ3vobOlAQNdbRjuv4BoJJRg5sjxwe3Ng694LvJL5yEc9OPYzq0421iXlKnJbEZeSUXSc0Y4mFXwWZW9/TtfwWD3OUnYWKx2NOx5FbFYBCazBWaLDXa3F07PNLhyC+AtmAmrzSFJXlpMxJRt39gZHujB689+GedOfqiIPd3TCqkmqcD0sqvoV42iuUvo9ykqLNn/rJx18BnxM0f3YtszdyEeV+fbUKx2mH3VKpQtWYN5K29HTn6xIgVR6kyyBr6f7u2siq6v/Q1Y9a+VYDKZMIcKQfWav0TVyttgc7i0ItoV5dA8/Fg0grr/3Yz92/4N4eGhKyqkZgQ3PSfUrFuPT332q1lRCDQNv+2T9/HOj59AT3uTmkwzztvjm46VX3wCn77lfrCaQatBs/Dr92zDDgKfzS1ws6pX4db1L8BbWKpJ/pqEf+DV57D/v7+nSYNlKpTDk4ubH9yIhdevy/RS2eNr7n3lKDXK6AU8oxcc6sdbmx7Gh2//l+wwM81AU/Bb69/DHzZ/M1MdsiL+zi3fogLwU03Jqhn4ocAQ3tz0ENjTvV7Dzi0b8NEffqkZ9TQDf/+2jRjq6dCMYeQSZNdLG9Dd/ie5ks8oXU3A7247iQ/f3JyR4NkaORIK4J0ffU211snxdtME/ENvvEidK9Hxcul6u/34QdT99ieq66g6/OH+buprf011QygtwIHtz4PVAmoG1eEf27UVkXBQTRuokndwsA8nDryhSt6jmaoOv/H9t0ZlMdz/kd+/rKrOqsIf7D2fcpSNqlZRKHN27+9q+USh3C7PRlX4zYd3Xi6RwY6cPqKeDVSFn2psnZH4d56uV01ddeGf+KNqimsl485mg8LvbmvUCgPV5OhuO6Fak7Zqnh8Y7DXkK97kUsbGK6g1WEU1+FINv55szGzc9w90qyK2evB7zqqisNhMS0rnYP1TzyAvf7rYpMaujwSHx7aV3FAPvkQTL5Q01rJrV+ORbz6N0rIK3P/Yk3C7cyTJPnZxxpEkiWWQiGrw/f1dGYipblRvrg/3PPAY7r7vYdjsIzN4CotKqAA8BZfLLVo4q12d4d6qwY+GtT812ma14YabbsE3nv4+rl6+8jLIrAZ44Gv/AJfbc9m5TA7YJapBMsmTxVVtrl5cwyN2HE4nVly3Bms/dweY16cLrAD8zd/9M1564fvo7b6QLmrKcw73tJTn5DyhGnyTRbWsk9rTTHPvKuYtxPJr12Dx0pqx6j1p5EkHZxSX4tEn/xW//MkmtJw+OenslXdzp8+6ciQZYqhGYPTeKUYni8UCCxWi0X+T2YR4LE4DQ2KIxaOIhiOI0Hv05Bl9zLO9udPgyyvEnIoqlFctQNnc+bDT8akGVkM8/Lf/hLe3v4J9O393WZ6p0mUTPKz2qeebKl0hx9WD70z9pMxgziiZheKZs+DLL8C0PPr58uGdlgeny0k/N5xONyxWYeKzAhAKBBAKBuHxejPyaiFGHI1jJrlvu+uvsGT5ddj+yhacbZ24EMRovPH/04rKx+8qui3MejKI5MzJm5BqcelsrFi1FuWVCwl6KYG1TTgvZsdKaVlzbHDneMUkI/ja2RWVeOzvn8H+3Tuw+503MDjQn/La0tlzYI30I2LNTRlHrhOqwLeFulBk7UzoNIsemG794j10v10kl46qpMvm71//Z7fg2jV/jsMH92Pfrh1Ja4LymQXw9bxP8L0Y8lQhbC9UTF6Fp2vF4Rk8DtfwGfRe6MKhA7W4+fY7FVNW7Yx6uztx/OMjaD19Che6ziE4HMCXH1gP1mYwGvzuMvg980d3Zf1XFL63/zAcwRGPZwsrsB97yuZhogUCzmIMeq+eeFCGPcWqfZf/1Bh4pgebuixm+vL589042dSC9rOd8PuHEQqF6SHQAY/HhVkzi7BwYQW8XnGNL5PtPTAwhE8+OYXW9g4MDQ0jEAjCbrcl8iwpno6qyjmYMSN/8mUZ7zsD5+g24EPANTvjazO5QBH4plgYbr80s1SOfdyIX/zqTTQS+HTBQjXK6huW4cGv3kktcOJepYb9AfznS6/h3b11iNJrZLowjwrAvV+5HYur56WLdsVzbv9JBJw0tdskX82oSLXPvN4zlHnjx2QL/elUK57a8Dyi0Rgc5HGLq6tw1aK5KJpRCKvVQp4YwumWNjQ2NqOBPDRGt5Wb1tbgsUfvmZxURvs/fPFX2L3nENgyC/PnlWPB/DKUl5UmClWcCkNHRzdOnGzGR0ePY4gKisVixve+/QTmVohrvBn0LqICIC6NdIoq4vm2sDT91QX5Ptx/3zqUlEwn6JWJKneycmuwPHGoq6sHu2oPIjdXfNW/YH45SooKsXZNTdpqPRKJ4OP6JrS3nweTVWywhnsAGeEr4vn5F2phjo0slCjWIEa6PmLNQW/edbKpLN8NZbzI8fT3yfFR+fZ4C8hrN0Xgx02K3F3GW00X23GTdK2cyQyiCJWI3QcLvb7IFfbur8Pmn72GDnr9u+6aJfjG+nvpXp+670CMHN09fdj4g5/jj4frMaukCI88eDdqli0Wk2TKa8P0uidnUOSebw92ILf/I1n0GMhZhHU3rkEwdGmy5/zKMvz0xaclb0Bibxk/2robUfLIV18eWWPHTO0VP960AdWLqiTXr9d3DSI2+fr6Fan2Q44iarSQxxO/+9TXJ4BnBE40NWPPvuQrbYshVPvuQbz261fw5ratY8mw18ktv/ifsX2pNkL2fFnBMzkVgc8yGiQPjSfelNmedOHwkeRLsR4/cVq6TC6m1Nh0huYahBEYnjja9nijtHnFTRbq5FkoufyTE1QMfsTmw2ButeQFwJOi9c7tEdeqN9lQbD9VmqlkSJbGlY4xBxnwLkbUKr594kp5KQafCRJ0lKDPV4OoWTowy5dWJ9WxJsXxpJEFHlz26eTdzjXLk8sgMNmxaFGLC3151yDkmDF2TM4NReEzRdgDTE/+9VStzUfMbBet21/f9wUUzyiYkM5d6z6DhQuk/4JG9cJKrLvtpgl5sZa/++/9woRjme5EzQ4M5cxDDzXoKDmoQ5Gn/VTGkOotoK9vAG+8TR9M6riAFcuqcePqFamylOT4ztoPUHe4ASXFhbjj1rXUezj1h1kGvqdgNcnFeg6UDarCN1GTbwE1/Ro5hOx56J8mb2FNZV/Fq/3xgsSp2o9YxM94GZ9mtm3HzOrpryp8BipimziQM9vgiZVXrvYPIXKpDj/oyM7v0wgxrpA4UYsyI4qTyaI6/DC1ZLFXHCMG9k4ftik/ZHvU1qrDZ4IkhiuNSmSg/8RrHbXmqRU0Az+mohHUMn7IId0CD1PRQRPw2VO/3y19r9hUDKLUNazKV/t5RxPwmcED7jn02jf1xhKloEmVT9BZgpjKzzqagc+MOpB7NeIyDlWWCpzYdJjX+91zxSYj+npNwY9Sn/9gjjSdJKItI2MCQzkLVPd6pp6m4DOBgjRVadg1h23qMgSpx07umThCDac5+Exw5hkB50yhOmRNvDBNwx70aqdm0yR8RpMZKeCQogBMXpcjg7JCQ7SkCmHqyu73LadnGkXGzAoSWzuSJBE3MfJn0JKY0p3ktLBDNJ0qUrcXtBwHzAXFMPkKYMpJ1apGM4f7exHv7UKMplCzeXLWpasoH3HdrYmeu9yllIx6DTrJjKVql24ygZIdc9Cw75zBephonZ2pBVqn53w7Yh2tBPYC4mzFSwJrYmvq2WhsPI3LiwdHvndjcnkSBcRSPAemAnEjali9Mewup/n2rA1DXAGamt7pr8oK+EwFS2QI3oEjtITJUHqNhJ5lX/Niy8GxWbdm8khaTyfxL/T6K8RjgzTYHPsw9ddrNWQN/IQBadqXK9AC19ApmOMEToOBvcMHXLMSLZZxs6bvqsgu+Bdhj8z3b4JzuJVMLd1DmZiylGiupTcUv6eSxiaOLNEqJj0lrs1K+KOGMUeHqQCcgTN4VrVZwGwQapAmpQy7yjTRcDNqGyH/WQ1/vIJshS9noB32UCc9GMo7uzVG1XnIXpTomGHjEbI16Ab+GAB6I7CF+2GN9sEaHvlZYpfm8Y3FE7jBbipsAgXre49Y6EeDL0bmz2nv6V2gSmPR9Ad/TLVLG2yUsOvMDloAiu7MxMx0sfPo0qJQbGUwJFYHYyuEsR123w4VrRyZY6ix9/NLmonb0vbjqDjdElczz23vj6OClmDNLNC6vTLOkM1MFnli6w5+H9Xwh9qBD+j34VngVB9bV96KuhszNCB5+9qXqcqn0pNPs8tKaZxlOU2XX0LtPktLgGJPhulpMLou4Efo+W5vC7D9BPBuMwM28X4cIvhhGh9vi/kFI2Bt8b2BkXQGqEA1UyHa3wqMTs6elx/HX1QBt9KvJEvHoGQ1fAb9dfoU7Waait/pnwh8MuWjwTIsszVMPpxy/6NAWcpz7ERjtwmNHwAvHIwnCsCDy6hmkG8dhbSyTPVk1j7wvdPEDA+09KeHPmqYQmcMu9fuTKxwPXos1X/EUYiba1fj3JCwtFk6ZnqY/BL11n6dvsbi1Fb/TSo1tTeYI6WkF0+0DwAP0VfXn/w/k2Dw7NKugBnPNtUgbk0/RyBu92LjqeUZgWfpx+hWs/WYCV96HWjoYke0H7LK82vpvr5hF431Cwr3yMkIaorD+I9lR+ALUmLjA70D9rnm4vG6xTjQJs51HZY4Nn0OWCXf4pnjJZ/ydtbA/0098OxeegWn1nyxwWaO447KEG4q6UWeLYSekAO7z+fhrSYrhiPi02fy2akAPPdZYPVssdLKd31WwP85LeT13HvSQJHPlJenzArZljtGXg8vP6v+EbP6IqSX4NcfZyd4plU4ZsI/0m0qoM3eZ20/8O1rBb67L33h0PrZ5j4Tnn9fm1Jq1vM7aMDOt3ZKc49X2/Ss9jpILY5aC5qF//gOjLWwac1omctjwr/sYQVZW0GT8L9NT/X1ndn3gJcObSs1Rv37e+liKH9Ok/B/S230egysVVJLQZPw6SslugxueVdQz9hmOjVzxnYw5AUcviGxjyjN4XP4BraAgVXnns/hG9gCBladez6Hry0LVGl3YqsoQ1VqTC9Nev7jNA7OY9daS7go7ihwx/HIyJdexSUk4dWaHczBxuqx3jA2XLqNtv3h7Gvr9zriKKVh3TeWAXfT4M7C9MMHJcQqLCnNwhcmPo8lxgKarPbFKMSvFW4BDl+4rXQXk8PXHVLhCnH4wm2lu5gcvu6QCleIwxduK93F5PB1h1S4Qhy+cFvpLiaHrzukwhXi8IXbSncxOXzdIRWuEIcv3Fa6i8nh6w6pcIU4fOG20l1MDl93SIUrxOELt5XuYnL4ukMqXCEOX7itdBeTw9cdUuEKcfjCbaW7mBy+7pAKV4jDF24r3cXk8HWHVLhCHL5wW+kuJoevO6TCFbKaTaaHhEfnMfVkgf8HcPXV3TjUOUIAAAAASUVORK5CYII="},syjK:function(t,e,i){"use strict";i("kV13");var a=i("C331"),n={data:function(){return{fieldList:[],exportNum:{SCHOOL:0,INSTRUCTOR:0,COLLEGE:0},distributaryData:[{name:"全校统一汇总",id:"SCHOOL"},{name:"以带生关系分配",id:"INSTRUCTOR"},{name:"以学院关系分配",id:"COLLEGE"}],typeList:["SCHOOL","COLLEGE","INSTRUCTOR"],keywords:{SCHOOL:"",COLLEGE:"",INSTRUCTOR:""},collegeExportNum:0,schoolExportNum:0,instructorExportNum:0}},created:function(){var t=localStorage.getItem("lang");Object(a.g)(t)&&(this.lang=t),this.getList()},computed:{translate:function(){return Object(a.g)(this.lang).infoManage}},methods:{getList:function(){var t=this;Object(a.d)("api/data/column/roles").then(function(e){e.state?t.fieldList=e.data.map(function(e){for(var i in t.typeList)e.canExport[t.typeList[i]]?t.exportNum[t.typeList[i]]++:e.canExport[t.typeList[i]]=!1;return e}):t.$toast(e.message)})},setExportAll:function(t){this.hasChange=!0,this.exportNum[t]=this.fieldList.length,this.fieldList=this.fieldList.map(function(e){return e.canExport[t]=!0,e})},setUnExportAll:function(t){this.hasChange=!0,this.exportNum[t]=0,this.fieldList=this.fieldList.map(function(e){return e.canExport[t]=!1,e})},setExport:function(t,e,i){this.hasChange=!0,t.canExport[i]?this.exportNum[i]--:this.exportNum[i]++,t.canExport[i]=!t.canExport[i]},_back:function(){this.hasChange&&confirm("当前设置不会生效，是否退出?")?this.$parent._closeFormSetting():this.hasChange||this.$parent._closeFormSetting()},_saveExportSet:function(){var t=this;if(confirm("是否保存?")){var e={flowType:"COLLEGE",columnIds:[]},i={flowType:"SCHOOL",columnIds:[]},n={flowType:"INSTRUCTOR",columnIds:[]};this.fieldList.map(function(t){t.canExport.SCHOOL&&i.columnIds.push(t.id),t.canExport.COLLEGE&&e.columnIds.push(t.id),t.canExport.INSTRUCTOR&&n.columnIds.push(t.id)});var s=[e,i,n];Object(a.d)("api/data/column/roles",s).then(function(e){e.state&&(t.hasChange=!1,t.$toast("保存成功!"))})}}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"studentExportSet_wrap"},[i("div",{staticClass:"head text-center"},[i("div",{staticClass:"pull-left back-div"},[i("i",{staticClass:"maticon",domProps:{innerHTML:t._s(t.icons("arrow_back"))},on:{click:t._back}},[t._v("arrow_back")])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"pull-right opt-div"},[i("a",{staticClass:"opt-btn",attrs:{href:"javascript:;"},on:{click:t._back}},[t._v("取消")]),t._v(" "),i("button",{staticClass:"btn save",on:{click:t._saveExportSet}},[t._v("保存")])])]),t._v(" "),i("div",{staticClass:"join-set-content"},[i("GeminiScrollbar",{staticClass:"info-container",attrs:{scrollY:!1,autoshow:!0}},t._l(t.typeList,function(e,a){return i("div",{key:a,staticClass:"col other-col box_flex inline_flex column"},[i("div",{staticClass:"form-group flex_shrink"},[i("i",{staticClass:"maticon pull-left app-icon black-color",domProps:{innerHTML:t._s(t.icons("label"))}},[t._v("label")]),t._v(" "),i("div",{staticClass:"form-group-input pull-left"},[i("label",{staticClass:"name-label light-black-color"},[t._v("参与者名称")]),t._v(" "),"INSTRUCTOR"===e?i("input",{staticClass:"form-control name-input border-bottom-blue black-color",attrs:{type:"text",disabled:"true",maxlength:"25",value:"辅导员"}}):t._e(),t._v(" "),"COLLEGE"===e?i("input",{staticClass:"form-control name-input border-bottom-blue black-color",attrs:{type:"text",disabled:"true",maxlength:"25",value:"学院"}}):t._e(),t._v(" "),"SCHOOL"===e?i("input",{staticClass:"form-control name-input border-bottom-blue black-color",attrs:{type:"text",disabled:"true",maxlength:"25",value:"学校"}}):t._e()]),t._v(" "),i("div",{staticClass:"form-group"},[i("i",{staticClass:"maticon pull-left app-icon black-color",domProps:{innerHTML:t._s(t.icons("call_split"))}},[t._v("call_split")]),t._v(" "),i("div",{staticClass:"form-group-input pull-left"},[i("label",{staticClass:"name-label light-black-color"},[t._v("分配方式")]),t._v(" "),i("div",{staticClass:"distribution-select"},[i("v-select",{attrs:{autoSelect:!1,options:t.distributaryData,value:e,"options-value":"id","options-label":"name",disabled:"true"}})],1)])]),t._v(" "),i("div",{staticClass:"form-group clear-padding-bottom clear-bord-bottom"},[i("div",{staticClass:"participant-read-write-header",staticStyle:{height:"85px"}},[i("i",{staticClass:"maticon app-icon black-color",domProps:{innerHTML:t._s(t.icons("visibility"))}},[t._v("visibility")]),t._v(" "),i("label",{staticClass:"read-write-label light-black-color"},[t._v("搜索")]),t._v(" "),i("div",{staticClass:"form-group-input",staticStyle:{"margin-left":"71px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords[e],expression:"keywords[item]"}],staticClass:"name-input border-bottom-blue black-color",attrs:{type:"text",placeholder:"请输入关键字"},domProps:{value:t.keywords[e]},on:{input:function(i){i.target.composing||t.$set(t.keywords,e,i.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"role-list grow_1"},[i("div",{staticClass:"role-list-item margin-bottom-5px",staticStyle:{height:"100%"}},[i("div",{staticClass:"margin-left-70px"},[i("div",{staticClass:"input-group select_top box_flex align_center",staticStyle:{"justify-content":"flex-end","padding-right":"100px"}},[0===t.exportNum[e]?i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("check_box_outline_blank"))},on:{click:function(i){return t.setExportAll(e)}}},[t._v("check_box_outline_blank")]):t.exportNum[e]===t.fieldList.length?i("i",{staticClass:"maticon role-icon white-color active",domProps:{innerHTML:t._s(t.icons("check_box"))},on:{click:function(i){return t.setUnExportAll(e)}}},[t._v("check_box")]):i("i",{staticClass:"maticon role-icon white-color",domProps:{innerHTML:t._s(t.icons("indeterminate_check_box"))},on:{click:function(i){return t.setUnExportAll(e)}}},[t._v("indeterminate_check_box")]),t._v(" "),i("span",{staticClass:"role-name white-color"},[t._v("全部允许导出")])])]),t._v(" "),i("GeminiScrollbar",{staticClass:"list_wrap",staticStyle:{overflow:"scroll",height:"100%"}},t._l(t.fieldList,function(a,n){return-1!==a.columnName.indexOf(t.keywords[e])?i("div",{key:n,staticClass:"role-list-item"},[i("div",{staticClass:"margin-left-70px",on:{click:function(i){return t.setExport(a,n,e)}}},[i("div",{staticClass:"col-xs-5"},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"data-authorities-name white-color",attrs:{title:a.columnName}},[t._v(t._s(a.columnName))])])]),t._v(" "),i("div",{staticClass:"col-xs-7 box_flex flex_center"},[i("span",{staticClass:"operator",class:a.canExport[e]?"active":""},[t._v("允许导出")])])])]):t._e()}),0)],1)])])}),0)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flow-title"},[e("div",{staticClass:"input-group"},[e("label",{staticClass:"page-name"},[this._v("权限管理")])])])}]};var o=i("C7Lr")(n,s,!1,function(t){i("dQ7k")},"data-v-2908c4f9",null);e.a=o.exports},t7Ya:function(t,e,i){"use strict";var a=i("HzJ8"),n=i.n(a),s=i("aA9S"),o=i.n(s),r=i("AA3o"),l=i.n(r),c=i("xSur"),u=i.n(c),d=i("KH7x"),p=i.n(d),h=function(t,e){var i=t.split(/\s/),a=p()(i,2),n=a[0],s=a[1],o=e.split(/\s/),r=p()(o,2),l=r[0],c=r[1];return n!==l?t+" ~ "+e:n+" "+s+"~"+c};i.d(e,"a",function(){return b}),i.d(e,"b",function(){return y}),i.d(e,"c",function(){return v}),i.d(e,"d",function(){return g});var m="yyyy-MM-dd HH:mm:ss",_=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.name=null,this.address=null,this.timeRange=[],this.applyTimeRange=[],this.desc="",o()(this,e)}return u()(t,null,[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.name=e.name||null,i.address=e.areaName||null,i.timeRange=[e.beginTime?new Date(e.beginTime).format(m):null,e.endTime?new Date(e.endTime).format(m):null],i.applyTimeRange=[e.applyBeginTime?new Date(e.applyBeginTime).format(m):null,e.applyEndTime?new Date(e.applyEndTime).format(m):null],i.desc=e.summary||"",i}}]),t}(),f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.stands=[],this.siteMap=null,this.canSelectMultiStands=!1,this.limitStandsSelected=2,this.chooseType=t.chooseTypes.MANAGER,o()(this,e)}return u()(t,null,[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.stands=(e.booths||[]).map(function(t){return v.fromApi(t)}),i.siteMap=e.areaUrl||null,i.canSelectMultiStands=!!e.isMany,i.limitStandsSelected=e.upperLimit||2,i.chooseType=0===parseInt(e.boothChoose||0)?t.chooseTypes.MANAGER:t.chooseTypes.UNIT,i}}]),t}();f.chooseTypes={MANAGER:"MANAGER",UNIT:"UNIT"};var v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.id=null,this.name=null,this.sort=null,this.selected=!1,this.occupied=!1,this.applied=!1,this.applyId=null,this.editing=!1,this.addedToServer=!1,o()(this,e)}return u()(t,null,[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.id=e.id,i.name=e.name,i.sort=e.sortNum,i.selected=!1,i.occupied=void 0!==e.status&&1===parseInt(e.status),i.applied=void 0!==e.status&&0===parseInt(e.status),i.applyId=e.participantId,i.editing=!1,i.addedToServer=!0,i}}]),t}(),g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.id=null,this.unitId=null,this.name=null,this.typeName=null,this.scale="",this.email="",this.addressCode="",this.address="",this.desc="",this.recruitment="",this.contactPeople=null,this.contactPhone=null,this.positions=[],this.positionsCount=null,this.remark="",this.stand=null,this.stands=[],this.signInStatus=!1,o()(this,e)}return u()(t,[{key:"toApiUnitApplyInfo",value:function(){return{id:this.id,signInStatus:this.signInStatus,participantId:this.id,companyId:this.unitId,contactPeople:this.contactPeople,contactPhone:this.contactPhone,email:this.email,recruitmentBrief:this.recruitment,boothIds:this.stands.map(function(t){return t.id}),summary:this.desc,remarks:this.remark,positions:this.positions}}}],[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.id=e.id,i.signInStatus=e.signInStatus,i.unitId=e.companyId,i.name=e.companyName,i.typeName=e.property,i.scale=e.scale,i.email=e.email,i.addressCode=e.address,i.address=e.addressDetail,i.desc=e.summary,i.recruitment=e.recruitmentBrief,i.contactPeople=e.contactPeople,i.contactPhone=e.contactPhone,i.positions=e.positions?e.positions:[],i.positionsCount=e.positionsNum||0,i.remark=e.remarks||"",i.stand=e.boothId?new v({id:e.boothId,name:e.boothName}):null,i.stands=e.boothPOS?e.boothPOS.filter(function(t){return t.participantId===i.id}).map(function(t){return v.fromApi(t)}):[],i}}]),t}();g.fromUnit=function(t){var e=new g;return e.unitId=t.companyId||t.id,e.name=t.companyName,e.typeName=t.propertyName,e.scale=t.scaleName,e.email=t.mailAddress,e.address=t.addressDetail,e.desc=t.summary,e.contactPeople=t.contactPeople,e.contactPhone=t.contactPhone,e.signInStatus=t.signInStatus,e};var y={SCHOOL:"SCHOOL",COLLEGE:"COLLEGE"},b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this.id=null,this.baseInfo=new _,this.standInfo=new f,this.published=!1,this.unShelved=!1,this.applied=!1,this.top=!1,this.canApplyOnTime=!1,this.standUnits=[],this.applyStatus=null,this.collegeCode=null,this.type=y.SCHOOL,o()(e)}return u()(t,[{key:"isApplying",value:function(){if(void 0!==this.canApplyOnTime&&null!==this.canApplyOnTime)return this.canApplyOnTime;var t=new Date;return t>=new Date(this.baseInfo.applyTimeRange[0])&&t<=new Date(this.baseInfo.applyTimeRange[1])}},{key:"getNameHtmlWithStatus",value:function(){return this.baseInfo.name}},{key:"initStandUnits",value:function(){var t=this;this.standUnits.forEach(function(e){var i=!0,a=!1,s=void 0;try{for(var o,r=n()(t.standInfo.stands);!(i=(o=r.next()).done);i=!0){var l=o.value;if(e.stand&&l.id===e.stand.id){e.stand=l;break}}}catch(t){a=!0,s=t}finally{try{!i&&r.return&&r.return()}finally{if(a)throw s}}})}},{key:"getApplyTimeHtml",value:function(){return h(new Date(this.baseInfo.applyTimeRange[0]).format("yyyy-MM-dd HH:mm"),new Date(this.baseInfo.applyTimeRange[1]).format("yyyy-MM-dd HH:mm"))}},{key:"getStartTimeHtml",value:function(){return h(new Date(this.baseInfo.timeRange[0]).format("yyyy-MM-dd HH:mm"),new Date(this.baseInfo.timeRange[1]).format("yyyy-MM-dd HH:mm"))}},{key:"toApiDcw",value:function(){return{id:this.id,name:this.baseInfo.name,areaName:this.baseInfo.address,summary:this.baseInfo.desc,beginTime:this.baseInfo.timeRange[0]&&new Date(this.baseInfo.timeRange[0]).format(m),endTime:this.baseInfo.timeRange[1]&&new Date(this.baseInfo.timeRange[1]).format(m),applyBeginTime:this.baseInfo.applyTimeRange[0]&&new Date(this.baseInfo.applyTimeRange[0]).format(m),applyEndTime:this.baseInfo.applyTimeRange[1]&&new Date(this.baseInfo.applyTimeRange[1]).format(m),areaUrl:this.standInfo.siteMap,boothChoose:this.standInfo.chooseType===f.chooseTypes.MANAGER?0:1,isMany:this.standInfo.canSelectMultiStands?1:0,upperLimit:this.standInfo.limitStandsSelected,major:this.collegeCode,booths:this.standInfo.stands.map(function(t,e){return{name:t.name,sortNum:e}})}}}],[{key:"fromApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new t;return i.id=e.id,i.baseInfo=_.fromApi(e),i.standInfo=f.fromApi(e),i.published="1"==e.isRelease,i.unShelved="1"==e.doubleChooseStatus,i.applied=e.isApplied||!1,i.top=!!e.top,i.canApplyOnTime=e.canApplyOnTime,i.applyStatus=e.applyStatus,i.collegeCode=e.major,i.collegeCode&&0!==parseInt(i.collegeCode)&&(i.type=y.COLLEGE),i.standUnits=e.participants?e.participants.map(function(t){return g.fromApi(t)}):[],i.initStandUnits(),i}}]),t}()},tK0m:function(t,e,i){"use strict";var a=null;a="undefined"!=typeof Promise?Promise:i("qfg7"),t.exports={Promise:a}},tsmp:function(t,e){},uezc:function(t,e,i){"use strict";function a(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var i=0;i<this._listeners[t].length;i++)this._listeners[t][i].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},t.exports=a},uhaD:function(t,e,i){"use strict";var a=i("Si4x");function n(t){a.call(this,t)}i("fUz/").inherits(n,a),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=n},v7gX:function(t,e,i){"use strict";var a=i("fUz/"),n=i("EVdu"),s=i("Si4x"),o=i("+YPm"),r=i("Zj2h"),l=i("uhaD");t.exports=function(t){var e=a.getTypeOf(t);return a.checkSupport(e),"string"!==e||n.uint8array?"nodebuffer"===e?new r(t):n.uint8array?new l(a.transformTo("uint8array",t)):new s(a.transformTo("array",t)):new o(t)}},vKg7:function(t,e){},"wc+N":function(t,e){},x07i:function(t,e,i){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},xASa:function(t,e){},xTvN:function(t,e,i){"use strict";var a=i("HzJ8"),n=i.n(a),s=i("zY0d"),o=i("p+qa"),r={props:["isEdit","placeRule","loginType","defaultInfo","editStatus"],data:function(){var t=this;return{firstState:!0,areaTypeList:[],usablePlace:[],curUsablePlaceInfo:{},usableDate:[],pickerOptions:{disabledDate:function(e){return t.usableDate.indexOf(Object(o.d)(e))<0}},date:"",baseInfo:{title:"",schoolName:"",areaType:"",areaRequirement:"",areaDetail:"",date:"",year:"",timeRange:"",startDate:"",startTime:"",needExamination:"",reciveTime:"",timeOptions:[],beginTime:"",endTime:"",areaCategory:""},baseInfoRules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],areaType:[{required:!0,message:"请选择场地类型",trigger:"change"}],areaDetail:[{required:!0,message:"请填写场地名称",trigger:"blur"}],reciveTime:[{required:!0,message:"请选择简历接收时间",trigger:"change"}],areaCategory:[{required:!0,message:"请选择场地类别",trigger:"change"}]},placeForm:{place:"",reciveTime:"",needExamination:""},placeFormRule:{place:[{required:!0,message:"请选择可用场地",trigger:"blur"}]}}},methods:{areaTypeChange:function(){this.$refs.baseInfoForm.clearValidate()},catchAreaTypeList:function(){var t=this;Object(o.f)().then(function(e){e.state&&(t.areaTypeList=e.data)})},getUsableDate:function(){var t=this;Object(o.h)().then(function(e){if(e.state)if(e.data.length){if(t.usableDate=e.data,t.defaultInfo&&"COMPANY_CHOOSE"==t.defaultInfo.areaType){var i=t.defaultInfo.beginTime.split(" ")[0];t.usableDate.push(i)}}else t.usableDate=[]})},clickDate:function(t){this.$emit("pick",new Date)},vali:function(){var t=this,e=!1;return this.$refs.baseInfoForm.validate(function(i){var a=t.baseInfo;if("COMPANY"!=t.loginType.loginType){if("isAllow"==a.areaType||""==a.areaType){if(!a.startTime||!a.startDate)return t.$message.error("请选择宣讲会时间");if(!a.reciveTime)return t.$message.error("请选择简历接收时间")}if("COMPANY_CHOOSE"==a.areaType&&!t.placeForm.place)return t.$message.error("请选择场地")}else{if(!t.placeRule)return t.$message.error("请先添加场地规则");if("isAllow"==a.areaType){if(!a.startTime||!a.startDate)return t.$message.error("请选择宣讲会时间");if(!a.reciveTime)return t.$message.error("请选择简历接收时间")}if("COMPANY_CHOOSE"==a.areaType){if(!a.timeRange||!a.year)return t.$message.error("请选择宣讲会时间");if(!t.placeForm.reciveTime)return t.$message.error("请选择简历接收时间");if(!t.placeForm.place)return t.$message.error("请选择场地")}}(e=i)||Object(o.a)(0,20)}),e},toSubmit:function(){var t=this.baseInfo;if(t.selfContact="isAllow"==t.areaType?1:0,"COMPANY_CHOOSE"!=t.areaType){var e=t.reciveTime,i=t.startTime;t.resumeReceiveBeginTime=e[0]+" 00:00:00",t.resumeReceiveEndTime=e[1]+" 00:00:00",t.beginTime=t.startDate+" "+i[0]+":00",t.endTime=t.startDate+" "+i[1]+":00",t.addressDetail="","ADMIN_ASSIGNMENT"==t.areaType&&(t.areaExplain=this.placeRule.areaExplain)}if("COMPANY_CHOOSE"==t.areaType){var a=this.placeForm.reciveTime,n=this.baseInfo.timeRange.split("~");t.resumeReceiveBeginTime=a[0]+" 00:00:00",t.resumeReceiveEndTime=a[1]+" 00:00:00",t.beginTime=t.year+" "+n[0]+":00",t.endTime=t.year+" "+n[1]+":00",t.areaUseId=this.placeForm.place}"ADMIN_ASSIGNMENT"!=t.areaType&&(t.areaCategory="")},placeTypeChange:function(t){},dateChange:function(t){var e=this;Object(s.c)(t).then(function(i){if(t);if(e.baseInfo.timeRange="",e.firstState||(e.placeForm.place=""),i.length?e.baseInfo.timeOptions=i:(e.baseInfo.timeRange="",e.baseInfo.timeOptions=[]),e.defaultInfo){var a=e.defaultInfo.beginTime.split(" ")[0];if(e.defaultInfo.areaUseId&&e.baseInfo.year==a){var n=e.defaultInfo.beginTime.split(" ")[1],s=e.defaultInfo.endTime.split(" ")[1],o=n.substring(0,n.length-3)+"~"+s.substring(0,s.length-3);e.firstState?e.baseInfo.timeRange=o:e.baseInfo.timeRange="",e.baseInfo.timeOptions.indexOf(o)<0&&e.baseInfo.timeOptions.push(o)}else e.baseInfo.timeRange="";e.firstState=!1}})},contactDataChange:function(t){},usableTimesChange:function(t){var e=this,i=t.split("~");this.usablePlace=[],this.curUsablePlaceInfo={},this.placeForm.place="";var a=this.baseInfo.year+" "+i[0]+":00",n=this.baseInfo.year+" "+i[1]+":00";Object(s.b)(a,n).then(function(t){if(t.length?e.usablePlace=t:e.usablePlace=[],e.defaultInfo&&e.defaultInfo.areaUseId){var i=e.defaultInfo.beginTime.split(" ")[1],a=e.defaultInfo.endTime.split(" ")[1];i.substring(0,i.length-3)+"~"+a.substring(0,a.length-3)==e.baseInfo.timeRange&&e.usablePlace.push({name:e.defaultInfo.areaName,id:e.defaultInfo.areaUseId,peopleNum:e.defaultInfo.areaPeopleNum,description:e.defaultInfo.areaDescription})}})},placeRadioChange:function(t){var e=!0,i=!1,a=void 0;try{for(var s,o=n()(this.usablePlace);!(e=(s=o.next()).done);e=!0){var r=s.value;t==r.id&&(this.curUsablePlaceInfo=r)}}catch(t){i=!0,a=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw a}}},catchSchool:function(){var t=this;Object(o.n)().then(function(e){e.state&&(t.baseInfo.schoolName=e.data.name)})},setDefaultInfo:function(){var t=this;if(this.defaultInfo){var e=this.defaultInfo;if(this.baseInfo={id:e.id,title:e.title,schoolName:e.schoolName,areaType:e.areaType?e.areaType:"isAllow",areaRequirement:e.areaRequirement,areaDetail:e.areaDetail,addressDetail:e.addressDetail,timeRange:"",areaExplain:e.areaExplain,timeOptions:[]},"isAllow"==e.areaType||"COMPANY_CHOOSE"!=e.areaType){var i=e.beginTime.split(" ")[1],a=e.endTime.split(" ")[1];this.$set(this.baseInfo,"startDate",e.beginTime.split(" ")[0]),this.$set(this.baseInfo,"startTime",[i.substring(0,i.length-3),a.substring(0,a.length-3)]),this.$set(this.baseInfo,"reciveTime",[e.resumeReceiveBeginTime.split(" ")[0],e.resumeReceiveEndTime.split(" ")[0]]),"COMPANY"==e.createType&&Object(o.f)().then(function(i){i.state&&(t.areaTypeList=i.data,e.areaCategory?t.$set(t.baseInfo,"areaCategory",e.areaCategory+""):t.$set(t.baseInfo,"areaCategory",""))})}if("COMPANY_CHOOSE"==e.areaType){var n=e.beginTime.split(" ")[1],s=e.endTime.split(" ")[1];this.firstState=!0,this.$set(this.baseInfo,"year",e.beginTime.split(" ")[0]),this.dateChange(e.beginTime.split(" ")[0]),this.usableTimesChange(n.substring(0,n.length-3)+"~"+s.substring(0,s.length-3)),this.$set(this.baseInfo,"timeRange",n.substring(0,n.length-3)+"~"+s.substring(0,s.length-3)),this.baseInfo.timeOptions.push(this.baseInfo.timeRange),this.$set(this.placeForm,"place",e.areaUseId),this.curUsablePlaceInfo={id:e.areaUseId,name:e.areaName,peopleNum:e.areaPeopleNum,description:e.areaDescription},this.firstState=!0,this.$set(this.placeForm,"reciveTime",[e.resumeReceiveBeginTime.split(" ")[0],e.resumeReceiveEndTime.split(" ")[0]])}}}},created:function(){this.catchSchool(),this.setDefaultInfo(),this.getUsableDate(),"COMPANY"==this.loginType.loginType&&this.catchAreaTypeList()}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"baseInfo"}},[i("div",{staticClass:"baseInfo"},[t._m(0),t._v(" "),"COMPANY"==t.loginType.loginType||t.defaultInfo?i("div",{staticClass:"baseInfoForm"},[i("el-form",{ref:"baseInfoForm",attrs:{model:t.baseInfo,rules:t.baseInfoRules,"label-width":"170px"}},[i("el-form-item",{attrs:{prop:"title",label:"宣讲会标题："}},[i("el-input",{model:{value:t.baseInfo.title,callback:function(e){t.$set(t.baseInfo,"title",e)},expression:"baseInfo.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"所在学校："}},[i("el-input",{model:{value:t.baseInfo.schoolName,callback:function(e){t.$set(t.baseInfo,"schoolName",e)},expression:"baseInfo.schoolName"}})],1),t._v(" "),t.placeRule?[t.defaultInfo&&"COMPANY"==t.defaultInfo.createType||!t.defaultInfo&&"COMPANY"==t.loginType.loginType?i("el-form-item",{staticClass:"w100",attrs:{label:"场地类型：",prop:"areaType"}},[i("el-radio-group",{on:{change:t.areaTypeChange},model:{value:t.baseInfo.areaType,callback:function(e){t.$set(t.baseInfo,"areaType",e)},expression:"baseInfo.areaType"}},["COMPANY_CHOOSE"==t.placeRule.allocationScheme||t.defaultInfo&&"COMPANY_CHOOSE"==t.defaultInfo.areaType?i("el-radio",{attrs:{label:"COMPANY_CHOOSE"}},[t._v("选择可用场地")]):t._e(),t._v(" "),1==t.placeRule.isAllow||"isAllow"==t.baseInfo.areaType?i("el-radio",{attrs:{label:"isAllow"}},[t._v("自行联系")]):t._e(),t._v(" "),"ADMIN_ASSIGNMENT"==t.placeRule.allocationScheme||t.defaultInfo&&"ADMIN_ASSIGNMENT"==t.defaultInfo.areaType?i("el-radio",{attrs:{label:"ADMIN_ASSIGNMENT"}},[t._v("管理员分配场地")]):t._e()],1)],1):t._e()]:t._e(),t._v(" "),"ADMIN_ASSIGNMENT"==t.baseInfo.areaType||t.defaultInfo&&t.defaultInfo.areaExplain?i("div",{staticClass:"areaExplain"},[i("el-collapse",{attrs:{accordion:""}},[i("el-collapse-item",[i("template",{slot:"title"},[i("span",{staticClass:"title"},[i("i",{staticClass:"header-icon el-icon-info"}),i("em",[t._v("宣讲会场地说明：")])])]),t._v(" "),i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.placeRule.areaExplain)}})],2)],1)],1):t._e(),t._v(" "),"isAllow"==t.baseInfo.areaType||t.defaultInfo&&"COMPANY"!=t.defaultInfo.createType?i("el-form-item",{attrs:{label:"场地：",prop:"areaDetail"}},[i("el-input",{model:{value:t.baseInfo.areaDetail,callback:function(e){t.$set(t.baseInfo,"areaDetail",e)},expression:"baseInfo.areaDetail"}})],1):t._e(),t._v(" "),"ADMIN_ASSIGNMENT"==t.baseInfo.areaType&&"COMPANY"==t.loginType.loginType||t.defaultInfo&&"COMPANY"==t.defaultInfo.createType&&"ADMIN_ASSIGNMENT"==t.baseInfo.areaType?i("el-form-item",{staticClass:"w100",attrs:{label:"场地要求："}},[i("el-input",{attrs:{placeholder:"请填入场地、时间要求等",type:"textarea",rows:"4",resize:"none"},model:{value:t.baseInfo.areaRequirement,callback:function(e){t.$set(t.baseInfo,"areaRequirement",e)},expression:"baseInfo.areaRequirement"}})],1):t._e(),t._v(" "),"ADMIN_ASSIGNMENT"==t.baseInfo.areaType&&"COMPANY"==t.loginType.loginType||t.defaultInfo&&"COMPANY"==t.defaultInfo.createType&&"ADMIN_ASSIGNMENT"==t.baseInfo.areaType?i("el-form-item",{attrs:{label:"场地类别",prop:"areaCategory"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择场地类别"},model:{value:t.baseInfo.areaCategory,callback:function(e){t.$set(t.baseInfo,"areaCategory",e)},expression:"baseInfo.areaCategory "}},t._l(t.areaTypeList,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1):t._e(),t._v(" "),"COMPANY_CHOOSE"!=t.baseInfo.areaType?i("el-form-item",{attrs:{prop:"reciveTime",label:"简历接收时间："}},[i("el-date-picker",{attrs:{type:"daterange",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.baseInfo.reciveTime,callback:function(e){t.$set(t.baseInfo,"reciveTime",e)},expression:"baseInfo.reciveTime"}})],1):t._e(),t._v(" "),"COMPANY_CHOOSE"==t.baseInfo.areaType?i("el-form-item",{staticClass:"w100"},[i("span",{attrs:{slot:"label"},slot:"label"},[i("em",{staticStyle:{color:"#d25050"}},[t._v("*")]),t._v("宣讲会时间：\n          ")]),t._v(" "),i("div",{staticClass:"dateBox"},[i("el-date-picker",{key:"rangeDate",attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions},on:{change:t.dateChange},model:{value:t.baseInfo.year,callback:function(e){t.$set(t.baseInfo,"year",e)},expression:"baseInfo.year"}}),t._v(" "),i("el-select",{attrs:{disabled:!t.baseInfo.timeOptions.length,placeholder:"请选择时间段"},on:{change:t.usableTimesChange},model:{value:t.baseInfo.timeRange,callback:function(e){t.$set(t.baseInfo,"timeRange",e)},expression:"baseInfo.timeRange"}},t._l(t.baseInfo.timeOptions,function(t,e){return i("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1)]):t._e(),t._v(" "),"ADMIN_ASSIGNMENT"==t.baseInfo.areaType||"isAllow"==t.baseInfo.areaType?i("el-form-item",{staticClass:"w100"},[i("span",{attrs:{slot:"label"},slot:"label"},[i("em",{staticStyle:{color:"#d25050"}},[t._v("*")]),t._v("宣讲会时间：\n            ")]),t._v(" "),i("div",{staticClass:"selfcontact"},[i("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:t.baseInfo.startDate,callback:function(e){t.$set(t.baseInfo,"startDate",e)},expression:"baseInfo.startDate"}}),t._v(" "),i("el-time-picker",{attrs:{"is-range":"","value-format":"HH:mm",format:"HH:mm","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},on:{change:t.contactDataChange},model:{value:t.baseInfo.startTime,callback:function(e){t.$set(t.baseInfo,"startTime",e)},expression:"baseInfo.startTime"}})],1)]):t._e()],2)],1):t._e(),t._v(" "),"COMPANY"==t.loginType.loginType||t.defaultInfo?t._e():i("div",{staticClass:"baseInfoForm"},[i("el-form",{ref:"baseInfoForm",attrs:{model:t.baseInfo,rules:t.baseInfoRules,"label-width":"170px"}},[i("el-form-item",{attrs:{prop:"title",label:"宣讲会标题："}},[i("el-input",{model:{value:t.baseInfo.title,callback:function(e){t.$set(t.baseInfo,"title",e)},expression:"baseInfo.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"所在学校："}},[i("el-input",{model:{value:t.baseInfo.schoolName,callback:function(e){t.$set(t.baseInfo,"schoolName",e)},expression:"baseInfo.schoolName"}})],1),t._v(" "),i("el-form-item",{staticClass:"w100"},[i("span",{attrs:{slot:"label"},slot:"label"},[i("em",{staticStyle:{color:"#d25050"}},[t._v("*")]),t._v("宣讲会时间：\n            ")]),t._v(" "),i("div",{staticClass:"selfcontact"},[i("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:t.baseInfo.startDate,callback:function(e){t.$set(t.baseInfo,"startDate",e)},expression:"baseInfo.startDate"}}),t._v(" "),i("el-time-picker",{attrs:{"is-range":"","value-format":"HH:mm",format:"HH:mm","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},on:{change:t.contactDataChange},model:{value:t.baseInfo.startTime,callback:function(e){t.$set(t.baseInfo,"startTime",e)},expression:"baseInfo.startTime"}})],1)]),t._v(" "),i("el-form-item",{attrs:{label:"场地：",prop:"areaDetail"}},[i("el-input",{model:{value:t.baseInfo.areaDetail,callback:function(e){t.$set(t.baseInfo,"areaDetail",e)},expression:"baseInfo.areaDetail"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"reciveTime",label:"简历接收时间："}},[i("el-date-picker",{attrs:{type:"daterange",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.baseInfo.reciveTime,callback:function(e){t.$set(t.baseInfo,"reciveTime",e)},expression:"baseInfo.reciveTime"}})],1)],1)],1)]),t._v(" "),"COMPANY_CHOOSE"==t.baseInfo.areaType?i("div",{staticClass:"placeInfo"},[i("div",{staticClass:"placeInfoForm"},[t._m(1),t._v(" "),i("div",{staticClass:"placeInfoForm"},[i("el-form",{attrs:{model:t.placeForm,rules:t.placeFormRule,"label-width":"170px"}},[t.baseInfo.timeRange?i("el-form-item",{staticClass:"w100",attrs:{prop:"place",label:"场地："}},[i("el-radio-group",{model:{value:t.placeForm.place,callback:function(e){t.$set(t.placeForm,"place",e)},expression:"placeForm.place"}},t._l(t.usablePlace,function(e,a){return i("el-radio",{key:a,attrs:{label:e.id},on:{change:t.placeRadioChange}},[t._v(t._s(e.name))])}),1),t._v(" "),t.placeForm.place?i("div",{staticClass:"usablePlace"},[i("em"),t._v(" "),i("h2",[t._v("可容纳人数："+t._s(t.curUsablePlaceInfo.peopleNum))]),t._v(" "),i("h2",{domProps:{innerHTML:t._s("场地说明："+t.curUsablePlaceInfo.description)}})]):t._e()],1):t._e(),t._v(" "),i("el-form-item",{attrs:{prop:"reciveTime",label:"简历接收时间："}},[i("el-date-picker",{attrs:{type:"daterange",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.placeForm.reciveTime,callback:function(e){t.$set(t.placeForm,"reciveTime",e)},expression:"placeForm.reciveTime"}})],1)],1)],1)])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title clearfix"},[e("h1",[e("span",[e("em"),this._v(" "),e("i",[this._v("基本信息")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title clearfix"},[e("h1",[e("span",[e("em"),this._v(" "),e("i",[this._v("场地信息")])])])])}]};var c=i("C7Lr")(r,l,!1,function(t){i("RgB4"),i("0UIA")},"data-v-1142bcaa",null);e.a=c.exports},xuiI:function(t,e){},xwF1:function(t,e,i){"use strict";i.d(e,"c",function(){return o}),i.d(e,"d",function(){return r}),i.d(e,"b",function(){return l}),i.d(e,"a",function(){return c});var a=i("rVsN"),n=i.n(a),s=i("C331"),o=function(t){var e="/api/employment/examination/getDetails?id="+t;return new n.a(function(t,i){Object(s.e)({url:e,type:"get",success:function(e){t(e)},error:function(t){i(t)}})})},r=function(t){return new n.a(function(e,i){Object(s.e)({url:"/api/employment/examination/recall?id="+t,type:"post",success:function(t){t.state&&e(t)},error:function(t){i(t)}})})},l=function(t){return new n.a(function(e,i){Object(s.e)({url:"/api/employment/manage/examination/getDetail?id="+t,type:"get",success:function(t){t.state&&e(t)},error:function(t){i(t)}})})},c=function(t,e,i){return new n.a(function(a,n){Object(s.e)({url:"/api/employment/manage/examination/setAssistant",type:"post",data:{ids:t,assistantName:e,assistantPhone:i},success:function(t){t.state&&a(t)},error:function(t){n(t)}})})}},y0ro:function(t,e,i){"use strict";i("C331");e.a={data:function(){return{curRoute:"allStaff",importParams:{parentPageTitle:"",downloadTemplateUrl:"",downloadErrorTemplateUrl:"/formEngine/tables/import-data",checkTemplateUrl:"/apartment/users/batch/excel",templateName:"批量导入模板",importBtnType:[{url:"/formEngine/tables/import-data",method:"get",isShowBtn:!0,name:"批量导入",success:function(t){}}]}}},methods:{quickAddRecord:function(){this.curRoute="importPage"}}}},zFav:function(t,e,i){"use strict";var a=i("N0v8"),n=i("A1wG"),s=i("RFLz"),o=i("hxZu"),r=i("Y3Xi"),l=i("kCOx"),c=i("LGxb"),u=Object.prototype.toString;function d(t){if(!(this instanceof d))return new d(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=a.inflateInit2(this.strm,e.windowBits);if(i!==o.Z_OK)throw new Error(r[i]);if(this.header=new c,a.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=s.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=a.inflateSetDictionary(this.strm,e.dictionary))!==o.Z_OK))throw new Error(r[i])}function p(t,e){var i=new d(e);if(i.push(t,!0),i.err)throw i.msg||r[i.err];return i.result}d.prototype.push=function(t,e){var i,r,l,c,d,p=this.strm,h=this.options.chunkSize,m=this.options.dictionary,_=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?p.input=s.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new n.Buf8(h),p.next_out=0,p.avail_out=h),(i=a.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(i=a.inflateSetDictionary(this.strm,m)),i===o.Z_BUF_ERROR&&!0===_&&(i=o.Z_OK,_=!1),i!==o.Z_STREAM_END&&i!==o.Z_OK)return this.onEnd(i),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&i!==o.Z_STREAM_END&&(0!==p.avail_in||r!==o.Z_FINISH&&r!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(p.output,p.next_out),c=p.next_out-l,d=s.buf2string(p.output,l),p.next_out=c,p.avail_out=h-c,c&&n.arraySet(p.output,p.output,l,c,0),this.onData(d)):this.onData(n.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(_=!0)}while((p.avail_in>0||0===p.avail_out)&&i!==o.Z_STREAM_END);return i===o.Z_STREAM_END&&(r=o.Z_FINISH),r===o.Z_FINISH?(i=a.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===o.Z_OK):r!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),p.avail_out=0,!0)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=d,e.inflate=p,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},e.ungzip=p},zR28:function(t,e,i){"use strict";var a=i("aA9S"),n=i.n(a),s=i("lC5x"),o=i.n(s),r=i("J0Oq"),l=i.n(r);e.a={data:function(){return{timeRangePickerOptions:{},applyTimeRangePickerOptions:{}}},created:function(){var t=this;return l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.initTimeLimit();case 1:case"end":return e.stop()}},e,t)}))()},methods:{initTimeLimit:function(){var t=this;n()(this.timeRangePickerOptions,{disabledDate:function(e){var i=t.form.applyTimeRange&&t.form.applyTimeRange[1];return!!i&&e<new Date(i)}}),n()(this.applyTimeRangePickerOptions,{disabledDate:function(e){var i=t.form.timeRange&&t.form.timeRange[0];return!!i&&e>new Date(i)}})}}}},zY0d:function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"c",function(){return r}),i.d(e,"b",function(){return l});var a=i("rVsN"),n=i.n(a),s=i("C331"),o=function(t){return new n.a(function(e,i){Object(s.e)({url:"/api/employment/area/getAreaRuleList?type="+t,type:"get",success:function(t){t.state&&e(t.data)},error:function(t){i(t)}})})},r=function(t){var e="/api/employment/area/getFreeAreaDateTimeList?date="+t;return new n.a(function(t,i){Object(s.e)({url:e,type:"get",success:function(e){e.state&&t(e.data)},error:function(t){i(t)}})})},l=function(t,e){var i="/api/employment/area/getAreaByTimeSpace?beginTime="+t+"&endTime="+e;return new n.a(function(t,e){Object(s.e)({url:i,type:"get",success:function(e){e.state&&t(e.data)},error:function(t){e(t)}})})}}});