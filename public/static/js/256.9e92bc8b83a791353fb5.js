webpackJsonp([256],{KU67:function(t,e){},g2op:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("lC5x"),i=n.n(a),s=n("J0Oq"),o=n.n(s),r=n("IwLe"),c=n("VDkK"),d=n("T6UY"),l=n("C6fk"),u=n("Se9A"),p=n("N9Ox"),f=n("fSJ2"),m=n("p+qa"),w=n("t7Ya"),b=(Number,String,Object,Boolean,u.a,p.a,r.a,c.a,d.a,l.a,{props:{id:Number,dcwName:String,props:Object,fromList:Boolean},components:{ModuleContainer:u.a,ModuleLoader:p.a,BaseInfo:r.a,StandInfo:c.a,StandUnit:d.a,UnitApplyDcw:l.a},data:function(){return{navList:[{route:"/recruitmentInfoApply",title:"招聘职位"},{route:"/techinList2Index",title:"宣讲会"},{route:"/student/doubleChooseWill/list",title:"双选会"},{route:"/student/onlineJobFair/list",title:"网招会"}],curRoute:"/student/doubleChooseWill/list",loading:!0,dcw:null,standUnitId:null,page:"DETAIL",baseInfoRules:{name:{hidden:!0},applyTime:{hidden:!0}},standInfoRules:{chooseType:{hidden:!0}},myUnit:null,isMyUnitDisabled:!0}},computed:{},created:function(){var t=this;return o()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initDcw();case 2:t.initMyUnit(),t.initMyUnitDisabled(),t.initApplyStatus(),t.loading=!1;case 6:case"end":return e.stop()}},e,t)}))()},methods:{addBread:function(t){this.$emit("toSomePage",{path:t.route})},initDcw:function(){var t=this;return o()(i.a.mark(function e(){var n,a,s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.dcw.getOpenDcw(t.id||t.props.id);case 2:n=e.sent,a=n.state,s=n.message,o=n.data,a?t.dcw=w.a.fromApi(o):t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},initMyUnit:function(){var t=this;return o()(i.a.mark(function e(){var n,a,s,o,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.k)();case 2:n=e.sent,a=n.state,s=n.message,o=n.data,r=n.code,a?t.myUnit=o:"41004"!==r&&t.$toast(s);case 8:case"end":return e.stop()}},e,t)}))()},initMyUnitDisabled:function(){var t=this;return o()(i.a.mark(function e(){var n,a,s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.c)();case 2:n=e.sent,a=n.state,s=n.message,o=n.data,a?t.isMyUnitDisabled=!!o:"41004"!==code&&t.$toast(s);case 7:case"end":return e.stop()}},e,t)}))()},initApplyStatus:function(){var t=this;return o()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.dcw.applied=t.dcw.standUnits.some(function(e){return e.unitId===t.myUnit.companyId}),!t.dcw.applied){e.next=3;break}return e.abrupt("return");case 3:t.dcw.applied=["0","1","3","4"].includes(t.dcw.applyStatus+"");case 4:case"end":return e.stop()}},e,t)}))()},toApply:function(){this.page="APPLY"},toMyDcw:function(){this.$router.push({name:"employment",params:{toPage:"/unit/doubleChooseWill/list"}})},showStandUnit:function(t){this.standUnitId=t.id,this.page="STAND_UNIT"},backToHomePage:function(){this.$emit("toSomePage","/index")},back:function(){this.fromList?this.$emit("back-to-list"):this.backToHomePage()}}}),v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"studentDcwDetails"}},["DETAIL"===t.page?n("div",[n("div",{staticClass:"module-container"},[n("el-button",{staticStyle:{color:"#666"},attrs:{type:"text",icon:"el-icon-back"},on:{click:t.back}},[t._v("返回")])],1),t._v(" "),n("div",{staticClass:"page-title"},[t._v("\n      "+t._s("双选会名称："+(t.dcwName||t.props.name||t.dcw.baseInfo.name))+"\n    ")]),t._v(" "),t.loading?n("module-loader",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]}):n("div",{staticClass:"module-container"},[n("base-info",{attrs:{rules:t.baseInfoRules},model:{value:t.dcw.baseInfo,callback:function(e){t.$set(t.dcw,"baseInfo",e)},expression:"dcw.baseInfo"}}),t._v(" "),n("stand-info",{attrs:{rules:t.standInfoRules},model:{value:t.dcw.standInfo,callback:function(e){t.$set(t.dcw,"standInfo",e)},expression:"dcw.standInfo"}}),t._v(" "),n("module-container",{attrs:{inline:""}},[n("div",{staticClass:"stand-units"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dcw.standUnits}},[n("el-table-column",{attrs:{prop:"stand.name",label:"展位号",width:"80"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"用人单位",width:"260"}}),t._v(" "),n("el-table-column",{attrs:{prop:"typeName",label:"单位性质",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"positionsCount",label:"职位总数",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"opt",label:"操作",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.showStandUnit(e.row)}}},[t._v("查看")])]}}],null,!1,1199398806)})],1)],1)]),t._v(" "),t.dcw&&!t.dcw.applied&&t.dcw.isApplying()&&!t.isMyUnitDisabled?n("module-container",{attrs:{actions:""}},[n("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.toApply}},[t._v("申请")])],1):t._e()],1)],1):"STAND_UNIT"===t.page?n("div",[n("stand-unit",{attrs:{dcw:t.dcw,standUnitId:t.standUnitId,"only-look":""},on:{"back-to-detail":function(e){t.page="DETAIL"}}})],1):"APPLY"===t.page?n("div",[n("unit-apply-dcw",{attrs:{id:t.dcw.id,"dcw-name":t.dcw.baseInfo.name},on:{"back-to-list":function(e){t.page="DETAIL"},"to-my-dcw":t.toMyDcw}})],1):t._e()])},staticRenderFns:[]};var h=n("C7Lr")(b,v,!1,function(t){n("KU67")},null,null);e.default=h.exports}});