webpackJsonp([41],{"0xd0":function(a,t,e){"use strict";(function(a){var i=e("C331");t.a={props:{imgPath:{default:"school"},imgType:{default:1},background:{default:null}},components:{},data:function(){return{selectImageBase64:"",currentIcon:{imgPath:"school",imgType:1,background:null},tabInfo:{list:[],index:0},choicenessList:[],backgroundList:[],iconList:["business","assignment","school","person_pin_circle","person_pin","people","local_library","tag_faces","favorite"],saasIconList:["road","book","camera","idcard","tuition","bankcard","list","text","help","layer","package","cap","letter","calendar","menu","menu2","menu3","apply","info","rightcard","drippower","bulb","record","direction","person","envelope","reduce","socialist","star","assets","notebook","location","purse","remark","statisticsbar","building","geography","rotate","manlove","medal","pick","purse2","free","tag","menudone","travel","trophy","medal2","question","excellent","search"]}},computed:{},watch:{},created:function(){this.backgroundList=[{id:0,background:"linear-gradient(-135deg, #3F87E7 0%, #377EEB 100%)"},{id:1,background:"linear-gradient(-135deg, #F4A23F 0%, #F4A441 100%)"},{id:2,background:"linear-gradient(-135deg, #EF5E36 0%, #EF5E36 100%)"},{id:3,background:"linear-gradient(-135deg, #59CAAD 0%, #59C9AC 100%)"},{id:4,background:"linear-gradient(-135deg, #8489D8  0%, #888ACA 100%)"},{id:5,background:"linear-gradient(-135deg, #51B590 0%, #51B590 100%)"},{id:6,background:"linear-gradient(-135deg, #CEA44D 0%, #E0C37A 100%)"}],this.iconList=[{id:0,name:"school"},{id:1,name:"accessibility"},{id:2,name:"account_balance"},{id:3,name:"account_balance_wallet"},{id:4,name:"account_circle"},{id:5,name:"alarm"},{id:6,name:"assignment"},{id:7,name:"book"},{id:8,name:"build"},{id:9,name:"description"},{id:10,name:"explore"},{id:11,name:"extension"},{id:12,name:"face"},{id:13,name:"favorite"},{id:14,name:"flight_land"},{id:15,name:"flight_takeoff"},{id:16,name:"get_app"},{id:17,name:"grade"},{id:18,name:"language"},{id:19,name:"launch"},{id:20,name:"loyalty"},{id:21,name:"perm_contact_calendar"},{id:22,name:"receipt"},{id:23,name:"question_answer"},{id:24,name:"restore"},{id:25,name:"room"},{id:26,name:"schedule"},{id:27,name:"search"},{id:28,name:"shopping_cart"},{id:29,name:"swap_horiz"},{id:30,name:"theaters"},{id:31,name:"update"},{id:32,name:"verified_user"},{id:33,name:"work"},{id:34,name:"visibility"},{id:35,name:"equalizer"},{id:36,name:"business"},{id:37,name:"call"},{id:38,name:"chat"},{id:39,name:"email"},{id:40,name:"create"},{id:41,name:"flag"},{id:42,name:"save"},{id:43,name:"link"},{id:44,name:"send"},{id:45,name:"devices"},{id:46,name:"attach_file"},{id:47,name:"format_quote"},{id:48,name:"cloud"},{id:49,name:"folder"},{id:50,name:"computer"},{id:51,name:"headset"},{id:52,name:"security"},{id:53,name:"sim_card"},{id:54,name:"watch"},{id:55,name:"add_a_photo"},{id:56,name:"camera_alt"},{id:57,name:"directions_railway"},{id:58,name:"directions_bike"},{id:59,name:"local_activity"},{id:60,name:"directions_walk"},{id:61,name:"local_dining"},{id:62,name:"local_hospital"},{id:63,name:"local_library"},{id:64,name:"event_note"},{id:65,name:"map"},{id:66,name:"navigation"},{id:67,name:"wifi"},{id:68,name:"ac_unit"},{id:69,name:"fitness_center"},{id:70,name:"pool"},{id:71,name:"cake"},{id:72,name:"group"},{id:73,name:"location_city"},{id:74,name:"notifications"},{id:75,name:"person"},{id:76,name:"poll"},{id:77,name:"public"},{id:78,name:"share"},{id:79,name:"whatshot"}],this.choicenessList=[{id:0,title:"迎新系统",name:"iconic_ic_welcome"},{id:1,title:"家校通",name:"iconic_ic_ijx"},{id:2,title:"i学习",name:"iconic_ic_istudy"},{id:3,title:"课堂考勤",name:"iconic_ic_attendance"},{id:4,title:"就业系统",name:"iconic_ic_employment"},{id:5,title:"画像系统",name:"iconic_ic_huaxiang"},{id:6,title:"综测",name:"iconic_ic_appraisal"},{id:7,title:"画像系统",name:"iconic_ic_portrayal"},{id:8,title:"HR",name:"iconic_ic_hr_b"},{id:9,title:"场地签到",name:"iconic_ic_signin"},{id:10,title:"图书馆",name:"iconic_ic_library"},{id:11,title:"访客预约",name:"iconic_ic_fangkeyuyuefuben"},{id:12,title:"预警系统",name:"iconic_ic_warning"},{id:13,title:"离校系统",name:"iconic_ic_leave"},{id:14,title:"公寓系统",name:"iconic_ic_apartment_b"},{id:15,title:"学工系统",name:"iconic_ic_classroom"},{id:16,title:"第二课堂",name:"iconic_ic_dr"},{id:17,title:"公寓系统",name:"iconic_ic_apartment"},{id:18,title:"缴费大厅",name:"iconic_ic_payment"},{id:19,title:"HR",name:"iconic_ic_hr"},{id:20,title:"OA",name:"iconic_ic_oa"},{id:21,title:"心理预约",name:"iconic_ic_mental"},{id:22,title:"教室预约",name:"iconic_ic_classroom-"}]},mounted:function(){this.currentIcon={imgPath:this.imgPath,imgType:this.imgType,background:this.background}},methods:{onSelectImage:function(){var a=event.target.files[0],t=this;if(a){event.target.value="";var e=new FileReader;e.onloadend=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){t.$croppa({file:a,width:120,height:120,scale:"",sure:function(a){if(t.currentIcon.imgPath){var e="api/storage/files/"+t.currentIcon.imgPath;Object(i.d)(e,{},"post").then(function(a){})}Object(i.d)("/api/storage/base64Images",{data:a}).then(function(e){var i=e.data.hash;t.currentIcon.imgPath=i,t.$nextTick(function(){t.currentIcon.imgPath=i}),t.$emit("changeIcon",t.currentIcon),t.selectImageBase64=a})}})}},e.readAsDataURL(a)}},selectImage:function(){this.currentIcon.imgType=4,this.currentIcon.background="transparent",a("#customIcon").click(),this.$emit("changeIcon",this.currentIcon)},_selectIcon:function(a,t){this.currentIcon.imgPath=a.name,this.currentIcon.imgType=t||1,this.$emit("changeIcon",this.currentIcon)},_selectBackground:function(a){this.currentIcon.background=a.background,this.$emit("changeIcon",this.currentIcon)},selectTab:function(a){}}}}).call(t,e("qqHy"))},"5wWa":function(a,t,e){"use strict";(function(a){e("C331"),e("6DHc").a}).call(t,e("qqHy"))},"6DHc":function(a,t,e){"use strict";e("lwEr");var i=e("0xd0"),n={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"selectIcon"},[i("div",{staticClass:"select-tab"},[i("div",{staticClass:"tab-item",class:{on:3==a.currentIcon.imgType},on:{click:function(t){a.currentIcon.imgType=3,a.currentIcon.imgPath=""}}},[a._v("\n      精选图标\n    ")]),a._v(" "),i("div",{staticClass:"tab-item",class:{on:3!=a.currentIcon.imgType&&4!=a.currentIcon.imgType},on:{click:function(t){a.currentIcon.imgType=1,a.currentIcon.imgPath="school"}}},[a._v("\n      自定义图标\n    ")]),a._v(" "),i("div",{staticClass:"tab-item",class:{on:4==a.currentIcon.imgType},on:{click:function(t){a.currentIcon.imgType=4,a.currentIcon.imgPath=""}}},[a._v("\n      上传图标\n    ")])]),a._v(" "),3==a.currentIcon.imgType?i("div",{staticClass:"choiceness"},a._l(a.choicenessList,function(t,e){return i("div",{key:e,staticClass:"box_flex column ",on:{click:function(e){return a._selectIcon(t,3)}}},[i("svg",{staticClass:"icon choiceness-icon",class:{active:3==a.currentIcon.imgType&&a.currentIcon.imgPath===t.name},attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#"+t.name}})]),a._v(" "),i("div",{staticClass:"icon-title"},[a._v(a._s(t.title))])])}),0):3!=a.currentIcon.imgType&&4!=a.currentIcon.imgType?i("div",{staticClass:"custom-icon"},[i("div",{staticClass:"background-container"},a._l(a.backgroundList,function(t,e){return i("span",{key:e,staticClass:"background",style:{background:t.background},on:{click:function(e){return a._selectBackground(t)}}},[a.currentIcon.background===t.background?i("i",{staticClass:"maticon icon-done",domProps:{innerHTML:a._s(a.icons("done"))}},[a._v("done")]):a._e()])}),0),a._v(" "),i("div",{staticClass:"icon-list"},[a._l(a.iconList,function(t,e){return i("i",{key:e,staticClass:"maticon",class:{active:1==a.currentIcon.imgType&&a.currentIcon.imgPath===t.name},domProps:{innerHTML:a._s(a.icons(t.name))},on:{click:function(e){return a._selectIcon(t)}}},[a._v(a._s(t.name))])}),a._v(" "),a._l(a.saasIconList,function(t,e){return i("i",{key:e,class:{active:2==a.currentIcon.imgType&&a.currentIcon.imgPath===t},on:{click:function(e){return a._selectIcon({name:t},2)}}},[i("span",{staticClass:"saasicon",class:["saasicon-"+t+"-black"]})])})],2)]):i("div",{staticClass:"upload"},[4==a.currentIcon.imgType&&a.currentIcon.imgPath?i("div",{staticClass:"add-icon flex_center",staticStyle:{padding:"0"},on:{click:a.selectImage}},[i("img",{staticClass:"upload-img",attrs:{src:"/downloads/storage/images/"+a.currentIcon.imgPath,alt:""}})]):i("div",{staticClass:"add-icon flex_center",on:{click:a.selectImage}},[i("img",{staticClass:"add",attrs:{src:e("hw6C"),alt:""}})])]),a._v(" "),i("input",{staticStyle:{display:"none"},attrs:{id:"customIcon",type:"file"},on:{change:function(t){return a.onSelectImage()}}})])},staticRenderFns:[]};var c=function(a){e("qZgA")},s=e("C7Lr")(i.a,n,!1,c,"data-v-772bb990",null);t.a=s.exports},Nec6:function(a,t){},"TI+r":function(a,t){},apOp:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});e("5wWa");var i=e("bL/v"),n={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"carousel-page"},[e("div",{staticClass:"carousel-wrap"},[e("div",{staticClass:"content text-center"},[e("v-table",{attrs:{title:"系统直通车管理",url:a.url,pagesize:10,columns:a.columns,multiple:!1,order:!0,search:null}},[e("div",{attrs:{slot:"btn-group",role:"group"},slot:"btn-group"},[e("div",{staticClass:"btn-group pull-right "},[e("button",{staticClass:"btn batch-add-btn btn-bgColor-style clearBtnBorder",attrs:{type:"button"},on:{click:function(t){return a.addOrEditSystem("add")}}},[a._v("新增")])])])])],1)])]),a._v(" "),e("v-modal",{attrs:{show:a.showAddView,effect:"fade",width:"600"}},[e("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[e("h5",{staticClass:"modal-title"},[a._v("\n      "+a._s("add"==a.modalType?"新增":"修改")+"\n    ")])]),a._v(" "),e("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[e("el-form",{ref:"positionInfoForm",staticClass:"box_flex column flex_wrap form_wrap",attrs:{model:a.addParams,"label-width":"80px"}},[e("el-form-item",{staticClass:"long_form_item",attrs:{label:"系统名称",required:""}},[e("el-input",{attrs:{type:"input",maxlength:15,placeholder:"请输入15字内的系统名称"},model:{value:a.addParams.name,callback:function(t){a.$set(a.addParams,"name",t)},expression:"addParams.name"}})],1),a._v(" "),e("el-form-item",{staticClass:"long_form_item icon_wrap",attrs:{label:"系统链接",required:""}},[e("el-input",{attrs:{type:"input",placeholder:"请输入"},model:{value:a.addParams.url,callback:function(t){a.$set(a.addParams,"url",t)},expression:"addParams.url"}})],1),a._v(" "),e("el-form-item",{staticClass:"long_form_item icon_wrap",attrs:{label:"选择图标",required:""}},[e("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"input",placeholder:"请输入"},model:{value:a.addParams.imgPath,callback:function(t){a.$set(a.addParams,"imgPath",t)},expression:"addParams.imgPath"}})],1),a._v(" "),a.showAddView?e("div",{staticClass:"long_form_item icon_wrap"},[e("select-icon",{attrs:{imgPath:a.addParams.imgPath,imgType:a.addParams.imgType,background:a.addParams.background},on:{changeIcon:a.changeIcon}})],1):a._e()],1),a._v(" "),e("input",{staticStyle:{display:"none"},attrs:{id:"carouselImgInput",type:"file"},on:{change:function(t){return a.onSelectImage()}}})],1),a._v(" "),e("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[e("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:a.back}},[a._v("取消")]),a._v(" "),e("button",{staticClass:"btn submit-btn",attrs:{type:"button"},on:{click:function(t){return a.save()}}},[a._v("确定")])])]),a._v(" "),e("v-modal",{attrs:{show:a.showSortView,effect:"fade",width:"600"}},[e("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[e("h5",{staticClass:"modal-title"},[a._v("\n      修改排序\n    ")])]),a._v(" "),e("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[e("el-form",{ref:"positionInfoForm",staticClass:"box_flex flex_wrap form_wrap",attrs:{model:a.addParams,"label-width":"180px"}},[e("el-form-item",{staticClass:"long_form_item",attrs:{label:"排序",required:""}},[e("el-input",{attrs:{type:"input",placeholder:"请输入"},model:{value:a.addParams.sort,callback:function(t){a.$set(a.addParams,"sort",t)},expression:"addParams.sort"}})],1)],1)],1),a._v(" "),e("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[e("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(t){a.showSortView=!1}}},[a._v("取消")]),a._v(" "),e("button",{staticClass:"btn submit-btn",attrs:{type:"button"},on:{click:function(t){return a.save()}}},[a._v("确认")])])])],1)},staticRenderFns:[]};var c=function(a){e("i1cR"),e("TI+r"),e("Nec6")},s=e("C7Lr")(i.a,n,!1,c,"data-v-7b0590f6",null);t.default=s.exports},"bL/v":function(a,t,e){"use strict";(function(a){var i=e("C331"),n=e("6DHc");t.a={components:{SelectIcon:n.a},created:function(){this.initTable()},data:function(){return{showSortView:!1,opType:"",highestRak:"",url:"/table-data/siteNavigation",modalType:"add",showAddView:!1,addParams:{fixed:!0,imgPath:"school",imgType:"1",background:null,icon:"",id:0,name:"",sort:0,url:""},timestamp:"",selectImageBase64:"",showTypeModal:!1,searchField:"name",oldParams:{}}},mounted:function(){},methods:{save:function(){var a=this;if(this.addParams.name)if(this.addParams.url)if(this.addParams.imgPath){var t="/api/siteNavigation";"add"!==this.modalType&&(t="/api/siteNavigation/update"),Object(i.d)(t,this.addParams,"post").then(function(t){t.state?(a.$toast(("add"==a.modalType?"新增":"edit"==a.modalType?"编辑":"排序")+"成功！"),a.url=a.url+"?timestamp="+new Date,a.back()):a.$toast(t.message)})}else this.$toast("请选择系统图标");else this.$toast("系统链接必填");else this.$toast("系统名称必填")},onSelectImage:function(a){var t=event.target.files[0],e=this;if(t){event.target.value="";var n=new FileReader;n.onloadend=function(a){var n=new Image;n.src=a.target.result,n.onload=function(){e.$croppa({file:t,width:585,height:223,scale:"",sure:function(a){if(e.addParams.image){var t="api/storage/files/"+e.addParams.image;Object(i.d)(t,{},"post").then(function(a){})}Object(i.d)("/api/storage/base64Images",{data:a}).then(function(t){var i=t.data.hash;e.addParams.image=i,e.$nextTick(function(){e.addParams.image=i}),e.selectImageBase64=a})}})}},n.readAsDataURL(t)}},selectImage:function(){a("#carouselImgInput").click()},initTable:function(){var a=this,t=this;this.columns=[{id:"icon",title:"系统图标",width:200,className:"text-center",hidden:!1,hover:!1,formatter:function(a){var t="";return 3==a.imgType?t='\n              <div class="flex_center" style="padding:10px;">\n                  <svg class="icon choiceness-icon" style="font-size:60px;width:1em;height:1em" aria-hidden="true">\n                    <use xlink:href="#'+a.imgPath+'"></use>\n                  </svg>\n              </div>':4==a.imgType?t='\n              <div class="flex_center" style="padding:10px;">\n                  <img style="width:58px;height:58px;border-radius:16px;" src="/downloads/storage/images/'+a.imgPath+'" alt="">\n              </div>':1==a.imgType?t='\n              <div class="flex_center" style="padding:10px;">\n                  <div\n                    class="maticon_wrap flex_center"\n                    style="width:58px;height:58px;border-radius:16px;background-image:'+(a.background?a.background:"linear-gradient(45deg, #3F87E7 0%, #377EEB 100%)")+'"\n                  >\n                    <i\n                      class="maticon"\n                      :title="'+a.imgPath+'"\n                      v-html="icons('+a.imgPath+')"\n                      style="color:#fff;font-size:38px;"\n                    >'+a.imgPath+"</i>\n                  </div>\n              </div>":2==a.imgType&&(t='\n              <div class="flex_center" style="padding:10px;">\n                  <div\n                    class="maticon_wrap"\n                    style="display:flex;align-items:center;justify-content:center;width:58px;height:58px;border-radius:16px;background-image:'+(a.background?a.background:"linear-gradient(45deg, #3F87E7 0%, #377EEB 100%)")+'"\n                  >\n                    <i\n                      class="maticon app-icon-style theme-icon-application"\n                      style="color:#fff;font-size:38px;"\n                    >\n                      <span class="saasicon-44px saasicon-44px-'+a.imgPath+'"></span>\n                    </i>\n                  </div>\n              </div>'),t}},{id:"name",title:"系统名称",width:300,className:"text-left",hidden:!1},{id:"url",title:"系统链接",width:300,className:"text-left",hidden:!1},{id:"sort",title:"排序位置",className:"text-left",hidden:!1},{id:"opt",title:"操作",className:"text-center",width:"210px",hidden:!1,formatter:function(e,n){return[{tag:"a",text:"排序",className:"opt-btn",callback:function(a,e){t.modalType="sort",t.addParams.url=a.url,t.addParams.name=a.name,t.addParams.sort=a.sort,t.addParams.background=a.background,t.addParams.imgPath=a.imgPath,t.addParams.imgType=a.imgType,t.addParams.id=a.id,t.showSortView=!0}},{tag:"a",text:"编辑",className:"opt-btn",callback:function(a,e){t.addParams.url=a.url,t.addParams.name=a.name,t.addParams.sort=a.sort,t.addParams.background=a.background,t.addParams.imgPath=a.imgPath,t.addParams.imgType=a.imgType,t.addParams.id=a.id,t.addOrEditSystem("edit")}},{tag:"a",text:"删除",className:"opt-btn",callback:function(t,e){confirm("您确定要删除这个系统吗？")&&Object(i.d)("/api/siteNavigation/"+t.id+"/delete",{},"post").then(function(t){t.state?(a.url=a.url+"?timestamp="+new Date,a.$toast("删除成功！")):a.$toast(t.message)})}}]}}]},addOrEditSystem:function(a){this.modalType=a,"add"==a&&(this.addParams={fixed:!0,imgPath:"school",imgType:"1",background:null,icon:"",id:0,name:"",sort:0,url:""}),this.showAddView=!0},changeIcon:function(a){this.addParams.imgPath=a.imgPath,this.addParams.imgType=a.imgType,this.addParams.background=a.background},back:function(){this.showAddView=!1,this.showSortView=!1}}}}).call(t,e("qqHy"))},i1cR:function(a,t){},lwEr:function(a,t,e){"use strict";(function(a){e("C331")}).call(t,e("qqHy"))},qZgA:function(a,t){}});