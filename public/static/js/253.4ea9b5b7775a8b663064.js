webpackJsonp([253],{"2uT5":function(t,a){},"498K":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("3cXf"),e=s.n(i),o=s("kV13"),n=s("C331"),l=s("/tWO");o.default.component("jobApplyForm",l.a);o.default.component("jobApplyForm",l.a);var r={props:{data:{default:null},account:{userId:"",userName:"",type:""}},data:function(){return{curRouter:"jobDetail",jobDetailData:{},positionType:"",userInfo:{},jobDetailType:"apply"}},created:function(){var t=this;this.data.type&&(this.jobDetailType=this.data.type),this.data?(this.jobDetailData=JSON.parse(e()(this.data.data)),Object(n.e)({url:"/api/system/dicts",dataType:"json",type:"get",data:{dictType:"岗位类型"},success:function(a){a.state?a.data&&a.data.forEach(function(a,s){a.value===t.jobDetailData.positionType&&(t.positionType=a.label)}):t.$toast(a.message)}})):this.$toast("获取岗位详情失败")},methods:{applyJob:function(){var t=this.data.data.positionStatus;"CAN_APPLY"===t?(this.curRouter="jobApplyForm",this.userInfo=this.account):"PENDING"===t?this.$toast("您已申请该岗位"):"FULL"===t?this.$toast("无法申请，当前岗位已招满"):"NOT_START"===t?this.$toast("无法申请，还未到开始申请的时间"):"AlREADY_END"===t&&this.$toast("无法申请，当前岗位已过期")},_back:function(){this.curRouter="jobDetail"},_submit:function(t){var a=this;Object(n.e)({url:"/api/pwps/workflow/runtime/applications",dataType:"json",type:"post",data:t.applicationsData,success:function(t){t.state?(a.$toast("操作成功"),a.$nextTick(function(){a.$refreshBread(a.data.lastRoute)}),a.$removeBread(a.data)):"30802"===t.code?a.$toast("您已提交过申请,请勿重复提交"):"30801"===t.code?a.$toast("您已在岗,请勿重复提交"):a.$toast(t.message)}})}}},c={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return"jobDetail"===t.curRouter?s("div",{attrs:{id:"jobDetail"}},[s("div",{staticClass:"jobDetail-header"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"job-name"},[t._v(t._s(t.jobDetailData.positionName))]),t._v(" "),s("div",{staticClass:"job-info"},[t._v(t._s(t.positionType)+"·"+t._s(t.jobDetailData.unit?t.jobDetailData.unit.name:"")+"·负责人："+t._s(t.jobDetailData.manager?t.jobDetailData.manager.name:""))])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("label",{staticClass:"job-wage pull-right"},[t._v(t._s(t.jobDetailData.rewardStandard)+"元/小时")])])])]),t._v(" "),s("div",{staticClass:"jobDetail-body"},[t._m(0),t._v(" "),s("div",{staticClass:"job-description-content"},[s("div",{staticClass:"title"},[t._v("岗位职责：")]),t._v(" "),s("div",{domProps:{innerHTML:t._s(t.jobDetailData.description)}}),t._v(" "),s("div",{staticClass:"title"},[t._v("岗位要求：")]),t._v(" "),s("div",{staticStyle:{"margin-bottom":"33px"},domProps:{innerHTML:t._s(t.jobDetailData.positionRequire)}}),t._v(" "),s("div",{staticClass:"other-title"},[t._v("岗位工作时间段："),s("div",{staticClass:"content"},[t._v(t._s(t.jobDetailData.workingTime))])]),t._v(" "),s("div",{staticClass:"other-title"},[t._v(t._s(t.jobDetailData.isToDifficultyStudent?"仅限困难生申请":""))]),t._v(" "),s("div",{staticClass:"other-title"},[t._v("岗位人数上限："),s("div",{staticClass:"content"},[t._v(t._s(t.jobDetailData.personCount))])])])]),t._v(" "),"apply"===t.jobDetailType?s("div",{staticClass:"jobDetail-footer"},[s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t.applyJob}},[t._v("申请岗位")])])]):t._e()]):s("jobApplyForm",{attrs:{formType:"application",isApply:!0,formDetail:t.jobDetailData,userInfo:t.userInfo},on:{back:t._back,submit:t._submit}})},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"job-description-title"},[this._v("\n      岗位描述\n      "),a("div",{staticClass:"bottom-line"})])}]};var d=s("C7Lr")(r,c,!1,function(t){s("2uT5")},null,null);a.default=d.exports}});