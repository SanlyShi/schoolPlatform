webpackJsonp([9],{"0D/X":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("jCtM");var a=i("zILJ"),s=(i("C331"),a.a,{data:function(){return{tableDataUrl:"/table-data/employment/platform/getPreachMeetingListForStudent",columns:[],loginType:{},curStatus:"list",techinDetails:{},tableData:[]}},components:{techinDetails:a.a},methods:{addBread:function(t){this.$emit("toSomePage",{path:t.route})},back:function(){this.$emit("toSomePage","/index")}},created:function(){var t=this;this.columns=[{id:"title",title:"宣讲会标题",className:"text-left",width:150,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"companyName",title:"单位名称",className:"text-left",width:130,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"timeSpace",title:"宣讲会时间",className:"text-left",width:200,hidden:!1},{id:"areaName",title:"宣讲会场地",className:"text-left",width:100,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"opts",title:"操作",width:50,hidden:!1,formatter:function(e){return[{tag:"a",text:"查看",callback:function(e,i){t.$emit("toSomePage",{path:"/student/techin/detail",props:{id:e.id,curTab:"careerTalk"}})}}]}}]}}),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"techinList2Student"}},[i("div",{staticClass:"techinList col-sm-12 container"},[i("el-button",{staticStyle:{color:"#666"},attrs:{type:"text",icon:"el-icon-back"},on:{click:t.back}},[t._v("返回")]),t._v(" "),i("div",{staticClass:"techinList2Student"},[i("v-table",{ref:"techinList2Student",attrs:{search:!1,url:t.tableDataUrl,order:!0,columns:t.columns,pagesize:"15",idField:"id"}})],1),t._v(" "),"details"==t.curStatus?i("techin-details",{attrs:{loginType:t.loginType,techinDetails:t.techinDetails},on:{backToParent:t.backToParent}}):t._e()],1)])},staticRenderFns:[]};var l=i("C7Lr")(s,n,!1,function(t){i("W1/2"),i("CRJT")},"data-v-31aa184e",null);e.default=l.exports},"13x6":function(t,e){},CRJT:function(t,e){},EPZM:function(t,e){},"W1/2":function(t,e){},zILJ:function(t,e,i){"use strict";var a=i("aA9S"),s=i.n(a),n=i("+iF4"),l=i("VDzf"),o=i("WD6V"),c=i("iAlU"),r=i("xTvN"),d=i("GwEi"),u=i("Y253"),h=i("zY0d"),v=i("jCtM"),_=(i("p+qa"),i("C331")),m=(n.a,l.a,o.a,c.a,r.a,d.a,u.a,{data:function(){return{columnsOfEnroll:[],tabIndex:0,placeRule:{},disabledEditPosition:!0,showDialog:!1,defaultFormInfo:{},editStatus:!1,status:"",statusName:"",showLog:!1,sumarry:"",dataUrl:""}},props:["loginType","techinDetails","data"],computed:{tableData:function(){return this.techinDetails.preachMeetingEnrollMemberDTOList}},methods:{changeTabs:function(t){this.tabIndex=t},downloadTicket:function(){window.location.href="/downloads/employment/manage/preachMeeting/downLoadEnrollMember?id="+this.techinDetails.id},revise:function(){var t=this,e=this.$refs.baseInfoEdit.vali(),i=this.$refs.unitInfoEdit.vali(),a=(this.$refs.positionInfoEdit.tableData,void 0);a="COMPANY"==this.loginType.loginType?"/api/employment/preachMeeting/updatePreachMeeting":"/api/employment/manage/preachMeeting/updatePreachMeeting",e&&i&&(this.$refs.baseInfoEdit.toSubmit(),setTimeout(function(){var e=t.$refs.baseInfoEdit.baseInfo,i=t.$refs.unitInfoEdit.unitForm,n=t.$refs.positionInfoEdit.tableData,l=s()({},e,i);n&&(l.recruitmentPositionVOList=n),l.recruitmentBrief=t.sumarry,Object(_.e)({url:a,type:"post",data:l,success:function(e){e.state?("COMPANY"==t.loginType.loginType?t.$message.success("提交成功"):t.$message.success("修改成功"),t.dataUrl="/api/employment/manage/preachMeeting/getOperationDetailList?id="+t.techinDetails.id+"&time="+(new Date).getTime(),t.$emit("backToParent")):(t.$message.error(e.message),t.$emit("backToParent"))}})},200))},catchPlaceRules:function(){var t=this;Object(h.a)("PREACH_MEETING").then(function(e){e.length&&(t.placeRule=e[0],t.status=t.techinDetails.status,t.statusName=t.techinDetails.statusName)})},closeDialog:function(){this.showDialog=!1},checkPositionDetails:function(t){this.showDialog=!0,this.defaultFormInfo=t},editPositionDetails:function(t){},editForAdmin:function(){this.editStatus=!this.editStatus,this.sumarry=this.techinDetails.recruitmentBrief},reCall:function(){var t=this;Object(v.f)(this.techinDetails.id).then(function(e){e.state?(t.$message.success("撤回成功"),t.statusName="已撤回",t.status=3):t.$message.error(e.message)})},showOpLog:function(){this.showLog=!this.showLog}},components:{baseInfoDetails:n.a,position:l.a,oplog:o.a,addTeachin:c.a,baseInfoEdit:r.a,unitInfoEdit:d.a,positionEdit:u.a},created:function(){this.dataUrl="/api/employment/manage/preachMeeting/getOperationDetailList?id="+this.techinDetails.id+"&time="+(new Date).getTime(),this.catchPlaceRules(),this.columnsOfEnroll=[{id:"studentId",title:"学号",className:"text-left",width:150,hidden:!1},{id:"name",title:"姓名",className:"text-left",width:100,hidden:!1},{id:"grade",title:"年级",className:"text-left",width:100,hidden:!1,formatter:function(t){return t.grade?t.grade+"级":""}},{id:"educationLevel",title:"培养层次",className:"text-left",width:100,hidden:!1},{id:"college",title:"学院",className:"text-left",width:150,hidden:!1},{id:"major",title:"专业",className:"text-left",width:100,hidden:!1},{id:"className",title:"班级",className:"text-left",width:100,hidden:!1},{id:"phone",title:"电话",className:"text-left",width:100,hidden:!1},{id:"registrationTime",title:"报名时间",className:"text-left",width:150,hidden:!1}]}}),p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"techinDetails"}},[t.loginType.isAdmin&&"宣讲会管理"==t.data.title?i("div",{staticClass:"techinTabs"},[i("div",{staticClass:"buttons"},[i("a",{class:{active:0==t.tabIndex},on:{click:function(e){return t.changeTabs(0)}}},[i("span",[t._v("宣讲会信息")])]),i("a",{class:{active:1==t.tabIndex},on:{click:function(e){return t.changeTabs(1)}}},[i("span",[t._v("报名信息")])])])]):t._e(),t._v(" "),0==t.tabIndex?i("div",[i("div",{staticClass:"statusBar box"},[i("p",[i("span",{class:{default:0==t.status,error:2==t.status||5==t.status}},[t._v(t._s(t.statusName))])]),t._v(" "),i("h3",[i("a",{on:{click:t.showOpLog}},[t._v("操作日志")]),t._v(" "),"COMPANY"==t.loginType.loginType?i("div",{staticClass:"pull-right"},[5==t.status||3==t.status||1==t.status?i("a",{on:{click:t.editForAdmin}},[i("i"),i("em",[t._v(t._s(t.editStatus?"取消编辑":"编辑"))])]):t._e()]):t._e(),t._v(" "),"COMPANY"!=t.loginType.loginType?i("div",{staticClass:"pull-right"},[1==t.status||0==t.status?i("a",{on:{click:t.editForAdmin}},[i("i"),i("em",[t._v(t._s(t.editStatus?"取消编辑":"编辑"))])]):t._e()]):t._e()]),t._v(" "),t.loginType.isAdmin?i("div",{staticClass:"signStatus"},[i("i",{class:[t.techinDetails.signInStatus?"success":"fail"]})]):t._e()]),t._v(" "),t.editStatus?t._e():i("div",[i("div",{staticClass:"baseInfo"},[t._m(0),t._v(" "),i("ul",{staticClass:"baseInfoList"},[i("li",[i("span",[t._v("宣讲会标题：")]),t._v(" "),i("i",[t._v(t._s(t.techinDetails.title))])]),t._v(" "),i("li",[i("span",[t._v("所在学校：")]),t._v(" "),i("i",[t._v(t._s(t.techinDetails.schoolName))])]),t._v(" "),i("li",[i("span",[t._v("宣讲会时间：")]),t._v(" "),i("i",[t._v(t._s(t.techinDetails.beginTime+"~"+t.techinDetails.endTime))])]),t._v(" "),i("li",[i("span",[t._v("场地：")]),t._v(" "),i("i",[t._v(t._s(t.techinDetails.areaDetail?t.techinDetails.areaDetail:"管理员分配场地"))])]),t._v(" "),"ADMIN_ASSIGNMENT"==t.techinDetails.areaType&&"COMPANY"==t.techinDetails.createType?i("li",[i("span",[t._v("场地要求：")]),t._v(" "),i("i",[t._v(t._s(t.techinDetails.areaRequirement))])]):t._e(),t._v(" "),t.techinDetails.areaCategoryName?i("li",[i("span",[t._v("场地类别：")]),t._v(" "),i("i",[t._v(t._s(t.techinDetails.areaCategoryName))])]):t._e(),t._v(" "),i("li",[i("span",[t._v("简历接收时间：")]),t._v(" "),t.techinDetails.resumeReceiveBeginTime?i("i",[t._v(t._s(t.techinDetails.resumeReceiveBeginTime.split(" ")[0]+" 至 "+t.techinDetails.resumeReceiveEndTime.split(" ")[0]))]):t._e()]),t._v(" "),"ADMIN_ASSIGNMENT"==t.techinDetails.areaType&&"COMPANY"==t.techinDetails.createType?i("li",{staticClass:"areaExplain"},[i("el-collapse",{attrs:{accordion:""}},[i("el-collapse-item",[i("template",{slot:"title"},[i("span",{staticClass:"title"},[i("em",[t._v("宣讲会场地说明：")])])]),t._v(" "),i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.techinDetails.areaExplain)}})],2)],1)],1):t._e()])]),t._v(" "),i("div",{staticClass:"unitInfo"},[t._m(1),t._v(" "),i("ul",{staticClass:"baseInfoList unitInfoList"},[i("div",[i("li",[i("span",[t._v("单位名称：")]),t._v(" "),i("i",[t._v(t._s(t.techinDetails.companyName))])]),t._v(" "),i("li",[i("span",[t._v("单位性质：")]),t._v(" "),i("i",[t._v(t._s(t.techinDetails.property))])])]),t._v(" "),i("div",[i("li",[i("span",[t._v("单位规模：")]),t._v(" "),i("i",[t._v(t._s(t.techinDetails.scale))])]),t._v(" "),i("li",[i("span",[t._v("邮箱：")]),t._v(" "),i("i",[t._v(t._s(t.techinDetails.email))])])]),t._v(" "),i("div",[i("li",[i("span",[t._v("单位联系人：")]),t._v(" "),i("i",[t._v(t._s(t.techinDetails.contactPeople))])]),t._v(" "),i("li",[i("span",[t._v("电话：")]),t._v(" "),i("i",[t._v(t._s(t.techinDetails.contactPhone))])])]),t._v(" "),i("li",[i("span",[t._v("单位地址：")]),t._v(" "),i("i",[t._v(t._s(t.techinDetails.addressDetail))])]),t._v(" "),i("li",{staticClass:"box"},[i("span",[t._v("单位简介：")]),t._v(" "),i("i",{domProps:{innerHTML:t._s(t.techinDetails.summary)}})])])]),t._v(" "),i("div",{staticClass:"positionList"},[t._m(2),t._v(" "),i("div",{staticClass:"positionTable"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.techinDetails.recruitmentPositionTableDTOList}},[i("el-table-column",{attrs:{width:"100",type:"index",label:"#"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionName",label:"职位名称"}}),t._v(" "),i("el-table-column",{attrs:{label:"职位性质"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s("PRACTICE"==e.row.positionProperty?"实习":"全职"))])]}}],null,!1,2348323164)}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.checkPositionDetails(e.row)}}},[t._v("详情")]),t._v(" "),t.loginType.isAdmin&&t.editStatus?i("el-button",{attrs:{type:"text"},on:{click:function(i){return t.editPositionDetails(e.row)}}},[t._v("删除")]):t._e()]}}],null,!1,26106746)})],1)],1)]),t._v(" "),i("div",{staticClass:"summary"},[i("div",{staticClass:"title"},[t._m(3),t._v(" "),i("div",{staticClass:"content"},[i("p",{domProps:{innerHTML:t._s(t.techinDetails.recruitmentBrief)}})])])])])]):i("div",[i("v-table",{ref:"teachList",attrs:{rows:t.tableData,columns:t.columnsOfEnroll,order:!0,idField:"id",pagesize:"15"}},[i("div",{staticClass:"pull-right",attrs:{slot:"btn-group"},slot:"btn-group"},[t.loginType.isAdmin&&"宣讲会管理"==t.data.title&&t.tableData.length?i("el-button",{staticClass:"custom-btn",attrs:{type:"primary"},on:{click:t.downloadTicket}},[t._v("导出")]):t._e()],1)])],1),t._v(" "),t.editStatus?i("div",[i("base-info-edit",{ref:"baseInfoEdit",attrs:{defaultInfo:t.techinDetails,placeRule:t.placeRule,loginType:t.loginType}}),t._v(" "),i("unit-info-edit",{ref:"unitInfoEdit",attrs:{defaultInfo:t.techinDetails,loginType:t.loginType}}),t._v(" "),i("position-edit",{ref:"positionInfoEdit",attrs:{defaultInfo:t.techinDetails,unitList:t.unitList}}),t._v(" "),i("div",{staticClass:"summary"},[t._m(4),t._v(" "),i("div",{staticClass:"sumarryInput"},[i("el-input",{attrs:{type:"textarea",resize:"none",rows:"8"},model:{value:t.sumarry,callback:function(e){t.sumarry=e},expression:"sumarry"}})],1)]),t._v(" "),t.loginType.isAdmin?i("div",{staticClass:"btnGroup"},[1==t.status?i("a",{staticClass:"submit",on:{click:t.revise}},[t._v("修改")]):t._e()]):t._e(),t._v(" "),"COMPANY"==t.loginType.loginType?i("div",{staticClass:"btnGroup"},[1==t.status?i("a",{staticClass:"submit",on:{click:t.revise}},[t._v("修改")]):t._e()]):t._e()],1):t._e(),t._v(" "),t.showDialog?i("position",{attrs:{showDialog:t.showDialog,readonly:t.disabledEditPosition,defaultFormInfo:t.defaultFormInfo},on:{closeDialog:t.closeDialog}}):t._e(),t._v(" "),i("div",{class:{show:t.showLog},attrs:{id:"timeline"}},[i("oplog",{attrs:{dataUrl:t.dataUrl}})],1),t._v(" "),"COMPANY"==t.loginType.loginType?i("div",{staticClass:"btnGroup"},[0==t.status?i("a",{staticClass:"reCall",on:{click:t.reCall}},[t._v("撤回")]):t._e(),t._v(" "),5==t.status&&t.editStatus||3==t.status&&t.editStatus?i("a",{staticClass:"submit",on:{click:t.revise}},[t._v("重新提交")]):t._e()]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title clearfix"},[e("h1",[e("span",[e("em"),this._v(" "),e("i",[this._v("基本信息")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title clearfix"},[e("h1",[e("span",[e("em"),this._v(" "),e("i",[this._v("单位信息")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title clearfix"},[e("h1",[e("span",[e("em"),this._v(" "),e("i",[this._v("职位信息")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"clearfix"},[e("span",[e("em"),this._v(" "),e("i",[this._v("招聘简章")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title clearfix"},[e("h1",[e("span",[e("em"),this._v(" "),e("i",[this._v("招聘简章")])])])])}]};var f=i("C7Lr")(m,p,!1,function(t){i("13x6"),i("EPZM")},"data-v-58d1d886",null);e.a=f.exports}});