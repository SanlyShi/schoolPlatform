webpackJsonp([1],{IMCC:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("3cXf"),a=s.n(i),o=s("C331"),n=s("a/8i"),c=s("4DA3"),l=s("d86U"),r=(c.a,n.default,l.a,{data:function(){return{navList:[{route:"/recruitmentInfoApply",title:"招聘职位"},{route:"/techinList2Index",title:"宣讲会"},{route:"/student/doubleChooseWill/list",title:"双选会"},{route:"/student/onlineJobFair/list",title:"网招会"}],curRoute:"/recruitmentInfoApply",showSendResume:!1,curPositionId:"",toDetails:!1,searchValue:"",nature:"",sendTime:"",timeRange:"",regionList:[],recruitmentInfo:{},classificationChecked:[],showCollect:!1,collectList:[],showRecruit:!0,classificationList:[],classificationList_select:[],classificationList_slice:[],recruitmentList:[],checkUserInfo:null,total:0,curPage:0,showMoreType:!1,dataObj:{},scrollTop:0,recruitFrom:""}},beforeCreate:function(){document.querySelector("body").setAttribute("style","background-color:#f6f6f8")},methods:{toPositionList:function(){this.$emit("toSomePage",{path:"/recruitList2Index"})},addBread:function(t){this.$emit("toSomePage",{path:t.route})},closeSendResume:function(){this.showSendResume=!1},apply:function(t){this.curPositionId=t.id,this.showSendResume=!0},emitSomePage:function(t){this.$emit("toSomePage",{path:"/recruit2Index",props:{recruitId:t.recruitId,curTab:"recruitment",positionId:t.positionId,from:t.from,rootPath:t.rootPath}})},onSearch:function(){var t=this,e="/api/employment/platform/getPositionListBySearch?pageSize=15&pageIndex="+this.curPage;this.dataObj.keyWord=this.searchValue,this.nature&&(this.dataObj.positionProperty=this.nature),Object(o.e)({url:e,type:"post",data:this.dataObj,success:function(e){e&&e.state?(e.data&&e.data.content&&Array.isArray(e.data.content)&&(t.recruitmentList=[],t.total=e.data.totalElements,e.data.content.forEach(function(e){var s="";e.issueTime&&(s+="发布于",s+=e.issueTime.split(" ")[0]),t.recruitmentList.push({id:e.id,positionName:e.positionName,workplace:e.workplace,companyName:e.companyName,issueTime:s,salary:e.salary,isCollect:e.isCollect,type:e.type})})),t.showRecruit=!1):(t.$message.error("获取招聘列表失败"),t.showRecruit=!1),t.showRecruit=!1}})},keyupSubmit:function(){var t=this;document.onkeydown=function(e){13===window.event.keyCode&&t.onSearch()}},back:function(){this.$attrs.props&&"recruit2Index"==this.$attrs.props.from?this.$emit("toSomePage",{path:"/recruit2Index",props:{recruitId:this.$attrs.props.recruitId,rootPath:this.$attrs.props.rootPath}}):this.$attrs.props&&"index"==this.$attrs.props.rootPath?this.$emit("toSomePage","/index"):0!=this.scrollTop&&this.toDetails?(this.toDetails=!1,this.ScrollTop(this.scrollTop,200),this.scrollTop=0):this.$emit("toSomePage","/index")},ScrollTop:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments[1];if(!s)return document.body.scrollTop=document.documentElement.scrollTop=e,e;var i=s/20,a=document.body.scrollTop+document.documentElement.scrollTop,o=(e-a)/i,n=setInterval(function(){i>0?(i--,t.ScrollTop(a+=o)):clearInterval(n)},20)},getlinkAgeData:function(t){this.regionList=t},handleCurrentChange:function(t){this.curPage=t-1,this.onSearch()},toApplayDetails:function(t){this.scrollTop=document.body.scrollTop||document.documentElement.scrollTop,this.toDetails=!0,this.recruitmentInfo=t,this.recruitFrom=t.type},getCollected:function(){this.$router.push({name:"employment",params:{toPage:"/student/collect"}})},timeRangeChange:function(t){t?(this.dataObj.issueTimeStatus="1",this.dataObj.startTime=t[0]+" 00:00:00",this.dataObj.endTime=t[1]+" 00:00:00"):(this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime),this.onSearch()},timeChange:function(t){"0"==t&&(this.timeRange="",this.dataObj.issueTimeStatus="0",delete this.dataObj.startTime,delete this.dataObj.endTime,this.onSearch())},natureChange:function(t){this.onSearch()},typeChange:function(t){t.length?this.dataObj.positionTypes=t:delete this.dataObj.positionTypes,this.onSearch()},isToday:function(t){var e=new Date,s=new Date(t);return e.getFullYear()===s.getFullYear()&&e.getMonth()===s.getMonth()&&e.getDate()===s.getDate()},_checkLogin:function(){var t=this;Object(o.e)({url:"/login/check",type:"get",success:function(e){e.state?t.checkUserInfo=e.data:t.checkUserInfo=null}})},setCollect:function(t,e){var s=this;this.checkUserInfo||"STUDENT"==this.checkUserInfo.type||(this.$message.error("您还未登录或非学生,暂无权限申请职位"),this.$router.push("/employment/login"));var i="";t.isCollect?(i=e?"/api/employment/collection/cancelCollectByRelationId/"+t.relationId:"/api/employment/collection/cancelCollectByRelationId/"+t.id,Object(o.e)({url:i,type:"post",success:function(t){t.state?(e?s.getCollected():s.onSearch(),s.$message.success("取消收藏成功")):s.$message.error("取消收藏失败")}})):Object(o.e)({url:"/api/employment/collection/addCollection",type:"post",data:{relationId:t.id},success:function(t){t.state?(e?s.getCollected():s.onSearch(),s.$message.success("收藏成功")):s.$message.error("收藏失败")}})},getInfoError:function(){this.toDetails=!1},getRouter:function(){this.$router.push({name:"employment",params:{toPage:"/schoolResumepx"}})},getPositionTypes:function(){var t=this;Object(o.e)({url:"/api/employment/system/findDictByTypeName?typeName=单位行业",type:"get",success:function(e){e.state&&(t.classificationList=e.data,t.classificationList_slice=e.data.slice(0,5))}})},checkMore:function(){this.showMoreType?(this.classificationList_slice=JSON.parse(a()(this.classificationList)).slice(0,5),this.showMoreType=!1):(this.classificationList_slice=JSON.parse(a()(this.classificationList)),this.showMoreType=!0)}},components:{linkage:c.a,ApplayDetails:n.default,sendResume:l.a},created:function(){this.$attrs&&this.$attrs.props&&this.$attrs.props.positionId&&(this.toDetails=!0,this.recruitType="RECRUITMENT"),this._checkLogin(),this.onSearch(),this.keyupSubmit(),this.getPositionTypes()}}),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"test-warp"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.showRecruit,expression:"showRecruit"}],staticClass:"recruitmentInfoApply col-sm-12"},[s("div",{staticClass:"titleBtn"},[s("el-button",{staticStyle:{color:"#666"},attrs:{type:"text",icon:"el-icon-back"},on:{click:t.back}},[t._v("返回")]),t._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:!t.toDetails,expression:"!toDetails"}],staticClass:"toPositionList",on:{click:t.toPositionList}},[s("i"),s("span",[t._v("切换至招聘信息")])])],1),t._v(" "),t.toDetails?s("Applay-details",t._b({attrs:{checkUserInfo:t.checkUserInfo,scrollTop:t.scrollTop,id:t.recruitmentInfo.id,recruitFrom:t.recruitFrom,recruitmentInfo:t.recruitmentInfo},on:{getRouter:t.getRouter,emitSomePage:t.emitSomePage,getInfoError:t.getInfoError}},"Applay-details",t.$attrs,!1)):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.toDetails,expression:"!toDetails"}]},[s("div",{staticClass:"rec-filtrate"},[s("div",{staticClass:"rec-filtrate-input"},[s("el-input",{staticClass:"search",attrs:{placeholder:"请输入要搜索的职位或公司",clearable:""},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),t._v(" "),s("el-button",{staticClass:"search-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}})],1),t._v(" "),s("div",{staticClass:"rec-filtrate-item"},[s("div",{staticClass:"title"},[t._v("职位性质:")]),t._v(" "),s("div",{staticClass:"radio-item"},[s("el-radio-group",{on:{change:t.natureChange},model:{value:t.nature,callback:function(e){t.nature=e},expression:"nature"}},[s("el-radio",{attrs:{label:"FULL_TIME"}},[t._v("全职")]),t._v(" "),s("el-radio",{attrs:{label:"PRACTICE"}},[t._v("实习")])],1)],1),t._v(" "),s("div",{staticClass:"radio-item"})]),t._v(" "),s("div",{staticClass:"rec-filtrate-item seeMore"},[s("div",{staticClass:"title"},[t._v("行业分类:")]),t._v(" "),s("el-checkbox-group",{class:{isFlex:t.showMoreType},attrs:{max:3},on:{change:t.typeChange},model:{value:t.classificationChecked,callback:function(e){t.classificationChecked=e},expression:"classificationChecked"}},t._l(t.classificationList_slice,function(e){return s("el-checkbox",{key:e.value,attrs:{title:e.lebel,label:e.value,value:e.label}},[s("span",{attrs:{title:e.label}},[t._v(t._s(e.label))])])}),1),t._v(" "),s("div",{staticClass:"checkMore"},[s("el-button",{attrs:{icon:t.showMoreType?"el-icon-arrow-up":"el-icon-arrow-down"},on:{click:t.checkMore}},[t._v(t._s(t.showMoreType?"收起":"展开更多类型"))])],1)],1),t._v(" "),s("div",{staticClass:"rec-filtrate-item"},[s("div",{staticClass:"title"},[t._v("发布时间:")]),t._v(" "),s("div",{staticClass:"radio-item"},[s("el-radio-group",{on:{change:t.timeChange},model:{value:t.sendTime,callback:function(e){t.sendTime=e},expression:"sendTime"}},[s("el-radio",{attrs:{label:"0"}},[t._v("不限")]),t._v(" "),s("el-radio",{attrs:{label:"1"}},[t._v("选择时间段")])],1),t._v(" "),s("div",{staticClass:"time",staticStyle:{display:"inline-block","margin-left":"10px"}},[s("el-date-picker",{attrs:{disabled:"1"!=t.sendTime,format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.timeRangeChange},model:{value:t.timeRange,callback:function(e){t.timeRange=e},expression:"timeRange"}})],1)],1),t._v(" "),s("div",{staticClass:"radio-item"})])]),t._v(" "),s("div",{staticClass:"recruitmentInfoList"},[t.recruitmentList.length?s("ul",t._l(t.recruitmentList,function(e,i){return s("li",{key:i,class:["item"],on:{click:function(s){return t.toApplayDetails(e)}}},[s("div",{staticClass:"left"},[s("div",[s("span",{staticClass:"job-name"},[t._v(t._s(e.positionName))]),t._v(" "),s("span",{staticClass:"job-price"},[t._v(t._s(e.salary))])]),t._v(" "),s("div",{staticClass:"job-address"},[t._v(t._s("null"==e.workplace?"暂无地址信息":e.workplace))])]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"normal",class:{hideInfo:t.checkUserInfo&&"STUDENT"==t.checkUserInfo.type}},[s("div",{staticClass:"job-company"},[t._v(t._s(e.companyName))]),t._v(" "),s("div",{staticClass:"job-time"},[t._v(t._s(e.issueTime))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.checkUserInfo&&"STUDENT"==t.checkUserInfo.type,expression:"checkUserInfo&&checkUserInfo.type=='STUDENT'"}],class:{hover:t.checkUserInfo&&"STUDENT"==t.checkUserInfo.type}},[s("img",{directives:[{name:"show",rawName:"v-show",value:!e.isCollect,expression:"!item.isCollect"}],staticClass:"like",attrs:{src:"/static/image/employment/like.png",alt:""},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.setCollect(e,!1)}}}),t._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:e.isCollect,expression:"item.isCollect"}],staticClass:"like",attrs:{src:"/static/image/employment/like_active.png",alt:""},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.setCollect(e,!1)}}}),t._v(" "),s("span",{class:{active:e.isCollect},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.setCollect(e,!1)}}},[t._v(t._s(e.isCollect?"已收藏":"收藏职位"))]),t._v(" "),s("el-button",{staticClass:"apply-btn",attrs:{type:"primary"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.apply(e)}}},[t._v("申请职位")])],1)])])}),0):t._e(),t._v(" "),t.recruitmentList.length?t._e():s("p",{staticClass:"noResult"},[t._v("\n          暂无招聘信息！\n        ")])]),t._v(" "),s("div",{staticClass:"paginationBox"},[t.recruitmentList.length?s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":15,total:t.total},on:{"current-change":t.handleCurrentChange}}):t._e()],1)])],1),t._v(" "),s("el-dialog",{staticClass:"apply-position",attrs:{"show-close":!1,visible:t.showCollect,width:"60%",title:"收藏列表"},on:{"update:visible":function(e){t.showCollect=e}}},[s("ul",{staticClass:"recruitmentInfoList"},t._l(t.collectList,function(e,i){return s("li",{key:i,staticClass:"item"},[s("div",{staticClass:"left"},[s("div",[s("span",{staticClass:"job-name"},[t._v(t._s(e.positionName))]),t._v(" "),s("span",{staticClass:"job-price"},[t._v(t._s(e.salary))])]),t._v(" "),s("div",{staticClass:"job-address"},[t._v(t._s(e.workplace))])]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"normal"},[s("div",{staticClass:"job-company"},[s("span",[t._v(t._s(e.companyName))]),s("i",[t._v(t._s(e.issueTime))])])]),t._v(" "),s("div",{staticClass:"hover"},[s("em",{on:{click:function(s){return t.setCollect(e,!0)}}},[s("img",{staticClass:"like",attrs:{src:"/static/image/employment/like_active.png",alt:""}}),t._v(" "),s("span",{staticStyle:{"font-style":"normal"}},[t._v("取消收藏")])]),t._v(" "),s("el-button",{staticClass:"apply-btn",attrs:{type:"primary"}},[t._v("申请这个职位")])],1)])])}),0)]),t._v(" "),t.showSendResume?s("send-resume",{attrs:{positionId:t.curPositionId},on:{addResume:t.getRouter,close:t.closeSendResume}}):t._e()],1)},staticRenderFns:[]};var p=s("C7Lr")(r,u,!1,function(t){s("JGge"),s("u03b"),s("ffh1")},"data-v-129ab166",null);e.default=p.exports},JGge:function(t,e){},ffh1:function(t,e){},u03b:function(t,e){}});