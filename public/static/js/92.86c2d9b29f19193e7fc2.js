webpackJsonp([92,281],{"7b3j":function(e,t){},"CHp+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("68u/"),a("YXeK");var n=a("EA6R"),s=a.n(n),o=a("aA9S"),r=a.n(o),i=a("3cXf"),c=a.n(i),l=a("lC5x"),d=a.n(l),u=a("J0Oq"),p=a.n(u),f=a("IwLe"),h=a("VDkK"),w=a("hn+R"),m=a("Se9A"),g=a("N9Ox"),v=a("T6UY"),b=a("WD6V"),x=a("fSJ2"),S=a("t7Ya"),k=(f.a,h.a,w.a,m.a,g.a,v.a,b.a,{props:["id"],components:{BaseInfo:f.a,StandInfo:h.a,StandPicker:w.a,ModuleContainer:m.a,ModuleLoader:g.a,StandUnit:v.a,Oplog:b.a},data:function(){var e=this;return{dcw:null,page:"DETAIL",loading:!0,showOpLogs:!1,standUnitId:null,exportStandDialog:{show:!1,selectAll:!1,fields:[{value:"1",text:"单位名称"},{value:"2",text:"单位性质"},{value:"3",text:"联系人信息"},{value:"4",text:"单位邮箱"},{value:"5",text:"单位规模"},{value:"6",text:"展位信息"},{value:"7",text:"招聘信息"}],selected:[]},arrangeStandDialog:{show:!1,importParams:{downloadTemplateUrl:"/employment/manage/doubleChoose/getBoothTemplate?id="+this.id,downloadErrorTemplateUrl:"/iSignIn/projects/excludeList/excels/error",checkTemplateUrl:"/employment/manage/doubleChoose/checkExcel?id="+this.id,importBtnType:[{name:"增量导入",url:"/employment/manage/doubleChoose/addByExcel",method:"post",isShowBtn:!0,success:function(){e.arrangeStandDialog.show=!1,e.refreshStandUnits()}}],templateName:"排展管理模板下载",showBackBtn:!1}},isEditingDcw:!1,dcwTemp:null,rules:{chooseType:{disabled:!0}}}},computed:{opLogDataUrl:function(){return"api/employment/manage/doubleChoose/getOperationDetailList?id="+this.id},standUnits:function(){return[{standName:"1",unitName:"tenxun"}]},allExportStandFieldsSelected:function(){return this.exportStandDialog.fields.length===this.exportStandDialog.selected.length}},created:function(){var e=this;return p()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initDcw();case 2:e.loading=!1;case 3:case"end":return t.stop()}},t,e)}))()},methods:{initDcw:function(){var e=this;return p()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.dcw.get(e.id);case 2:(a=t.sent).state?e.dcw=S.a.fromApi(a.data):e.$toast(a.message);case 4:case"end":return t.stop()}},t,e)}))()},toEditDcw:function(){var e=this;return p()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.dcwTemp=JSON.parse(c()(e.dcw)),e.isEditingDcw=!0;case 2:case"end":return t.stop()}},t,e)}))()},updateDcw:function(){var e=this;return p()(d.a.mark(function t(){var a,n,s;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.dcw.update(e.dcw);case 2:a=t.sent,n=a.state,s=a.message,n?(e.$toast("保存成功"),e.dcwTemp=null,e.isEditingDcw=!1):e.$toast(s);case 6:case"end":return t.stop()}},t,e)}))()},cancelEditDcw:function(){var e=this;return p()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r()(e.dcw.baseInfo,e.dcwTemp.baseInfo),e.dcw.standInfo.siteMap=e.dcwTemp.standInfo.siteMap,e.dcw.standInfo.canSelectMultiStands=e.dcwTemp.standInfo.canSelectMultiStands,e.dcw.standInfo.limitStandsSelected=e.dcwTemp.standInfo.limitStandsSelected,e.dcw.standInfo.limitStandsSelected=e.dcwTemp.standInfo.limitStandsSelected,e.dcw.standInfo.chooseType=e.dcwTemp.standInfo.chooseType,e.isEditingDcw=!1;case 7:case"end":return t.stop()}},t,e)}))()},toExportStand:function(){this.exportStandDialog.show=!0,this.selectAllExportStandFields()},toArrangeStand:function(){this.arrangeStandDialog.show=!0},selectAllExportStandFields:function(e){this.exportStandDialog.selected=e?this.exportStandDialog.fields.map(function(e){return e.value}):[]},exportStand:function(){var e=this;return p()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.open("/downloads/employment/manage/doubleChoose/getBoothExcel?id="+e.dcw.id+"&conditions="+e.exportStandDialog.selected.sort(function(e,t){return parseInt(e)-parseInt(t)}).join(",")),e.exportStandDialog.show=!1;case 2:case"end":return t.stop()}},t,e)}))()},showStandUnit:function(e){this.standUnitId=e.id,this.page="STAND_UNIT"},refreshStandUnits:function(){var e=this;return p()(d.a.mark(function t(){var a,n,s,o;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.dcw.get(e.id);case 2:a=t.sent,n=a.state,s=a.message,o=a.data,n?e.dcw=S.a.fromApi(o):e.$toast(s);case 7:case"end":return t.stop()}},t,e)}))()},deleteStandUnit:function(e,t){var a=this;return p()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s.a.confirm("确认要取消"+e.name+"的双选会吗？下架后该企业将无法展示在该双选会的列表上").then(p()(d.a.mark(function t(){var n,s,o;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.stand.deleteStandUnit(e.stand&&e.stand.id,e.id);case 2:if(n=t.sent,s=n.state,o=n.message,!s){t.next=13;break}return a.$toast("取消展位成功"),a.loading=!0,t.next=10,a.initDcw();case 10:a.loading=!1,t.next=14;break;case 13:a.$toast(o);case 14:case"end":return t.stop()}},t,a)})));case 1:case"end":return t.stop()}},t,a)}))()},sign:function(e,t){var a=this;return p()(d.a.mark(function n(){var o;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=t?"取消签到":"签到",s.a.confirm("是否"+o).then(p()(d.a.mark(function n(){var s,o,r;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.a.stand.setSign(e,!t);case 2:if(s=n.sent,o=s.state,r=s.message,!o){n.next=12;break}return a.loading=!0,n.next=9,a.initDcw();case 9:a.loading=!1,n.next=13;break;case 12:a.$toast(r);case 13:case"end":return n.stop()}},n,a)}))).catch(function(){a.$message({type:"info",message:"已取消"+o})});case 3:case"end":return n.stop()}},n,a)}))()},toReserveDcw:function(){this.standUnitId=null,this.page="STAND_UNIT"},backToDetail:function(e){var t=this,a=e.refresh;return p()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.page="DETAIL",!a){e.next=6;break}return t.loading=!0,e.next=5,t.initDcw();case 5:t.loading=!1;case 6:case"end":return e.stop()}},e,t)}))()},backToList:function(){this.$emit("back-to-list")}}}),_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["DETAIL"===e.page?a("div",[a("div",{staticClass:"back",on:{click:e.backToList}},[a("i",{staticClass:"el-icon-back"}),e._v("返回\n    ")]),e._v(" "),e.loading?a("module-loader",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]}):a("div",{staticClass:"module-container"},[a("base-info",{attrs:{edit:e.isEditingDcw,rules:e.rules},model:{value:e.dcw.baseInfo,callback:function(t){e.$set(e.dcw,"baseInfo",t)},expression:"dcw.baseInfo"}}),e._v(" "),a("stand-info",{attrs:{rules:e.rules,inline:"",edit:e.isEditingDcw},model:{value:e.dcw.standInfo,callback:function(t){e.$set(e.dcw,"standInfo",t)},expression:"dcw.standInfo"}}),e._v(" "),e.isEditingDcw?a("module-container",{attrs:{actions:""}},[a("el-button",{attrs:{size:"large"},on:{click:e.cancelEditDcw}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"large"},on:{click:e.updateDcw}},[e._v("保存")])],1):e._e(),e._v(" "),a("module-container",{attrs:{title:"展位"}},["UNIT"===e.dcw.standInfo.chooseType?a("div",{staticClass:"stand-manage"},[a("stand-picker",{attrs:{dcw:e.dcw,"can-manage":"",published:""},on:{"to-reserve-dcw":e.toReserveDcw},model:{value:e.dcw.standInfo.stands,callback:function(t){e.$set(e.dcw.standInfo,"stands",t)},expression:"dcw.standInfo.stands"}})],1):e._e(),e._v(" "),a("div",{staticClass:"stand-units"},[a("div",{staticClass:"actions"},["MANAGER"===e.dcw.standInfo.chooseType?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.toReserveDcw}},[e._v("预留展位")]):e._e(),e._v(" "),"MANAGER"===e.dcw.standInfo.chooseType?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.toArrangeStand}},[e._v("排展管理")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.toExportStand}},[e._v("导出名单")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dcw.standUnits}},[a("el-table-column",{attrs:{prop:"stand.name",label:"展位号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"用人单位",width:"260"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"单位性质",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"positionsCount",label:"职位总数",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"signInStatus",label:"签到状态",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.signInStatus?"已签到":"未签到"))])]}}],null,!1,3012385307)}),e._v(" "),a("el-table-column",{attrs:{prop:"opt",label:"操作",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.showStandUnit(t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.deleteStandUnit(t.row,t.$index)}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.sign(t.row.id,t.row.signInStatus)}}},[e._v(e._s(t.row.signInStatus?"取消签到":"签到"))])]}}],null,!1,1920577258)})],1)],1)]),e._v(" "),a("div",{staticClass:"operations-container-action"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.showOpLogs=!e.showOpLogs}}},[e._v("操作日志")]),e._v(" "),e.isEditingDcw?a("el-button",{attrs:{type:"text"},on:{click:e.cancelEditDcw}},[e._v("取消编辑")]):a("el-button",{attrs:{type:"text",icon:"el-icon-edit-outline"},on:{click:e.toEditDcw}},[e._v("编辑")])],1),e._v(" "),a("div",{staticClass:"operations-container",class:{show:e.showOpLogs}},[e.showOpLogs?a("oplog",{attrs:{dataUrl:e.opLogDataUrl}}):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"选择导出的字段",visible:e.exportStandDialog.show,width:"25%","show-close":!1,center:""},on:{"update:visible":function(t){return e.$set(e.exportStandDialog,"show",t)}}},[a("el-checkbox",{attrs:{indeterminate:e.exportStandDialog.selected.length&&e.exportStandDialog.selected.length<e.exportStandDialog.fields.length},on:{change:e.selectAllExportStandFields},model:{value:e.allExportStandFieldsSelected,callback:function(t){e.allExportStandFieldsSelected=t},expression:"allExportStandFieldsSelected"}},[e._v("\n        全选\n      ")]),e._v(" "),a("el-checkbox-group",{model:{value:e.exportStandDialog.selected,callback:function(t){e.$set(e.exportStandDialog,"selected",t)},expression:"exportStandDialog.selected"}},e._l(e.exportStandDialog.fields,function(t){return a("div",{key:t.value},[a("el-checkbox",{attrs:{label:t.value}},[e._v(e._s(t.text))])],1)}),0),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.exportStand}},[e._v("导 出")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"排展管理",visible:e.arrangeStandDialog.show,width:"80%"},on:{"update:visible":function(t){return e.$set(e.arrangeStandDialog,"show",t)}}},[e.arrangeStandDialog.show?a("v-import",e._b({on:{backParentPage:function(t){e.arrangeStandDialog.show=!1}}},"v-import",e.arrangeStandDialog.importParams,!1)):e._e(),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.arrangeStandDialog.show=!1}}},[e._v("关闭")])],1)],1)],1):e._e(),e._v(" "),"STAND_UNIT"===e.page?a("div",[a("stand-unit",{attrs:{dcw:e.dcw,standUnitId:e.standUnitId,"is-manager":""},on:{"back-to-detail":e.backToDetail}})],1):e._e()])},staticRenderFns:[]};var T=a("C7Lr")(k,_,!1,function(e){a("7b3j")},"data-v-00a17bfa",null);t.default=T.exports},IbCc:function(e,t){},KZAt:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("68u/"),a("YXeK");var n=a("EA6R"),s=a.n(n),o=a("lC5x"),r=a.n(o),i=a("J0Oq"),c=a.n(i),l=a("t7Ya"),d=a("CHp+"),u=a("IwLe"),p=a("VDkK"),f=a("hn+R"),h=a("Se9A"),w=a("fSJ2"),m=a("p+qa"),g=(u.a,p.a,f.a,h.a,{props:["id","collegeCode"],components:{BaseInfo:u.a,StandInfo:p.a,StandPicker:f.a,ModuleContainer:h.a},data:function(){return{dcw:new l.a}},computed:{},methods:{create:function(){var e=this;return c()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.baseInfo.validate();case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),Object(m.a)(0,200),t.abrupt("return");case 9:return e.dcw.collegeCode=e.collegeCode,t.next=12,w.a.dcw.add(e.dcw);case 12:t.sent,e.$toast("添加成功"),e.$emit("back-to-list",{created:!0});case 15:case"end":return t.stop()}},t,e,[[0,5]])}))()},backToList:function(){this.$emit("back-to-list")}}}),v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"back",on:{click:e.backToList}},[a("i",{staticClass:"el-icon-back"}),e._v("返回\n  ")]),e._v(" "),a("div",{staticClass:"module-container"},[a("base-info",{ref:"baseInfo",attrs:{edit:""},model:{value:e.dcw.baseInfo,callback:function(t){e.$set(e.dcw,"baseInfo",t)},expression:"dcw.baseInfo"}}),e._v(" "),a("stand-info",{attrs:{edit:""},model:{value:e.dcw.standInfo,callback:function(t){e.$set(e.dcw,"standInfo",t)},expression:"dcw.standInfo"}}),e._v(" "),a("module-container",{directives:[{name:"show",rawName:"v-show",value:"UNIT"===e.dcw.standInfo.chooseType,expression:"dcw.standInfo.chooseType === 'UNIT'"}],attrs:{inline:""}},[a("stand-picker",{attrs:{dcw:e.dcw,canManage:""},model:{value:e.dcw.standInfo.stands,callback:function(t){e.$set(e.dcw.standInfo,"stands",t)},expression:"dcw.standInfo.stands"}})],1),e._v(" "),a("module-container",{attrs:{actions:""}},[a("el-button",{attrs:{type:"primary",size:"large"},on:{click:e.create}},[e._v("保存并发布")])],1)],1)])},staticRenderFns:[]},b=a("C7Lr")(g,v,!1,null,null,null).exports,x=(d.default,"SCHOOL"),S="COLLEGE",k={components:{NewDcw:b,DcwDetail:d.default},data:function(){var e={LIST:"LIST",NEW:"NEW",DETAIL:"DETAIL"};return{PAGES:e,page:e.LIST,dcw:new l.a,role:x,colleges:[],loadingColleges:!0,collegeCode:"",table:{url:"/table-data/employment/manage/doubleChoose/getBySearch?ts=",search:{ts:+new Date,beginTime:"",endTime:""},columns:[]}}},computed:{tableUrl:function(){return this.table.url+"&major="+this.collegeCode+"&beginTime="+(this.table.search.beginTime||"")+"&endTime="+(this.table.search.endTime||"")+"&ts="+this.table.search.ts}},created:function(){var e=this;return c()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.role=e.$attrs.data&&e.$attrs.data.data&&e.$attrs.data.data.role||x,t.next=3,e.initTableColumns();case 3:if(e.role!==S){t.next=6;break}return t.next=6,e.initManagedColleges();case 6:case"end":return t.stop()}},t,e)}))()},methods:{downLoad:function(){window.location.href="/downloads/employment/manage/doubleChoose/getDoubleChooseExcel"},initTableColumns:function(){var e=this;return c()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(a=e.table.columns).push.apply(a,[{id:"name",title:"双选会名称",className:"text-left",width:120,hidden:!1,search:{type:"",data:{placeholer:"",autoFocus:!1}},formatter:function(e){return l.a.fromApi(e).getNameHtmlWithStatus()}},{id:"areaName",title:"双选会地点",className:"text-left",width:120,hidden:!1,search:{type:"",data:{placeholer:"",autoFocus:!1}}},{id:"time",title:"时间",className:"text-left line-height-normal",width:145,hidden:!1,hover:!1,search:{type:"datetime",data:{placeholder:"双选会",dateFormat:"yyyy-MM-dd hh:ii",change:function(t){t.value,t.target;e.table.search.beginTime=e.$refs.manageListTable.tableSearchFields.time_start,e.table.search.endTime=e.$refs.manageListTable.tableSearchFields.time_end}}},formatter:function(e){return new Date(e.beginTime).format("yyyy-MM-dd HH:mm")+" -<br/> "+new Date(e.endTime).format("yyyy-MM-dd HH:mm")}}]),e.role===x&&e.table.columns.push({id:"type",title:"所属级别",className:"text-left",width:120,hidden:!1,formatter:function(e){return 0===parseInt(e.major)?"校级":e.majorName}}),e.table.columns.push({id:"opt",title:"操作",width:120,hidden:!1,formatter:function(t){var a=l.a.fromApi(t),n={show:{tag:"a",text:"查看",callback:function(t,a){var n=l.a.fromApi(t);e.showDcw(n)}},publish:{tag:"a",text:"发布",callback:function(t,a){var n=l.a.fromApi(t);e.publish(n)}},setTop:{tag:"a",text:"置顶",callback:function(t,a){var n=l.a.fromApi(t);e.changeTop(n)}},downTop:{tag:"a",text:"取消置顶",callback:function(t,a){var n=l.a.fromApi(t);e.changeTop(n)}},unShelve:{tag:"a",text:"下架",callback:function(t,a){var n=l.a.fromApi(t);e.unShelve(n)}},shelve:{tag:"a",text:"上架",callback:function(t,a){var n=l.a.fromApi(t);e.shelve(n)}},standArrange:{tag:"a",text:"排展管理",callback:function(t,a){var n=l.a.fromApi(t);e.standArrange(n)}}},s=[n.show];return(a.type===l.b.SCHOOL||a.type===l.b.COLLEGE&&e.role===S)&&(a.published?a.unShelved?s.push(n.shelve):s.push(n.unShelve):s.push(n.publish)),e.role===x&&(a.top?s.push(n.downTop):s.push(n.setTop)),s}});case 3:case"end":return t.stop()}},t,e)}))()},initManagedColleges:function(){var e=this;return c()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.dcw.getManagedColleges();case 2:(a=t.sent).state?(e.colleges=a.data.map(function(e){return{id:e.collegeCode,name:e.collegeName}}),e.loadingColleges=!1,e.collegeCode=e.colleges[0]&&e.colleges[0].id):e.$toast(a.message);case 4:case"end":return t.stop()}},t,e)}))()},toCreateDcw:function(){this.dcw=new l.a,this.page=this.PAGES.NEW},showDcw:function(e){this.dcw=e,this.page=this.PAGES.DETAIL},unShelve:function(e){var t=this;return c()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:s.a.confirm("是否要下架"+e.baseInfo.name,null,{type:"warning"}).then(c()(r.a.mark(function a(){var n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.dcw.unShelve(e.id);case 2:(n=a.sent).state?(t.$toast("下架成功"),t.refreshTable()):t.$toast(n.message);case 4:case"end":return a.stop()}},a,t)}))).catch(function(){});case 1:case"end":return a.stop()}},a,t)}))()},shelve:function(e){var t=this;return c()(r.a.mark(function a(){var n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.dcw.shelve(e.id);case 2:(n=a.sent).state?(t.$toast("上架成功"),t.refreshTable()):t.$toast(n.message);case 4:case"end":return a.stop()}},a,t)}))()},changeTop:function(e){var t=this;return c()(r.a.mark(function a(){var n,s,o;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.dcw.changeTop(e.id);case 2:n=a.sent,s=n.state,o=n.message,s?t.refreshTable():t.$toast(o);case 6:case"end":return a.stop()}},a,t)}))()},publish:function(e){var t=this;return c()(r.a.mark(function a(){var n,s,o;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.dcw.publish(e.id);case 2:n=a.sent,s=n.state,o=n.message,s?(t.$toast("发布成功"),t.refreshTable()):t.$toast(o);case 6:case"end":return a.stop()}},a,t)}))()},standArrange:function(e){},backToList:function(){this.page=this.PAGES.LIST,this.refreshTable()},refreshTable:function(){this.table.search.ts=+new Date}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-content"},[a("div",{attrs:{id:"dcwListManage"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.page===e.PAGES.LIST,expression:"page === PAGES.LIST"}]},["SCHOOL"===e.role||e.collegeCode?a("v-table",{ref:"manageListTable",attrs:{url:e.tableUrl,columns:e.table.columns,pagesize:"15",idField:"id",multiple:!1,order:!0,search:!1}},[a("div",{attrs:{slot:"btn-group"},slot:"btn-group"},["COLLEGE"===e.role?a("el-select",{attrs:{placeholder:"请选择学院",filterable:""},model:{value:e.collegeCode,callback:function(t){e.collegeCode=t},expression:"collegeCode"}},e._l(e.colleges,function(e){return a("el-option",{key:"college-"+e.id,attrs:{label:e.name,value:e.id}})}),1):e._e(),e._v(" "),a("el-button",{staticClass:"pull-right",staticStyle:{"margin-left":"15px"},attrs:{type:"primary"},on:{click:e.downLoad}},[e._v("导出")]),e._v(" "),a("el-button",{staticClass:"pull-right",attrs:{type:"primary"},on:{click:e.toCreateDcw}},[e._v("新增双选会")])],1)]):a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingColleges,expression:"loadingColleges"}],staticClass:"college-loader",attrs:{"element-loading-text":"加载中"}},[e._v(e._s(e.loadingColleges?"":"您没有分管的学院"))])])],1),e._v(" "),e.page===e.PAGES.NEW?a("new-dcw",{attrs:{"college-code":e.collegeCode},on:{"back-to-list":e.backToList}}):e._e(),e._v(" "),e.page===e.PAGES.DETAIL?a("dcw-detail",e._b({on:{"back-to-list":e.backToList}},"dcw-detail",e.dcw,!1)):e._e()],1)])},staticRenderFns:[]};var T=a("C7Lr")(k,_,!1,function(e){a("IbCc")},null,null);t.default=T.exports}});