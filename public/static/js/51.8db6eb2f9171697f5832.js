webpackJsonp([51],{MrtH:function(t,e){},O7Jv:function(t,e){},PS2J:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("kV13"),i=a("C331"),o=a("Zb6B");s.default.component("jobDeclare",o.a);s.default.component("jobDeclare",o.a);var n={created:function(){var t=this,e=localStorage.getItem("lang");Object(i.g)(e)&&(this.lang=e),this.isTodifficultStudentData=[{id:"true",text:"是"},{id:"false",text:"否"}],this.canApplyData=[{id:"true",text:"是"},{id:"false",text:"否"}],Object(i.e)({url:"/api/pwps/workflow/runtime/position/nodes",dataType:"json",type:"get",success:function(e){e.state?e.data&&(e.data.forEach(function(e,a){"SCHOOL"===e.type?t.checkTabs.push({id:e.id,name:"全校岗位审核",type:e.type,allowBatchOperation:e.allowBatchOperation,allowReject:e.allowReject}):"COLLEGE"===e.type?t.checkTabs.push({id:e.id,name:"本院岗位审核",type:e.type,allowBatchOperation:e.allowBatchOperation,allowReject:e.allowReject}):t.checkTabs.push({id:e.id,name:"本单位岗位审核",type:e.type,allowBatchOperation:e.allowBatchOperation,allowReject:e.allowReject})}),t.checkTabId=t.checkTabs[0].id,t.checkType=t.checkTabs[0].type,t.allowBatchOperation=t.checkTabs[0].allowBatchOperation,t.allowReject=t.checkTabs[0].allowReject):t.$toast(e.message)}}),Object(i.e)({url:"/api/pwps/workflow/runtime/position/search/options",dataType:"json",type:"get",success:function(e){e.state?e.data&&(t.columns=[{id:"unitName",title:"单位名称",className:"text-left",hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!0}},formatter:function(t){return t.unit.name}},{id:"unitLevel",title:"所属级别",className:"text-left",hidden:!1,width:80,formatter:function(t){return"SCHOOL"===t.unit.level?"校级":"院级"},search:{type:"select",data:{options:e.data.unitLevel,optionsLabel:"text",optionsValue:"id"}}},{id:"positionName",title:"岗位名称",className:"text-left",hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!0}},formatter:function(t){return t.position.positionName}},{id:"year",title:"学年",className:"text-left",hidden:!1,width:100,formatter:function(t){return t.position.schoolYear&&t.position.schoolYear.name},search:{type:"select",data:{url:"/api/pwps/positions/all/schoolYears",optionsLabel:"name",optionsValue:"id"}}},{id:"masterName",title:"用工单位经办人姓名",className:"text-left",hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!0}},formatter:function(t){return t.position.manager&&t.position.manager.name}},{id:"masterUserNo",title:"用工单位经办人工号",className:"text-left",hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!0}},formatter:function(t){return t.position.manager&&t.position.manager.userNo}},{id:"auditStatus",title:"审核状态",className:"text-left",hidden:!1,width:100,formatter:function(t){return t.statusLabel},search:{type:"select",data:{options:e.data.auditStatus,optionsLabel:"text",optionsValue:"id"}}},{id:"positionType",title:"岗位类型",className:"text-left",hidden:!0,formatter:function(e){var a="";return t.positionTypeData.forEach(function(t,s){t.value===e.position.positionType&&(a=t.label)}),a},search:{type:"select",data:{url:"/api/system/dicts?dictType=岗位类型",optionsLabel:"label",optionsValue:"value"}}},{id:"personCount",title:"岗位人数",className:"text-left",hidden:!0,formatter:function(t){return t.position.personCount}},{id:"userIncumbencyCount",title:"在岗人数",className:"text-left",hidden:!0,formatter:function(t){return t.position.userIncumbencyCount}},{id:"rewardStandard",title:"薪酬标准",className:"text-right",hidden:!0,formatter:function(t){return t.position.rewardStandard}},{id:"salaryCapMonth",title:"月工资上限",className:"text-right",hidden:!0,formatter:function(t){return t.position.salaryCapMonth}},{id:"isToDifficultyStudent",title:"针对困难生",className:"text-left",hidden:!0,formatter:function(t){return t.position.isToDifficultyStudent?"是":"否"},search:{type:"select",data:{options:t.isTodifficultStudentData,optionsLabel:"text",optionsValue:"id"}}},{id:"canApply",title:"允许学生申请",className:"text-left",hidden:!0,formatter:function(t){return t.position.canApply?"是":"否"},search:{type:"select",data:{options:t.isTodifficultStudentData,optionsLabel:"text",optionsValue:"id"}}},{id:"address",title:"工作地点",className:"text-left",hidden:!0,search:{type:"input",data:{placeholer:"",autoFocus:!0}},formatter:function(t){return t.position.address}},{id:"workingTime",title:"工作时段",className:"text-left",hidden:!0,search:{type:"input",data:{placeholer:"",autoFocus:!0}},formatter:function(t){return t.position.workingTime}},{id:"jobStartTime",title:"工作开始时间",className:"text-left",hidden:!0,formatter:function(t){return t.position.jobStartTime.split(" 00:00:00")[0]}},{id:"jobEndTime",title:"工作结束时间",className:"text-left",hidden:!0,formatter:function(t){return t.position.jobEndTime.split(" 00:00:00")[0]}},{id:"applyStartTime",title:"申请开始时间",className:"text-left",hidden:!0,formatter:function(t){return t.position.applyStartTime.split(" 00:00:00")[0]}},{id:"applyEndTime",title:"申请结束时间",className:"text-left",hidden:!0,formatter:function(t){return t.position.applyEndTime.split(" 00:00:00")[0]}},{id:"opt",className:"text-center",title:"操作",width:"130px",hidden:!1,formatter:function(e){var a={tag:"a",text:"查看",className:"opt-btn",callback:function(a,s){t.showJobModal=!0,t.optParameter={isCheck:!0,optsType:"TODO"===e.currentNodeStatus?"check":"revoke",canCancel:!1,canResubmit:!1,canRevoke:a.canRevoke,isShowLog:!0},t.jobParameter={positionId:a.id,isView:!0,unitName:a.position.unit.name},t.jobDeclareData={unitId:a.position.unit.id,managerId:a.position.manager.userId,userNo:a.position.manager.userNo,userName:a.position.manager.name,positionType:a.position.positionType,positionName:a.position.positionName,address:a.position.address,rewardStandard:a.position.rewardStandard,jobStartTime:a.position.jobStartTime.split(" 00:00:00")[0],jobEndTime:a.position.jobEndTime.split(" 00:00:00")[0],applyStartTime:a.position.applyStartTime.split(" 00:00:00")[0],applyEndTime:a.position.applyEndTime.split(" 00:00:00")[0],schoolYearId:a.position.schoolYear.id,contact:a.position.contact,personCount:a.position.personCount,workingTime:a.position.workingTime,salaryCapMonth:a.position.salaryCapMonth,totalWork:a.position.totalWork,isToDifficultyStudent:a.position.isToDifficultyStudent,canApply:a.position.canApply,description:a.position.description,positionRequire:a.position.positionRequire,remark:a.position.remark,campus:a.position.campus},t.currentNodeStatus=a.currentNodeStatus,t.positionId=a.id,t.curRouter="jobDeclarePage"}};return"TODO"===e.currentNodeStatus?[a,{tag:"a",text:"通过",className:"opt-btn",callback:function(e,a){t.checkOpt("pass",[e.id])}},{tag:"a",text:"不通过",className:"opt-btn",callback:function(e,a){t.checkOpt("unpass",[e.id])}}]:[a]}}]):t.$toast(e.message)}}),Object(i.e)({url:"/api/system/dicts",dataType:"json",type:"get",data:{dictType:"校区"},success:function(e){e.state?t.schoolData=e.data:t.$toast(e.message)}}),Object(i.e)({url:"/api/system/dicts",dataType:"json",type:"get",data:{dictType:"岗位类型"},success:function(e){e.state?t.positionTypeData=e.data:t.$toast(e.message)}})},data:function(){return{collegeOptions:[],currentCollegeId:"",columns:[],checkUrl:"/table-data/pwps/workflow/runtime/position/instances",showJobModal:!1,isTodifficultStudentData:[],canApplyData:[],jobDeclareData:{unitId:"",managerId:"",userNo:"",userName:"",positionType:"",positionName:"",address:"",rewardStandard:"",jobStartTime:"",jobEndTime:"",applyStartTime:"",applyEndTime:"",schoolYearId:"",contact:"",personCount:"",workingTime:"",salaryCapMonth:"",isToDifficultyStudent:"",canApply:"",description:"",positionRequire:"",remark:"",campus:"",unitName:""},isView:!0,tableCheckedList:[],positionTypeData:[],schoolData:[],colleges:[],allowReject:"",allowBatchOperation:"",checkTabs:[],checkTabId:"",checkType:"",checkStatus:{SUCCESS:"通过",FAILED:"不通过",PENDING:"审核中",CANCELED:"申请者取消"},showExportModal:!1,exportFieldList:[],exportIds:[],currentNodeStatus:"",positionId:"",showUnpassOpinionModal:!1,unpassIds:[],opinion:"",timeStamp:"",curRouter:"unitJobCheck",newJobDeclareData:{},jobFormInfo:{unitId:"",managerId:"",userNo:"",userName:""},optParameter:{isCheck:!1,optsType:"",canCancel:!1,canResubmit:!1,canRevoke:!1,isShowLog:!1},jobParameter:{positionId:"",isView:!1,unitName:""},lang:"zh-cn"}},computed:{translate:function(){return Object(i.g)(this.lang).schoolRoleManage},tableCheckedIds:function(){var t=[];return this.tableCheckedList.forEach(function(e){"TODO"===e.currentNodeStatus&&t.push(e.id)}),t}},methods:{_backJobCheck:function(){this.curRouter="unitJobCheck"},_unpass:function(t){this.unpassIds=[],this.unpassIds.push(this.positionId),this.opinion=t.opinion,this.submitUnpassOpinion()},_pass:function(t){var e=this;window.confirm("确定通过吗？")&&Object(i.e)({url:"/api/pwps/workflow/runtime/position/instances/success",type:"post",data:{ids:[this.positionId],position:{rewardStandard:t.rewardStandard,salaryCapMonth:t.salaryCapMonth,personCount:t.personCount,isToDifficultyStudent:t.isToDifficultyStudent,canApply:t.canApply,applyStartTime:t.applyStartTime,applyEndTime:t.applyEndTime}},success:function(t){t.state?(e.timeStamp=Object(i.a)(),e.tableCheckedList=[],e.curRouter="unitJobCheck",e.$toast("操作成功")):e.$toast(t.message)}})},_revoke:function(){var t=this;window.confirm("确定撤回吗？")&&Object(i.e)({url:"/api/pwps/workflow/runtime/position/instances/"+this.positionId+"/revoke",type:"post",success:function(e){e.state?(t.timeStamp=Object(i.a)(),t.$toast("撤回成功"),t.curRouter="unitJobCheck"):t.$toast(e.message)}})},_checkField:function(t){var e=this.exportFieldList.indexOf(t.id);e>=0?this.exportFieldList.splice(e,1):this.exportFieldList.push(t.id)},changeCheckTab:function(t){var e=this;this.checkTabId=t.value,this.checkTabs.forEach(function(t,a){t.id===e.checkTabId&&(e.allowBatchOperation=t.allowBatchOperation,e.allowReject=t.allowReject,e.checkType=t.type)})},_exportFile:function(){var t=this;this.tableCheckedList.forEach(function(e,a){t.exportIds.push(e.id)});var e=this.$refs.jobTabel.tableSearchFields,a="";for(var s in e)e[s]?a+="&"+s+"="+e[s]:a+="&"+s+"=";this.$waiting.show(),Object(i.e)({url:"/api/pwps/workflow/runtime/position/instances/export?nodeId="+this.checkTabId+"&nodeType="+this.checkType+"&ids="+this.exportIds+a,type:"get",success:function(e){e.state?window.location.href="/downloads/pwps/workflow/runtime/download?key="+e.data:t.$toast(e.message)}}).always(function(){t.$waiting.close()})},checkOpt:function(t,e){var a=this;0!==e.length?"pass"===t?window.confirm("确定通过吗？")&&Object(i.e)({url:"/api/pwps/workflow/runtime/position/instances/success",type:"post",data:{ids:e},success:function(t){t.state?(a.timeStamp=Object(i.a)(),a.tableCheckedList=[],a.curRouter="unitJobCheck",a.$toast("操作成功")):a.$toast(t.message)}}):(this.showUnpassOpinionModal=!0,this.unpassIds=[],this.unpassIds=e,this.opinion=""):this.$toast("当前没有可操作的数据")},submitUnpassOpinion:function(){var t=this;if(!this.opinion)return this.$toast("请输入不通过的意见");Object(i.e)({url:"/api/pwps/workflow/runtime/position/instances/failed",type:"post",data:{ids:this.unpassIds,opinion:this.opinion},success:function(e){e.state?(t.timeStamp=Object(i.a)(),t.showUnpassOpinionModal=!1,t.curRouter="unitJobCheck",t.tableCheckedList=[],t.$toast("操作成功")):t.$toast(e.message)}})},_afterChecked:function(t){this.tableCheckedList=t}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return"unitJobCheck"===t.curRouter?a("div",{staticClass:"container-fluid",attrs:{id:"unitJobCheck"}},[a("div",{staticClass:"row text-center",staticStyle:{position:"relative"}},[a("v-table",{ref:"jobTabel",attrs:{url:t.checkTabId?t.checkUrl+"?nodeId="+t.checkTabId+"&nodeType="+t.checkType+"&timeStamp="+t.timeStamp:"",pagesize:"10",idField:"id",order:!0,multiple:t.allowBatchOperation,search:!1,columnsControl:!0,columns:t.columns},on:{afterChecked:t._afterChecked}},[a("div",{attrs:{slot:"btn-group",role:"group"},slot:"btn-group"},[a("div",{staticClass:"btn-group pull-left"},[t.tableCheckedList.length>0?a("div",{staticClass:"batch-options"},[a("span",{staticClass:"pull-left"},[t._v("已选择"+t._s(t.tableCheckedList.length)+"项，其中可操作的有"+t._s(t.tableCheckedIds.length)+"项")]),t._v(" "),a("div",{staticClass:"pull-left",staticStyle:{"margin-left":"20px"}},[a("button",{staticClass:"btn btn-bgColor-style table-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){return t.checkOpt("pass",t.tableCheckedIds)}}},[t._v("通过")]),t._v(" "),a("button",{staticClass:"btn btn-bgColor-style   table-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){return t.checkOpt("unpass",t.tableCheckedIds)}}},[t._v("不通过")])])]):a("v-select",{attrs:{value:t.checkTabId,options:t.checkTabs,optionsLabel:"name",optionsValue:"id"},on:{afterSelected:t.changeCheckTab}})],1),t._v(" "),a("div",{staticClass:"btn-group pull-right"},[a("button",{staticClass:"btn btn-bgColor-style table-btn clearBtnBorder",attrs:{type:"button"},on:{click:t._exportFile}},[t._v("导出")])])])])],1),t._v(" "),a("v-modal",{attrs:{show:t.showExportModal}},[a("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("\n        导出字段配置\n      ")])]),t._v(" "),a("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[a("div",{staticClass:"field-list"},t._l(t.columns,function(e,s){return"opt"!==e.id?a("div",{key:s,staticClass:"field-item",class:{active:t.exportFieldList.indexOf(e.id)>=0},on:{click:function(a){return t._checkField(e)}}},[a("i",{staticClass:"maticon pull-left",domProps:{innerHTML:t._s(t.icons(t.exportFieldList.indexOf(e.id)>=0?"check_box":"check_box_outline_blank"))}}),t._v(" "),a("span",[t._v(t._s(e.title))])]):t._e()}),0)]),t._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showExportModal=!1}}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"}},[t._v("开始导出")])])]),t._v(" "),a("v-modal",{attrs:{show:t.showUnpassOpinionModal,width:"500"}},[a("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("\n        确定不通过该申请吗？\n      ")])]),t._v(" "),a("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.opinion,expression:"opinion"}],staticClass:"unpass-modal-textarea",attrs:{cols:"24",rows:"5",placeholder:"请输入不通过的意见",maxlength:"600"},domProps:{value:t.opinion},on:{input:function(e){e.target.composing||(t.opinion=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showUnpassOpinionModal=!1}}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t.submitUnpassOpinion}},[t._v("确定")])])])],1):a("jobDeclare",{attrs:{jobFormInfo:t.jobFormInfo,optParameter:t.optParameter,newJobDeclareData:t.jobDeclareData,jobParameter:t.jobParameter},on:{back:t._backJobCheck,unpass:t._unpass,pass:t._pass,revoke:t._revoke}})},staticRenderFns:[]};var l=a("C7Lr")(n,r,!1,function(t){a("O7Jv")},null,null);e.default=l.exports},Zb6B:function(t,e,a){"use strict";a("aeU8");var s=a("a5EU"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"job-declare-page",attrs:{id:"jobDeclare"}},[t.optParameter.isShowLog?a("div",{staticClass:"log"},[a("button",{staticClass:"btn log-toggle",class:[t.logShow?"open":""],attrs:{title:"操作日志"},on:{click:function(e){t.logShow=!t.logShow}}},[t._v("日志")]),t._v(" "),a("div",{staticClass:"log-content",class:[t.logShow?"active":""]},[t.isLogRecord?a("div",{staticClass:"log-item"},[a("span",{staticClass:"btn-block log-time"},[t._v("当前状态")]),t._v(" "),a("label",[a("strong",[t._v(t._s(t.logData.statusLabel))])])]):a("div",{staticClass:"log-item"},[t._m(0)]),t._v(" "),t._l(t.logData.histories,function(e,s){return a("div",{key:s,staticClass:"log-item"},[a("label",{staticClass:"btn-block log-time"},[t._v(t._s(e.createTime))]),t._v(" "),a("label",{staticClass:"btn-block log-detail"},[t._v("在\n          "),a("strong",[t._v(t._s(e.node.nodeType.name))]),t._v("节点\n        ")]),t._v(" "),a("label",{staticClass:"btn-block log-detail"},[a("strong",[t._v(t._s(e.operator.name))]),t._v(" "),"ADD"===e.actionType?a("strong",[t._v("\n            新增岗位\n          ")]):a("strong",[t._v(t._s(t.actionTypeData[e.actionType])+"申请")])]),t._v(" "),"DISAGREE"===e.actionType?a("label",{staticClass:"btn-block log-detail"},[t._v("意见为：\n          "),a("strong",[t._v(t._s(e.opinion))])]):t._e(),t._v(" "),a("div",{staticClass:"log-records"},t._l(e.modifiedValues,function(e,s){return a("p",{key:s},[a("label",{staticClass:"btn-block log-detail"},[t._v("更新了\n              "),a("strong",[t._v(t._s(e.valueTypeLabel))]),t._v("为\n              "),a("strong",[t._v(t._s(e.newValueLabel))])])])}),0)])})],2)]):t._e(),t._v(" "),a("div",{staticClass:"jobDeclare-header"},[a("i",{staticClass:"maticon back-icon-btn pull-left",domProps:{innerHTML:t._s(t.icons("navigate_before"))},on:{click:t._back}},[t._v("navigate_before")]),t._v(" "),a("div",{staticClass:"jobDeclare-title"},[t._v("新增")])]),t._v(" "),a("div",{staticClass:"jobDelare-body",style:"max-height:"+t.scrollHeight+"px"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[t._m(1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.userNo,expression:"jobDeclareData.userNo"}],staticClass:"form-control modal-form-style search-input",attrs:{type:"text",disabled:!!t.isView},domProps:{value:t.jobDeclareData.userNo},on:{change:t.checkUser,input:function(e){e.target.composing||t.$set(t.jobDeclareData,"userNo",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[t._m(2),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.userName,expression:"jobDeclareData.userName"}],staticClass:"form-control search-input modal-form-style",attrs:{type:"text",disabled:"disabled"},domProps:{value:t.jobDeclareData.userName},on:{input:function(e){e.target.composing||t.$set(t.jobDeclareData,"userName",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[t._m(3),t._v(" "),a("v-select",{staticClass:"btn-block search-select",attrs:{value:t.jobDeclareData.positionType,options:t.positionTypeData,optionsLabel:"label",optionsValue:"value",disabled:!!t.isView,search:"","close-on-select":""},on:{afterSelected:t.positionTypeSelected}})],1),t._v(" "),a("div",{staticClass:"form-group"},[t._m(4),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.positionName,expression:"jobDeclareData.positionName"}],staticClass:"form-control modal-form-style search-input",attrs:{type:"text",maxlength:"50",disabled:!!t.isView},domProps:{value:t.jobDeclareData.positionName},on:{input:function(e){e.target.composing||t.$set(t.jobDeclareData,"positionName",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[t._m(5),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.address,expression:"jobDeclareData.address"}],staticClass:"form-control modal-form-style search-input",attrs:{type:"text",maxlength:"50",disabled:!!t.isView},domProps:{value:t.jobDeclareData.address},on:{input:function(e){e.target.composing||t.$set(t.jobDeclareData,"address",e.target.value)}}})]),t._v(" "),"check"===t.optParameter.optsType?a("div",{staticClass:"form-group"},[t._m(6),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.rewardStandard,expression:"jobDeclareData.rewardStandard"}],staticClass:"form-control modal-form-style search-input",attrs:{type:"text",maxlength:"50"},domProps:{value:t.jobDeclareData.rewardStandard},on:{change:function(e){return t.digitalLimit("rewardStandard")},input:function(e){e.target.composing||t.$set(t.jobDeclareData,"rewardStandard",e.target.value)}}}),t._v(" "),a("i",{staticClass:"maticon edit-icon",domProps:{innerHTML:t._s(t.icons("edit"))}},[t._v("eidt")])]):a("div",{staticClass:"form-group"},[t._m(7),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.rewardStandard,expression:"jobDeclareData.rewardStandard"}],staticClass:"form-control modal-form-style search-input",attrs:{type:"text",maxlength:"50",disabled:!!t.isView},domProps:{value:t.jobDeclareData.rewardStandard},on:{change:function(e){return t.digitalLimit("rewardStandard")},input:function(e){e.target.composing||t.$set(t.jobDeclareData,"rewardStandard",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"input-label one-words-difference-margin"},[t._v("岗位总工时上限（小时）\n          ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.totalWork,expression:"jobDeclareData.totalWork"}],staticClass:"form-control modal-form-style search-input",attrs:{type:"number",maxlength:"50",oninput:"value=value.replace(/^(\\.*)(\\d+)(\\.?)(\\d{0,2}).*$/g,'$2$3$4')",disabled:!!t.isView},domProps:{value:t.jobDeclareData.totalWork},on:{input:function(e){e.target.composing||t.$set(t.jobDeclareData,"totalWork",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group datepicker-group"},[t._m(8),t._v(" "),a("v-datepicker",{ref:"workStartTime",staticClass:"modal-form-style search-select",attrs:{disabled:!!t.isView,clearButton:!1,showTime:!1},on:{daySelected:t.workStartTimeSelected},model:{value:t.jobDeclareData.jobStartTime,callback:function(e){t.$set(t.jobDeclareData,"jobStartTime",e)},expression:"jobDeclareData.jobStartTime"}})],1),t._v(" "),"check"===t.optParameter.optsType?a("div",{staticClass:"form-group datepicker-group"},[t._m(9),t._v(" "),a("v-datepicker",{ref:"applyStartTime",staticClass:"modal-form-style search-select",attrs:{clearButton:!1,showTime:!1},on:{daySelected:t.applyStartTimeSelected},model:{value:t.jobDeclareData.applyStartTime,callback:function(e){t.$set(t.jobDeclareData,"applyStartTime",e)},expression:"jobDeclareData.applyStartTime"}}),t._v(" "),a("i",{staticClass:"maticon datepicker-edit-icon",domProps:{innerHTML:t._s(t.icons("edit"))}},[t._v("eidt")])],1):a("div",{staticClass:"form-group datepicker-group"},[t._m(10),t._v(" "),a("v-datepicker",{ref:"applyStartTime",staticClass:"modal-form-style search-select",attrs:{disabled:!!t.isView,clearButton:!1,showTime:!1},on:{daySelected:t.applyStartTimeSelected},model:{value:t.jobDeclareData.applyStartTime,callback:function(e){t.$set(t.jobDeclareData,"applyStartTime",e)},expression:"jobDeclareData.applyStartTime"}})],1),t._v(" "),a("div",{staticClass:"input-group radio-group marginTop25px"},[t._m(11),t._v(" "),"check"===t.optParameter.optsType?a("div",{staticClass:"radio-area"},[t._l(t.isTodifficultStudentData,function(e,s){return a("div",{key:s},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.isToDifficultyStudent,expression:"jobDeclareData.isToDifficultyStudent"}],attrs:{type:"radio",id:e.id},domProps:{value:e.id,checked:t._q(t.jobDeclareData.isToDifficultyStudent,e.id)},on:{change:function(a){return t.$set(t.jobDeclareData,"isToDifficultyStudent",e.id)}}}),t._v(" "),a("label",{attrs:{for:e.id}},[t._v(t._s(e.text))])])}),t._v(" "),a("i",{staticClass:"maticon datepicker-edit-icon",staticStyle:{"margin-left":"112px"},domProps:{innerHTML:t._s(t.icons("edit"))}},[t._v("eidt")])],2):a("div",{staticClass:"radio-area"},t._l(t.isTodifficultStudentData,function(e,s){return a("div",{key:s},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.isToDifficultyStudent,expression:"jobDeclareData.isToDifficultyStudent"}],attrs:{type:"radio",id:e.id,disabled:!!t.isView},domProps:{value:e.id,checked:t._q(t.jobDeclareData.isToDifficultyStudent,e.id)},on:{change:function(a){return t.$set(t.jobDeclareData,"isToDifficultyStudent",e.id)}}}),t._v(" "),a("label",{attrs:{for:e.id}},[t._v(t._s(e.text))])])}),0)])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[t._m(12),t._v(" "),a("v-select",{staticClass:"btn-block search-select",attrs:{value:t.jobDeclareData.schoolYearId,disabled:!!t.isView,options:t.schoolYearData,optionsLabel:"name",optionsValue:"id",search:"","close-on-select":""},on:{afterSelected:t.schoolYearSelected}})],1),t._v(" "),a("div",{staticClass:"form-group"},[t._m(13),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.contact,expression:"jobDeclareData.contact"}],staticClass:"form-control modal-form-style search-input",attrs:{type:"text",maxlength:"50",disabled:!!t.isView},domProps:{value:t.jobDeclareData.contact},on:{change:t.isPhoneNo,input:function(e){e.target.composing||t.$set(t.jobDeclareData,"contact",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group",staticStyle:{"padding-top":"9px"}},[a("label",{staticClass:"input-label two-words-difference-margin"},[t._v("所属单位")]),t._v(" "),a("label",{staticClass:"input-label unit-name-label"},[t._v(t._s(t.unitName))])]),t._v(" "),"check"===t.optParameter.optsType?a("div",{staticClass:"form-group"},[t._m(14),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.personCount,expression:"jobDeclareData.personCount"}],staticClass:"form-control modal-form-style search-input",attrs:{type:"text",maxlength:"50"},domProps:{value:t.jobDeclareData.personCount},on:{change:function(e){return t.digitalLimit("personCount")},input:function(e){e.target.composing||t.$set(t.jobDeclareData,"personCount",e.target.value)}}}),t._v(" "),a("i",{staticClass:"maticon edit-icon",domProps:{innerHTML:t._s(t.icons("edit"))}},[t._v("eidt")])]):a("div",{staticClass:"form-group"},[t._m(15),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.personCount,expression:"jobDeclareData.personCount"}],staticClass:"form-control modal-form-style search-input",attrs:{type:"text",maxlength:"50",disabled:!!t.isView},domProps:{value:t.jobDeclareData.personCount},on:{change:function(e){return t.digitalLimit("personCount")},input:function(e){e.target.composing||t.$set(t.jobDeclareData,"personCount",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[t._m(16),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.workingTime,expression:"jobDeclareData.workingTime"}],staticClass:"form-control modal-form-style search-input",attrs:{type:"text",maxlength:"50",disabled:!!t.isView},domProps:{value:t.jobDeclareData.workingTime},on:{input:function(e){e.target.composing||t.$set(t.jobDeclareData,"workingTime",e.target.value)}}})]),t._v(" "),"check"===t.optParameter.optsType?a("div",{staticClass:"form-group"},[t._m(17),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.salaryCapMonth,expression:"jobDeclareData.salaryCapMonth"}],staticClass:"form-control modal-form-style search-input",attrs:{type:"text",maxlength:"50"},domProps:{value:t.jobDeclareData.salaryCapMonth},on:{change:function(e){return t.digitalLimit("salaryCapMonth")},input:function(e){e.target.composing||t.$set(t.jobDeclareData,"salaryCapMonth",e.target.value)}}}),t._v(" "),a("i",{staticClass:"maticon edit-icon",domProps:{innerHTML:t._s(t.icons("edit"))}},[t._v("eidt")])]):a("div",{staticClass:"form-group"},[t._m(18),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.salaryCapMonth,expression:"jobDeclareData.salaryCapMonth"}],staticClass:"form-control modal-form-style search-input",attrs:{type:"text",maxlength:"50",disabled:!!t.isView},domProps:{value:t.jobDeclareData.salaryCapMonth},on:{change:function(e){return t.digitalLimit("salaryCapMonth")},input:function(e){e.target.composing||t.$set(t.jobDeclareData,"salaryCapMonth",e.target.value)}}})]),t._v(" "),t._m(19),t._v(" "),a("div",{staticClass:"form-group datepicker-group"},[t._m(20),t._v(" "),a("v-datepicker",{ref:"workEndTime",staticClass:"modal-form-style search-select",attrs:{disabled:!!t.isView,clearButton:!1,showTime:!1},on:{daySelected:t.workEndTimeSelected},model:{value:t.jobDeclareData.jobEndTime,callback:function(e){t.$set(t.jobDeclareData,"jobEndTime",e)},expression:"jobDeclareData.jobEndTime"}})],1),t._v(" "),"check"===t.optParameter.optsType?a("div",{staticClass:"form-group datepicker-group"},[t._m(21),t._v(" "),a("v-datepicker",{ref:"applyEndTime",staticClass:"modal-form-style search-select",attrs:{clearButton:!1,showTime:!1},on:{daySelected:t.applyEndTimeSelected},model:{value:t.jobDeclareData.applyEndTime,callback:function(e){t.$set(t.jobDeclareData,"applyEndTime",e)},expression:"jobDeclareData.applyEndTime"}}),t._v(" "),a("i",{staticClass:"maticon datepicker-edit-icon",domProps:{innerHTML:t._s(t.icons("edit"))}},[t._v("eidt")])],1):a("div",{staticClass:"form-group datepicker-group"},[t._m(22),t._v(" "),a("v-datepicker",{ref:"applyEndTime",staticClass:"modal-form-style search-select",attrs:{disabled:!!t.isView,clearButton:!1,showTime:!1},on:{daySelected:t.applyEndTimeSelected},model:{value:t.jobDeclareData.applyEndTime,callback:function(e){t.$set(t.jobDeclareData,"applyEndTime",e)},expression:"jobDeclareData.applyEndTime"}})],1),t._v(" "),a("div",{staticClass:"input-group radio-group marginTop25px"},[t._m(23),t._v(" "),"check"===t.optParameter.optsType?a("div",{staticClass:"radio-area"},[t._l(t.canApplyData,function(e,s){return a("div",{key:s},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.canApply,expression:"jobDeclareData.canApply"}],attrs:{type:"radio",id:e.id},domProps:{value:e.id,checked:t._q(t.jobDeclareData.canApply,e.id)},on:{change:function(a){return t.$set(t.jobDeclareData,"canApply",e.id)}}}),t._v(" "),a("label",{attrs:{for:e.id}},[t._v(t._s(e.text))])])}),t._v(" "),a("i",{staticClass:"maticon datepicker-edit-icon",staticStyle:{"margin-left":"112px"},domProps:{innerHTML:t._s(t.icons("edit"))}},[t._v("eidt")])],2):a("div",{staticClass:"radio-area"},t._l(t.canApplyData,function(e,s){return a("div",{key:s},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.canApply,expression:"jobDeclareData.canApply"}],attrs:{type:"radio",id:e.id,disabled:!!t.isView},domProps:{value:e.id,checked:t._q(t.jobDeclareData.canApply,e.id)},on:{change:function(a){return t.$set(t.jobDeclareData,"canApply",e.id)}}}),t._v(" "),a("label",{attrs:{for:e.id}},[t._v(t._s(e.text))])])}),0)])])]),t._v(" "),a("div",{staticClass:"input-group radio-group four-words-difference-margin"},[a("label",{staticClass:"radio-text two-words-difference-margin"},[t._v("校区\n        "),t.schoolData.length>0?a("span",{staticClass:"star"},[t._v("*")]):t._e()]),t._v(" "),t.schoolData.length>0?a("div",{staticClass:"radio-area"},t._l(t.schoolData,function(e,s){return a("div",{key:s},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.campus,expression:"jobDeclareData.campus"}],attrs:{type:"radio",id:e.id,disabled:!!t.isView},domProps:{value:e.value,checked:t._q(t.jobDeclareData.campus,e.value)},on:{change:function(a){return t.$set(t.jobDeclareData,"campus",e.value)}}}),t._v(" "),a("label",{attrs:{for:e.id}},[t._v(t._s(e.label))])])}),0):a("div",{staticClass:"radio-area"},[a("label",{staticClass:"input-label unit-name-label"},[t._v("无")])])]),t._v(" "),a("div",{staticClass:"form-group"},[t._m(24),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.description,expression:"jobDeclareData.description"}],staticClass:"modal-textarea",attrs:{cols:"24",rows:"3",disabled:!!t.isView,maxlength:"600"},domProps:{value:t.jobDeclareData.description},on:{input:function(e){e.target.composing||t.$set(t.jobDeclareData,"description",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"input-label four-words-difference-margin textarea-label"},[t._v("岗位要求 ")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.positionRequire,expression:"jobDeclareData.positionRequire"}],staticClass:"modal-textarea",attrs:{cols:"24",rows:"3",disabled:!!t.isView,maxlength:"600"},domProps:{value:t.jobDeclareData.positionRequire},on:{input:function(e){e.target.composing||t.$set(t.jobDeclareData,"positionRequire",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"input-label other-words-difference-margin textarea-label"},[t._v("备注 ")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.jobDeclareData.remark,expression:"jobDeclareData.remark"}],staticClass:"modal-textarea",attrs:{cols:"24",rows:"3",disabled:!!t.isView,maxlength:"600"},domProps:{value:t.jobDeclareData.remark},on:{input:function(e){e.target.composing||t.$set(t.jobDeclareData,"remark",e.target.value)}}})])]),t._v(" "),t.optParameter.isCheck?a("div",{staticClass:"jobDelare-footer"},["revoke"===t.optParameter.optsType?a("div",{staticClass:"btn-group"},[t.optParameter.canRevoke?a("button",{staticClass:"btn submit-btn",attrs:{type:"button"},on:{click:t._revoke}},[t._v("撤回")]):t._e()]):a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn submit-btn",attrs:{type:"button"},on:{click:t._pass}},[t._v("通过")]),t._v(" "),a("button",{staticClass:"btn submit-btn",attrs:{type:"button"},on:{click:t._unpass}},[t._v("不通过")])])]):a("div",{staticClass:"jobDelare-footer"},["declare"===t.optParameter.optsType?a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t._sumbitJobDeclare}},[t._v("提交")])]):a("div",{staticClass:"btn-group"},[t.optParameter.canRevoke?a("button",{staticClass:"btn submit-btn",attrs:{type:"button"},on:{click:t._revoke}},[t._v("撤回")]):t._e(),t._v(" "),t.optParameter.canResubmit?a("button",{staticClass:"btn submit-btn",attrs:{type:"button"},on:{click:t._resubimt}},[t._v("重新提交")]):t._e(),t._v(" "),t.optParameter.canCancel?a("button",{staticClass:"btn submit-btn",attrs:{type:"button"},on:{click:t._cancelApplication}},[t._v("取消申报")]):t._e()])]),t._v(" "),a("v-modal",{attrs:{show:t.showUnpassOpinionModal,width:"500"}},[a("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("确定不通过该申请吗？")])]),t._v(" "),a("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.opinion,expression:"opinion"}],staticClass:"unpass-modal-textarea",attrs:{cols:"24",rows:"5",placeholder:"请输入不通过的意见",maxlength:"600"},domProps:{value:t.opinion},on:{input:function(e){e.target.composing||(t.opinion=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showUnpassOpinionModal=!1}}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:t.submitUnpassOpinion}},[t._v("确定")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("strong",[this._v("暂无相关日志")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label three-words-difference-margin"},[this._v("负责人工号\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label three-words-difference-margin"},[this._v("负责人姓名"),e("span",{staticClass:"star"},[this._v("   ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label four-words-difference-margin"},[this._v("岗位类型\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label four-words-difference-margin"},[this._v("岗位名称\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label four-words-difference-margin"},[this._v("工作地点\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label"},[this._v("报酬标准(元/小时)\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label"},[this._v("报酬标准(元/小时)\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label two-words-difference-margin"},[this._v("工作开始时间\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label two-words-difference-margin"},[this._v("申请开始时间\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label two-words-difference-margin"},[this._v("申请开始时间\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"radio-text two-words-difference-margin"},[this._v("只针对困难生\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label four-words-difference-margin"},[this._v("学年\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label two-words-difference-margin"},[this._v("联系方式\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label two-words-difference-margin"},[this._v("岗位人数\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label two-words-difference-margin"},[this._v("岗位人数\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label two-words-difference-margin"},[this._v("工作时段"),e("span",{staticClass:"star"},[this._v("   ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label one-words-difference-margin"},[this._v("人员月工资上限\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label one-words-difference-margin"},[this._v("人员月工资上限\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{staticClass:"input-label one-words-difference-margin"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label"},[this._v("工作结束时间\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label"},[this._v("申请结束时间\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label"},[this._v("申请结束时间\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"radio-text"},[this._v("允许学生申请\n            "),e("span",{staticClass:"star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"input-label four-words-difference-margin textarea-label"},[this._v("岗位描述\n        "),e("span",{staticClass:"star"},[this._v("*")])])}]};var o=function(t){a("MrtH")},n=a("C7Lr")(s.a,i,!1,o,null,null);e.a=n.exports},a5EU:function(t,e,a){"use strict";(function(t){var s=a("3cXf"),i=a.n(s),o=(a("kV13"),a("C331"));e.a={inject:{windowObj:{default:null}},props:{data:{default:null},optParameter:{default:null},newJobDeclareData:{default:null},jobFormInfo:{default:null},jobParameter:{default:null}},data:function(){return{isTodifficultStudentData:[],canApplyData:[],jobDeclareData:{unitId:"",managerId:"",userNo:"",userName:"",positionType:"",positionName:"",address:"",rewardStandard:"",jobStartTime:"",jobEndTime:"",applyStartTime:"",applyEndTime:"",schoolYearId:"",contact:"",personCount:"",workingTime:"",salaryCapMonth:"",totalWork:"",isToDifficultyStudent:"",canApply:"",description:"",positionRequire:"",remark:"",campus:""},unitName:"",modalType:"",isView:!1,positionTypeData:[],schoolYearData:[],schoolData:[],lang:"zh-cn",logShow:!1,isShowLog:!1,scrollHeight:null,logData:{},isLogRecord:!1,actionTypeData:{AGREE:"同意",DISAGREE:"不同意",REJECT:"驳回",REVOKE:"撤回",RESUBMIT:"重新提交",CANCEL:"取消申请"},showUnpassOpinionModal:!1,opinion:""}},created:function(){var t=this;"declare"===this.optParameter.optsType?(this.jobDeclareData.unitId=this.jobFormInfo.unitId,this.jobDeclareData.managerId=this.jobFormInfo.managerId,this.jobDeclareData.userNo=this.jobFormInfo.userNo,this.jobDeclareData.userName=this.jobFormInfo.userName):this.jobDeclareData=JSON.parse(i()(this.newJobDeclareData)),this.unitName=this.jobParameter.unitName,this.isView=this.jobParameter.isView,this.isTodifficultStudentData=[{id:"true",text:"是"},{id:"false",text:"否"}],this.canApplyData=[{id:"true",text:"是"},{id:"false",text:"否"}],this.optParameter.isShowLog&&Object(o.e)({url:"/api/pwps/workflow/runtime/position/"+this.jobParameter.positionId+"/histories",dataType:"json",type:"get",success:function(e){e.state?e.data?(t.logData=e.data,t.isLogRecord=!0):t.isLogRecord=!1:t.$toast(e.message)}}),Object(o.e)({url:"/api/system/dicts",dataType:"json",type:"get",data:{dictType:"岗位类型"},success:function(e){e.state?t.positionTypeData=e.data:t.$toast(e.message)}}),Object(o.e)({url:"/api/pwps/positions/options/schoolYears",dataType:"json",type:"get",success:function(e){e.state?t.schoolYearData=e.data:t.$toast(e.message)}}),Object(o.e)({url:"/api/system/dicts",dataType:"json",type:"get",data:{dictType:"校区"},success:function(e){e.state?t.schoolData=e.data:t.$toast(e.message)}})},mounted:function(){var e=t("#jobDeclare").height();this.scrollHeight=e-t(".jobDeclare-header").height()},methods:{_back:function(){this.$emit("back")},_cancelApplication:function(){this.$emit("cancelApplication")},_resubimt:function(){this.$emit("resubimt")},_revoke:function(){this.$emit("revoke")},_sumbitJobDeclare:function(){if(!this.jobDeclareData.managerId)return this.$toast("负责人学工号不能为空"),!1;this.jobDeclareData.positionType?this.jobDeclareData.positionName?this.jobDeclareData.address?this.jobDeclareData.rewardStandard?isNaN(this.jobDeclareData.rewardStandard)?this.$toast("报酬标准必须为数字"):this.jobDeclareData.jobStartTime?this.jobDeclareData.jobEndTime?this.jobDeclareData.applyStartTime?this.jobDeclareData.applyEndTime?this.jobDeclareData.schoolYearId?this.jobDeclareData.contact?isNaN(this.jobDeclareData.contact)?this.$toast("联系方式必须为数字"):this.jobDeclareData.personCount?this.jobDeclareData.salaryCapMonth?""===this.jobDeclareData.totalWork||0!=this.jobDeclareData.totalWork?this.jobDeclareData.isToDifficultyStudent?this.jobDeclareData.canApply?this.jobDeclareData.description?this.schoolData.length>0&&!this.jobDeclareData.campus?this.$toast("请选择校区"):this.$emit("sumbitJobDeclare",this.jobDeclareData):this.$toast("岗位描述不能为空"):this.$toast("请选择是否允许学生申请"):this.$toast("请选择是否只针对困难生"):this.$toast("岗位总工时上限不能为0"):this.$toast("人员月工资上限不能为空"):this.$toast("岗位人数不能为空"):this.$toast("联系方式不能为空"):this.$toast("请选择学年"):this.$toast("申请结束时间不能为空"):this.$toast("申请开始时间不能为空"):this.$toast("工作结束时间不能为空"):this.$toast("工作开始时间不能为空"):this.$toast("报酬标准不能为空"):this.$toast("工作地点不能为空"):this.$toast("岗位名称不能为空"):this.$toast("请选择岗位类型")},_pass:function(){this.jobDeclareData.rewardStandard?isNaN(this.jobDeclareData.rewardStandard)?this.$toast("报酬标准必须为数字"):this.jobDeclareData.salaryCapMonth?this.$emit("pass",this.jobDeclareData):this.$toast("人员月工资上限不能为空"):this.$toast("报酬标准不能为空")},_unpass:function(){this.opinion="",this.showUnpassOpinionModal=!0},submitUnpassOpinion:function(){if(!this.opinion)return this.$toast("请输入不通过的意见");this.$emit("unpass",{opinion:this.opinion})},checkUser:function(){var t=this;this.jobDeclareData.userNo?Object(o.e)({url:"/api/users/"+this.jobDeclareData.userNo,type:"GET",success:function(e){e.state?(t.jobDeclareData.managerId=e.data.userId,t.jobDeclareData.userName=e.data.name):(t.$toast("用户不存在"),t.jobDeclareData.userName="")}}):this.$toast("请输入负责人学工号")},schoolYearSelected:function(t){this.jobDeclareData.schoolYearId=t.value},positionTypeSelected:function(t){this.jobDeclareData.positionType=t.value},workStartTimeSelected:function(t){var e=this;if(this.jobDeclareData.jobEndTime){if(new Date(t.value).getTime()-new Date(this.jobDeclareData.jobEndTime).getTime()>0)return this.$nextTick(function(){e.$toast("工作开始时间要在工作结束时间之前"),e.jobDeclareData.jobStartTime=""}),!1;this.jobDeclareData.jobStartTime=t.value}else this.jobDeclareData.jobStartTime=t.value},workEndTimeSelected:function(t){var e=this;if(this.jobDeclareData.jobStartTime){if(new Date(t.value).getTime()-new Date(this.jobDeclareData.jobStartTime).getTime()<0)return this.$nextTick(function(){e.$toast("工作结束时间要在工作开始时间之后"),e.jobDeclareData.jobEndTime=""}),!1;this.jobDeclareData.jobEndTime=t.value}else this.jobDeclareData.jobEndTime=t.value},applyStartTimeSelected:function(t){var e=this;if(this.jobDeclareData.applyEndTime){if(new Date(t.value).getTime()-new Date(this.jobDeclareData.applyEndTime).getTime()>0)return this.$nextTick(function(){e.$toast("申请开始时间要在申请结束时间之前"),e.jobDeclareData.applyStartTime=""}),!1;this.jobDeclareData.applyStartTime=t.value}else this.jobDeclareData.applyStartTime=t.value},applyEndTimeSelected:function(t){var e=this;if(this.jobDeclareData.applyStartTime){if(new Date(t.value).getTime()-new Date(this.jobDeclareData.applyStartTime).getTime()<0)return this.$nextTick(function(){e.$toast("申请结束时间要在申请开始时间之后"),e.jobDeclareData.applyEndTime=""}),!1;this.jobDeclareData.applyEndTime=t.value}else this.jobDeclareData.applyEndTime=t.value},digitalLimit:function(t){return"rewardStandard"===t&&isNaN(this.jobDeclareData.rewardStandard)?(this.$toast("报酬标准必须为数字"),void(this.jobDeclareData.rewardStandard="")):"personCount"===t&&isNaN(this.jobDeclareData.personCount)?(this.$toast("岗位人数必须为数字"),void(this.jobDeclareData.personCount="")):"salaryCapMonth"===t&&isNaN(this.jobDeclareData.salaryCapMonth)?(this.$toast("人员月工资上限必须为数字"),void(this.jobDeclareData.salaryCapMonth="")):void 0},isPhoneNo:function(){if(!/^1[3456789]\d{9}$/.test(this.jobDeclareData.contact))return this.$toast("联系方式格式不正确"),void(this.jobDeclareData.contact="")}},watch:{windowObj:{deep:!0,handler:function(){var e=t("#jobDeclare").height();this.scrollHeight=e-t(".jobDeclare-header").height()}}}}}).call(e,a("qqHy"))},aeU8:function(t,e,a){"use strict";(function(t){var e=a("3cXf");a.n(e),a("kV13"),a("C331")}).call(e,a("qqHy"))}});