webpackJsonp([73],{"1aJl":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("yrz8");var s=e("CSFE"),n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"carousel-view"},[e("div",{staticClass:"title"},[t._v("站点信息管理")]),t._v(" "),e("el-form",{ref:"positionInfoForm",staticClass:"box_flex flex_wrap form_wrap",attrs:{model:t.addParams,"label-width":"180px"}},[e("el-form-item",{staticClass:"long_form_item",attrs:{label:"网站名称"}},[e("el-input",{attrs:{type:"input",maxlength:20,placeholder:"请输入20字内的网站名称",resize:"none"},model:{value:t.addParams.name,callback:function(a){t.$set(t.addParams,"name",a)},expression:"addParams.name"}})],1),t._v(" "),e("el-form-item",{staticClass:"long_form_item",attrs:{label:"LOGO图片"}},[e("div",{staticClass:"box_flex"},[e("div",{staticClass:"btn batch-add-btn btn-bgColor-style clearBtnBorder",staticStyle:{"line-height":"26px"},on:{click:function(a){return t.selectImage()}}},[t._v("点击上传")]),t._v(" "),e("div",{staticClass:"tip"},[t._v("只能上传 jpg/png 文件，且不超过 1MB")])]),t._v(" "),t.addParams.logo?e("div",{staticClass:"img_wrap box_flex column flex_center"},[e("img",{staticStyle:{width:"100%"},attrs:{src:"/downloads/storage/images/"+t.addParams.logo,alt:""}})]):t._e()]),t._v(" "),e("el-form-item",{staticClass:"long_form_item",attrs:{label:"网站版权标识"}},[e("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"请输入网站版权标识",resize:"none"},model:{value:t.addParams.copyright,callback:function(a){t.$set(t.addParams,"copyright",a)},expression:"addParams.copyright"}})],1)],1),t._v(" "),e("input",{staticStyle:{display:"none"},attrs:{id:"logoImgInput",type:"file"},on:{change:function(a){return t.onSelectImage()}}}),t._v(" "),e("div",{staticClass:"box_flex flex_center"},[e("button",{staticClass:"btn submit-btn",on:{click:function(a){return t.save()}}},[t._v("保存")])])],1)},staticRenderFns:[]};var o=function(t){e("mxTt"),e("orUP")},i=e("C7Lr")(s.a,n,!1,o,"data-v-981be12e",null);a.default=i.exports},CSFE:function(t,a,e){"use strict";(function(t){var s=e("C331");a.a={props:{},created:function(){},data:function(){return{addParams:{copyright:"©️版权未知",logo:"",name:"网上服务大厅"},selectImageBase64:""}},mounted:function(){this.init()},methods:{init:function(){var t=this;Object(s.d)("/api/siteInfo").then(function(a){a.state?a.data&&(t.addParams=a.data):t.$toast(a.message)})},onSelectImage:function(t){var a=event.target.files[0],e=this;if(a){event.target.value="";var n=new FileReader;n.onloadend=function(t){var n=new Image;n.src=t.target.result,n.onload=function(){var t=e.addParams.logo,n=new FormData;n.append("file",a),Object(s.e)({url:e.uploadFile,type:"post",data:n,processData:!1,contentType:!1,success:function(a){if("88888"===a.code){if(t){var n="api/storage/files/"+t;Object(s.d)(n,{},"post").then(function(t){})}var o=a.data.hash;e.addParams.logo=o,e.$toast("图片上传成功")}else e.$toast(a.message)}})}},n.readAsDataURL(a)}},selectImage:function(){t("#logoImgInput").click()},save:function(){var t=this;this.addParams.logo||this.$toast("请上传logo图片"),Object(s.d)("/api/siteInfo",this.addParams,"post").then(function(a){a.state?t.$toast("更新成功"):t.$toast(a.message)})}}}}).call(a,e("qqHy"))},mxTt:function(t,a){},orUP:function(t,a){},yrz8:function(t,a,e){"use strict";(function(t){e("C331")}).call(a,e("qqHy"))}});