webpackJsonp([201],{"+YTL":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("3cXf"),n=s.n(a),i=s("C331"),c={data:function(){return{appear:!0,messageTypeList:["消息盒子"],groupList:[],number:{appId:"",appSecret:""}}},created:function(){var t=this;Object(i.e)({url:"/api/wechat",type:"get",async:!1,success:function(e){e.state?e.data?t.number=e.data:t.number={appId:"",appSecret:""}:t.$toast(e.message)}}).always(function(){}),Object(i.e)({url:"/api/wechat/messagePushConfig",type:"get",async:!1,success:function(e){e.state?(t.groupList=e.data,t.groupList.map(function(e,s){var a=[];e.wechatPush&&a.push("微信公众号"),e.messagePush&&a.push("消息盒子"),t.groupList[s].messageTypeList=a})):t.$toast(e.message)}}).always(function(){})},methods:{change:function(){var t=this;this.appear=!1,this.$nextTick(function(){t.groupList=t.groupList}),this.appear=!0},_save:function(){var t=this;this.$confirm("确认保存吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=JSON.parse(n()(t.groupList));e=e.map(function(t){var e={};return t.wechatPush=!1,t.messagePush=!1,t.messageTypeList.map(function(e){"消息盒子"==e&&(t.messagePush=!0)}),t.messageTypeList.map(function(e){"微信公众号"==e&&(t.wechatPush=!0)}),e.id=t.id,e.group=t.group,e.messagePush=t.messagePush,e.wechatPush=t.wechatPush,e.label=t.label,e}),Object(i.e)({url:"/api/wechat/messagePushConfig",type:"post",data:e,async:!1,success:function(e){e.state&&t.$toast("配置信息保存成功")}}).always(function(){})}).catch(function(){})}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"messageWXsetting-page"},[t._m(0),t._v(" "),t._l(t.groupList,function(e,a){return t.appear?s("div",{key:a,staticStyle:{padding:"10px"}},[s("label",{staticStyle:{dispaly:"inline-block"},attrs:{for:""}},[t._v(t._s(e.label))]),t._v(" "),s("el-checkbox-group",{staticClass:"my_checkbox",on:{change:t.change},model:{value:e.messageTypeList,callback:function(s){t.$set(e,"messageTypeList",s)},expression:"item.messageTypeList"}},[s("el-checkbox",{attrs:{label:"消息盒子"}}),t._v(" "),s("el-checkbox",{attrs:{label:"微信公众号",disabled:!t.number.appId}})],1)],1):t._e()}),t._v(" "),s("div",{staticStyle:{padding:"10px"}},[s("label",{staticClass:"ranking-text"}),t._v(" "),s("button",{staticClass:"btn submit",staticStyle:{width:"120px"},on:{click:t._save}},[t._v("保存")])])],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{padding:"10px"}},[e("p",{staticClass:"ranking-text",staticStyle:{"font-weight":"600 !important","font-size":"15px"}},[this._v("\n      发送方式配置\n      "),e("span",{staticStyle:{"font-size":"12px"}},[this._v("   (需要绑定公众号，才能使用微信公众号发送信息)")])])])}]};var p=s("C7Lr")(c,u,!1,function(t){s("/e2g")},null,null);e.default=p.exports},"/e2g":function(t,e){}});