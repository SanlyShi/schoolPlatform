webpackJsonp([116],{"+ll1":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("C331"),a=(i("4DA3"),i("VDzf")),n=i("WD6V"),s=i("Y253"),r=i("p+qa"),l=(a.a,n.a,s.a,{components:{position:a.a,oplog:n.a,positionEdit:s.a},data:function(){return{showAddDialog:!1,positionModel:"",positionModelList:[],loginType:"",dataUrl:"",showLog:!1,options:[],defaultValue:[],cityOptions:[],selectUnit:{dialog:!1,loading:!1,data:[],value:""},showDialog:!1,defaultFormInfo:null,recruitmentModifyLoading:!1,slodOutLoading:!1,modifyRecordDialog:!1,modifyRecordTableData:"",tableData_url:"/table-data/employment/manage/recruitment/getRecruitmentBySearch",unitInfo:{},newAddPosition:!1,newAddRecruit:!1,curRecruition:null,curPositionInfo:{},curEditPositionId:"",positionIdArr:[],positionInfoList:[],dict_type:[],dict_duty:[],dict_moneyRange:[],dict_educational:[],recruitmentInfoData2Details:{},recruitmentInfoData:{title:"",companyName:"",addressDetail:"",property:"",scale:"",linkman:"",contactPhone:"",contactPeople:"",email:"",receiptTime:"",unitIntroduction:"",summary:"",recruitmentBrief:"",positionInfoList:[],brochure:"",timeRange:[]},Rules:{contactPeople:[{required:!0,message:"请输入单位联系人",trigger:"blur"}],contactPhone:[{required:!0,validator:function(t,e,i){if(!e)return i(new Error("手机号不能为空"));if(!/^1[3|4|5|7|8][0-9]\d{8}$/.test(e))return i(new Error("请输入正确的手机号"));i()},trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确格式的邮箱",trigger:"blur"}],summary:[{required:!0,message:"请输入单位简介",trigger:"blur"}],timeRange:[{required:!0,message:"请选择简历接收时间",trigger:"change"}]},positionInfoForm:{positionName:"",positionType:"",positionProperty:"",major:"",diploma:"",salary:"",recruitNumber:"",workplace:"",positionRemarks:"",positionRequire:"",address:"",selectCity:[]},addPositionRules:{positionName:[{required:!0,message:"请输入职位名称",trigger:"blur"}],positionType:[{required:!0,message:"请输入职位类别",trigger:"blur"}],positionProperty:[{required:!0,message:"请选择职位性质",trigger:"change"}],major:[{required:!0,message:"请选择专业要求",trigger:"change"}],diploma:[{required:!0,message:"请选择学历要求",trigger:"change"}],salary:[{required:!0,message:"请选择薪资范围",trigger:"change"}],recruitNumber:[{required:!0,message:"招聘人数不能为空"}],positionRemarks:[{required:!0,message:"请填写工作职责",trigger:"blur"}],positionRequire:[{required:!0,message:"请填写工作要求",trigger:"blur"}],address:[{required:!0,message:"请选择工作地点",trigger:"change"}],selectCity:[{required:!0,message:"请选择工作地点",trigger:"change"}]},tabsItem:["单位信息","职位信息","招聘简章"],currentTab:0,showAddRecruidInfo:!1,showAddPositionModal:!1,showRecruidInfoList:!0,editStatus:!1}},created:function(){var t=this;this.getAllCompany(),this.getAddress(),this.getDict("行业","dict_type"),this.getDict("专业","dict_duty"),this.getDict("薪资范围","dict_moneyRange"),this.getDict("学历","dict_educational"),this.columns=[{id:"title",title:"招聘信息标题",className:"text-left",width:200,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"companyName",title:"单位",className:"text-left",width:130,hidden:!1,search:{type:"input",data:{placeholer:"",autoFocus:!1}}},{id:"positionNames",title:"岗位",width:150,className:"text-left",hidden:!1},{id:"opts",title:"操作",width:80,hidden:!1,formatter:function(e){return[{tag:"a",text:"查看",callback:function(e,i){t.curRecruition=e,t.ecruitmenInfoLook(e.id)}},{tag:"a",text:1==e.top?"取消置顶":"置顶",callback:function(e,i){var a=void 0,n=void 0;1==e.top?(a="false",n="取消置顶"):(a="true",n="置顶");var s="/api/employment/manage/recruitment/top?id="+e.id+"&top="+a;t.$confirm("是否执行"+n+"操作","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.e)({url:s,type:"post",success:function(e){e.state&&(e.state?(t.tableData_url="/table-data/employment/manage/recruitment/getRecruitmentBySearch?timeStamp="+(new Date).getTime(),t.$message.success(n+"成功")):(t.tableData_url="/table-data/employment/manage/recruitment/getRecruitmentBySearch?timeStamp="+(new Date).getTime(),t.$message.success(e.message)))}})}).catch(function(){t.$message({type:"info",message:"已取消"+n})})}}]}}]},methods:{toAddCompany:function(){this.$emit("toPage","/manage/unitManager","单位管理")},setPosition:function(){var t=this;if(""===this.positionModel)return this.$message.error("请先选择职位模板或新建职位模板");setTimeout(function(){t.showAddDialog=!1,t.showDialog=!0,t.isEditPosition=!0,t.curPositionIndex=-1,t.isEditPosition=!0},0)},newAdd:function(){var t=this;setTimeout(function(){t.showAddDialog=!1,t.showDialog=!0,t.defaultFormInfo=null,t.isEditPosition=!0,t.disabledEditPosition=!1},0)},selectModel:function(t){this.positionModel=t,this.defaultFormInfo=this.positionModelList[t]},edit:function(){this.editStatus=!this.editStatus},getIntroduction:function(t){t&&(this.recruitmentInfoData.summary=t,this.$refs.recruitmentInfoData.validateField("summary"))},checkPosition:function(t,e){this.showDialog=!0,this.defaultFormInfo=t},positionSubmit:function(t){var e=this;setTimeout(function(){(!e.isEditPosition||e.defaultFormInfo&&e.defaultFormInfo.id)&&e.positionInfoList.splice(e.curPositionIndex,1),e.positionInfoList.push(t)},500)},selectStartTime:function(t){this.recruitmentInfoData.startTime=t.value+" 00:00:00",this.recruitmentInfoData.timeRange[0]=t.value+" 00:00:00",this.recruitmentInfoData.endTime&&(this.recruitmentInfoData.timeRange=[this.recruitmentInfoData.timeRange[0],this.recruitmentInfoData.endTime],this.$refs.timeForm.clearValidate())},selectEndTime:function(t){this.recruitmentInfoData.endTime=t.value+" 23:59:59",this.recruitmentInfoData.timeRange[1]=t.value+" 23:59:59",this.recruitmentInfoData.startTime&&(this.recruitmentInfoData.timeRange=[this.recruitmentInfoData.startTime,t.value],this.$refs.timeForm.clearValidate())},addressChange:function(t){this.cityOptions=t},onSelectUnitSure:function(){var t=this;""!=this.selectUnit.value?(this.selectUnit.loading=!0,window.sessionStorage.setItem("addPosition_unitId",this.selectUnit.value),Object(o.e)({url:"/api/employment/manage/company/getCompanyDetail?id="+this.selectUnit.value,type:"GET",success:function(e){if(e.state){t.selectUnit.dialog=!1,t.positionInfoList=[],t.showRecruidInfoList=!1,t.newAddRecruit=!0,t.currentTab=0,t.showAddRecruidInfo=!0;var i=e.data.companyMessage;t.editStatus=!0,t.$nextTick(function(){t.$refs.recruitmentInfoData.resetFields(),t.$refs.recruitmentInfoData.clearValidate()}),t.recruitmentInfoData2Details={companyId:i.id,title:"",companyName:i.companyName,addressDetail:i.addressDetail,property:i.propertyName,scale:i.scaleName},t.recruitmentInfoData={id:"",companyId:i.id,title:"",companyName:i.companyName,addressDetail:i.addressDetail,property:i.propertyName,scale:i.scaleName,contactPeople:"",contactPhone:"",email:"",summary:"",recruitmentBrief:"",time:"",timeRange:[]}}else t.$message.error(e.message)}}).always(function(){t.selectUnit.loading=!1})):this.$message.error("请先选择单位")},onSoldOUt:function(){var t=this;this.slodOutLoading=!0,Object(o.e)({url:"/api/employment/manage/recruitment/soldOutRecruitment?id="+this.curRecruition.id,type:"post",success:function(e){e.state?(t.$message.success("下架成功"),t.showRecruidInfoList=!0,t.showAddRecruidInfo=!1):t.$message.error(e.message)}}).always(function(){t.slodOutLoading=!1})},onLookModifyRecord:function(){var t=this;this.modifyRecordDialog=!0,Object(o.e)({url:"/api/employment/manage/recruitment/getRecruitmentRecprd?relationId="+this.curRecruition.id,type:"get",success:function(e){e.state?t.modifyRecordTableData=e.data:t.$message.error(e.message)}})},getAllCompany:function(){var t=this;Object(o.e)({url:"/api/employment/manage/recruitment/getAllCompany",type:"get",success:function(e){e.state&&(t.selectUnit.data=e.data)}})},dateChange:function(t){},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var i=void 0,a=e.positionInfoForm,n=e.positionInfoForm.positionType,s=[];if(e.cityOptions.map(function(t){s.push(t[t.length-1])}),a.workplace=s.join(","),e.dict_type.map(function(t){t.value==n&&(a.positionTypeName=t.label)}),e.newAddRecruit)return e.showAddPositionModal=!1,e.newAddPosition?e.positionInfoList.push(a):(e.positionInfoList.splice(e.curEditPositionId,1),e.positionInfoList.push(a)),e.$message.success("保存成功");a.recruitmentId=e.curRecruition.id,a.type="RECRUITMENT",i=e.newAddPosition?"/api/employment/recruitment/addPosition":"/api/employment/recruitment/updatePosition",Object(o.e)({url:i,type:"post",data:a,success:function(t){if(t.state){var i=void 0;i=e.newAddPosition?"新增成功":"编辑成功",e.$message.success(i),e.ecruitmenInfoLook(e.curRecruition.id),e.showAddPositionModal=!1}else e.$message.error("操作失败,请重试")}})}})},resetForm:function(t){this.newAddRecruit||this.$refs[t].resetFields(),this.showAddPositionModal=!1},onRecruitmentBrochureBack:function(){this.newAddRecruit?(this.recruitmentInfoData.title="",this.recruitmentInfoData.contactPeople="",this.recruitmentInfoData.contactPhone="",this.recruitmentInfoData.email="",this.recruitmentInfoData.time="",this.recruitmentInfoData.summary="",this.recruitmentInfoData.recruitmentBrief="",this.positionInfoList=[]):this.ecruitmenInfoLook(this.curRecruition.id)},onRecruitmentModifySure:function(){var t=this,e=void 0,i=this.recruitmentInfoData;this.$refs.recruitmentInfoData.validate(function(a){if(a){if(i.recruitmentPositionVOList=t.positionInfoList,t.newAddRecruit?(e="/api/employment/manage/recruitment/addRecruitment",i.timeRange.length&&(i.startTime=i.timeRange[0]+" 00:00:00",i.endTime=i.timeRange[1]+" 23:59:59")):(e="/api/employment/manage/recruitment/updateRecruitment",i.timeRange.length&&(i.startTime=i.timeRange[0],i.endTime=i.timeRange[1])),!i.title)return t.$message.error("请填写招聘标题");if(!i.summary)return t.$message.error("请填写公司简介");t.recruitmentModifyLoading=!0,Object(o.e)({url:e,type:"post",data:i,success:function(e){e.state?(t.$message.success("操作成功"),t.showRecruidInfoList=!0,t.showAddRecruidInfo=!1,t.tableData_url="/table-data/employment/manage/recruitment/getRecruitmentBySearch?timeStamp="+(new Date).getTime()):t.$message.error(e.message)}}).always(function(){t.recruitmentModifyLoading=!1})}else t.$message.error("请先填写完整信息")})},onPositionIndoEdit:function(t,e){this.newAddPosition=!1,this.showDialog=!0,this.isEditPosition=!1,this.defaultFormInfo=t,this.curPositionIndex=e},onPositionInfoAdd:function(){var t=this;Object(r.j)().then(function(e){if(e.state)if("COMPANY"==e.data.loginType)Object(r.m)().then(function(e){e.state&&(t.positionModelList=e.data,t.showAddDialog=!0)});else{var i=window.sessionStorage.getItem("addPosition_unitId");if(!i)return t.positionModelList=[],void(t.showAddDialog=!0);Object(r.m)(i).then(function(e){e.state&&(t.positionModelList=e.data,t.showAddDialog=!0)})}else t.$message("try later..")})},getDict:function(t,e){var i=this,a="/api/employment/system/findDictByTypeName?typeName="+t;Object(o.e)({url:a,type:"get",success:function(t){t.state?i[e]=t.data:i[e]=[]}})},recruitmenInfoDelete:function(t,e){var i=this;if(this.positionInfoList.splice(e,1),!this.newAddRecruit){var a="/api/employment/recruitment/deletePosition?recruitmentPositionId="+t.id;Object(o.e)({url:a,type:"post",success:function(t){t.state&&i.$message.success("删除职位成功")}})}},showOpLog:function(){this.showLog=!this.showLog},ecruitmenInfoLook:function(t){var e=this,i="/api/employment/recruitment/getRecruitment?recruitmentId="+t;this.newAddRecruit=!1,this.currentTab=0,this.editStatus=!1,Object(o.e)({url:i,type:"get",success:function(i){if(i.state&&i.data){var o=i.data;e.showRecruidInfoList=!1,e.showAddRecruidInfo=!0,e.showLog=!1,e.dataUrl="/api/employment/manage/recruitment/getOperationDetailList?id="+t+"&time="+(new Date).getTime(),e.recruitmentInfoData2Details={status:o.status,title:o.title,companyName:o.companyName,addressDetail:o.addressDetail,property:o.property,scale:o.scale,contactPeople:o.contactPeople,contactPhone:o.contactPhone,email:o.email,summary:o.summary,recruitmentBrief:o.recruitmentBrief},e.recruitmentInfoData={status:o.status,id:o.id,companyId:o.companyId,title:o.title,companyName:o.companyName,addressDetail:o.addressDetail,property:o.property,scale:o.scale,contactPeople:o.contactPeople,contactPhone:o.contactPhone,email:o.email,summary:o.summary,recruitmentBrief:o.recruitmentBrief},o.startTime?(e.recruitmentInfoData.timeRange=[o.startTime,o.endTime],e.recruitmentInfoData2Details.time=o.startTime.split(" ")[0]+" - "+o.endTime.split(" ")[0]):(e.recruitmentInfoData.timeRange=[],e.recruitmentInfoData2Details.time=""),e.positionInfoList=i.data.recruitmentPositionList}}})},createRecruid:function(){0!=this.selectUnit.data.length?(this.curRecruition=null,this.selectUnit.dialog=!0):this.$message.error("单位不存在，请先让单位注册或前往单位管理创建单位")},tabsItemClick:function(t){this.currentTab=t},exportStat:function(){window.location.href="/downloads/employment/manage/recruitment/getRecruitmentExcel"},getAddress:function(){var t=this;Object(o.e)({url:"/api/employment/system/getThreeLevelDict?typeName=地区",type:"get",success:function(e){e.state&&(t.options=e.data)}})}}}),c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recruitmentInfo",attrs:{id:"recruitmentInfo"}},[t.showAddRecruidInfo?i("div",{staticClass:"flex-between"},[i("el-button",{staticStyle:{color:"#666"},attrs:{type:"text",icon:"el-icon-back"},on:{click:function(e){t.showAddRecruidInfo=!1,t.showRecruidInfoList=!0}}},[t._v("返回")]),t._v(" "),t.curRecruition?i("div",{staticClass:"opt-btn"},[i("el-button",{attrs:{type:"text",loading:t.slodOutLoading},on:{click:t.onSoldOUt}},[t._v("下架")]),t._v(" "),i("el-button",{attrs:{type:"text"},on:{click:t.onLookModifyRecord}},[t._v("查看修改记录")])],1):t._e()],1):t._e(),t._v(" "),t.showRecruidInfoList?i("div",[i("v-table",{ref:"unitsManagerTable",attrs:{url:t.tableData_url,columns:t.columns,pagesize:"15",idField:"id",multiple:!1,order:!0,search:!1}},[i("div",{staticClass:"pull-right",attrs:{slot:"btn-group"},slot:"btn-group"},[i("el-button",{staticClass:"custom-btn",attrs:{type:"primary"},on:{click:function(e){return t.createRecruid()}}},[t._v("新增招聘信息")]),t._v(" "),i("el-button",{staticClass:"custom-btn",staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.exportStat()}}},[t._v("导出")])],1)])],1):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showAddRecruidInfo,expression:"showAddRecruidInfo"}]},[i("div",{staticClass:"title addRecruid-title"},[t._m(0),t._v(" "),t.editStatus?i("el-input",{staticClass:"input-custom w50",attrs:{placeholder:"请输入招聘标题"},model:{value:t.recruitmentInfoData.title,callback:function(e){t.$set(t.recruitmentInfoData,"title",e)},expression:"recruitmentInfoData.title"}}):t._e(),t._v(" "),t.editStatus?t._e():i("span",[t._v(t._s(t.recruitmentInfoData2Details.title))])],1),t._v(" "),i("div",{staticClass:"tabs"},[i("ul",{staticClass:"tabs-title clearfix"},[t.showAddRecruidInfo?i("div",{class:{show:t.showLog},attrs:{id:"timeline"}},[i("oplog",{attrs:{dataUrl:t.dataUrl}})],1):t._e(),t._v(" "),t._l(t.tabsItem,function(e,o){return i("li",{key:o,class:{active:t.currentTab==o},on:{click:function(e){return t.tabsItemClick(o)}}},[t._v(t._s(e))])}),t._v(" "),i("li",{staticStyle:{float:"right",width:"auto"}},[i("div",{staticClass:"btnGrou"},[1==t.recruitmentInfoData2Details.status||0==t.recruitmentInfoData2Details.status?i("a",{on:{click:t.edit}},[i("i",{staticClass:"editIcon"}),i("em",[t._v(t._s(t.editStatus?"取消编辑":"编辑"))])]):t._e(),t._v(" "),i("a",{on:{click:t.showOpLog}},[t._v("操作日志")])])])],2),t._v(" "),i("ul",{staticClass:"tabs-content"},[i("li",{directives:[{name:"show",rawName:"v-show",value:0==t.currentTab,expression:"currentTab==0"}],staticClass:"unit-info"},[i("el-form",{directives:[{name:"show",rawName:"v-show",value:0==t.currentTab,expression:"currentTab==0"}],ref:"recruitmentInfoData",staticClass:"tabs-content-form",attrs:{model:t.recruitmentInfoData,rules:t.Rules,"label-width":"150px"}},[i("div",{staticClass:"w50"},[i("el-form-item",{attrs:{label:"单位名称："}},[i("span",[t._v(t._s(t.recruitmentInfoData2Details.companyName))])]),t._v(" "),i("el-form-item",{attrs:{label:"单位性质："}},[i("span",[t._v(t._s(t.recruitmentInfoData2Details.property))])])],1),t._v(" "),i("div",{staticClass:"w50"},[i("el-form-item",{attrs:{label:"单位地址："}},[i("span",[t._v(t._s(t.recruitmentInfoData2Details.addressDetail))])]),t._v(" "),i("el-form-item",{attrs:{label:"单位规模："}},[i("span",[t._v(t._s(t.recruitmentInfoData2Details.scale))])])],1),t._v(" "),i("el-form-item",{staticClass:"w100",attrs:{label:"单位联系人：",prop:"contactPeople"}},[t.editStatus?t._e():i("span",[t._v(t._s(t.recruitmentInfoData2Details.contactPeople))]),t._v(" "),t.editStatus?i("el-input",{staticClass:"input-custom",attrs:{placeholder:"单位联系人"},model:{value:t.recruitmentInfoData.contactPeople,callback:function(e){t.$set(t.recruitmentInfoData,"contactPeople",e)},expression:"recruitmentInfoData.contactPeople"}}):t._e()],1),t._v(" "),i("el-form-item",{staticClass:"w100",attrs:{label:"联系人电话：",prop:"contactPhone"}},[t.editStatus?t._e():i("span",[t._v(t._s(t.recruitmentInfoData2Details.contactPhone))]),t._v(" "),t.editStatus?i("el-input",{staticClass:"input-custom",attrs:{placeholder:"请输入电话"},model:{value:t.recruitmentInfoData.contactPhone,callback:function(e){t.$set(t.recruitmentInfoData,"contactPhone",e)},expression:"recruitmentInfoData.contactPhone"}}):t._e()],1),t._v(" "),i("el-form-item",{staticClass:"w100",attrs:{prop:"email",label:"简历接收邮箱："}},[t.editStatus?t._e():i("span",[t._v(t._s(t.recruitmentInfoData2Details.email))]),t._v(" "),t.editStatus?i("el-input",{staticClass:"input-custom",attrs:{placeholder:"请输入邮箱"},model:{value:t.recruitmentInfoData.email,callback:function(e){t.$set(t.recruitmentInfoData,"email",e)},expression:"recruitmentInfoData.email"}}):t._e()],1),t._v(" "),i("el-form-item",{ref:"timeForm",staticClass:"w100",staticStyle:{"text-align":"left"},attrs:{prop:"timeRange",label:"简历接收时间："}},[t.editStatus?t._e():i("span",[t._v(t._s(t.recruitmentInfoData2Details.time))]),t._v(" "),t.editStatus?i("el-date-picker",{ref:"datepicker",attrs:{type:"daterange",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.recruitmentInfoData.timeRange,callback:function(e){t.$set(t.recruitmentInfoData,"timeRange",e)},expression:"recruitmentInfoData.timeRange"}}):t._e()],1),t._v(" "),i("el-form-item",{ref:"summary",attrs:{prop:"summary",label:"单位简介："}},[t.editStatus?t._e():i("span",{staticStyle:{"padding-left":"15px"},domProps:{innerHTML:t._s(t.recruitmentInfoData2Details.summary)}}),t._v(" "),t.editStatus?i("u-editor",{staticStyle:{width:"80%"},on:{change:t.getIntroduction},model:{value:t.recruitmentInfoData.summary,callback:function(e){t.$set(t.recruitmentInfoData,"summary",e)},expression:"recruitmentInfoData.summary"}}):t._e()],1)],1)],1),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:1==t.currentTab,expression:"currentTab==1"}]},[i("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.positionInfoList}},[i("el-table-column",{attrs:{type:"index"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionName",label:"职位名称"}}),t._v(" "),i("el-table-column",{attrs:{prop:"positionType",label:"职位类别"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.positionTypeName?e.row.positionTypeName:e.row.positionTypeLabel))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"positionProperty",label:"职位性质"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s("PRACTICE"==e.row.positionProperty?"实习":"全职"))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.editStatus?i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.onPositionIndoEdit(e.row,e.$index)}}},[t._v("编辑")]):t._e(),t._v(" "),t.editStatus?i("el-button",{staticStyle:{color:"#727272"},attrs:{type:"text",size:"small"},on:{click:function(i){return t.recruitmenInfoDelete(e.row,e.$index)}}},[t._v("删除")]):t._e(),t._v(" "),t.editStatus?t._e():i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.checkPosition(e.row,e.$index)}}},[t._v("查看")])]}}])})],1),t._v(" "),i("div",{staticClass:"add-position-warp"},[t.editStatus||t.newAddRecruit?i("el-button",{staticClass:"add-position",attrs:{icon:"el-icon-plus",plain:""},on:{click:t.onPositionInfoAdd}},[t._v("添加")]):t._e()],1)],1),t._v(" "),2==t.currentTab?i("li",[i("div",{staticClass:"recruitment-brochure"},[t.editStatus?i("u-editor",{staticStyle:{width:"80%"},model:{value:t.recruitmentInfoData.recruitmentBrief,callback:function(e){t.$set(t.recruitmentInfoData,"recruitmentBrief",e)},expression:"recruitmentInfoData.recruitmentBrief"}}):t._e(),t._v(" "),t.editStatus?t._e():i("p",{domProps:{innerHTML:t._s(t.recruitmentInfoData.recruitmentBrief?t.recruitmentInfoData.recruitmentBrief:"暂无招聘简章")}}),t._v(" "),t.editStatus?i("div",{staticClass:"btn-group-o"},[i("el-button",{staticClass:"back-btn btn-o",attrs:{plain:""},on:{click:t.onRecruitmentBrochureBack}},[t._v("取消")]),t._v(" "),t.editStatus&&t.newAddRecruit?i("el-button",{staticClass:"back-btn btn-o",attrs:{type:"primary"},on:{click:t.onRecruitmentModifySure}},[t._v("提交")]):t._e(),t._v(" "),t.editStatus&&!t.newAddRecruit?i("el-button",{staticClass:"back-btn btn-o",attrs:{type:"primary"},on:{click:t.onRecruitmentModifySure}},[t._v("修改")]):t._e()],1):t._e()],1)]):t._e()])])]),t._v(" "),i("el-dialog",{attrs:{close:"changeEmail-dialog",title:"新增职位",visible:t.showAddPositionModal,width:"60%"},on:{"update:visible":function(e){t.showAddPositionModal=e}}},[i("el-form",{ref:"positionInfoForm",staticClass:"add-position-form",attrs:{rules:t.addPositionRules,model:t.positionInfoForm,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"职位名称",prop:"positionName"}},[i("el-input",{staticClass:"custom-el-input",attrs:{placeholder:"请选择职位名称"},model:{value:t.positionInfoForm.positionName,callback:function(e){t.$set(t.positionInfoForm,"positionName",e)},expression:"positionInfoForm.positionName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"职位类别",prop:"positionType"}},[i("el-select",{attrs:{placeholder:"请选择职位类别"},model:{value:t.positionInfoForm.positionType,callback:function(e){t.$set(t.positionInfoForm,"positionType",e)},expression:"positionInfoForm.positionType"}},t._l(t.dict_type,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"职位性质",prop:"positionProperty"}},[i("el-radio",{attrs:{label:"PRACTICE"},model:{value:t.positionInfoForm.positionProperty,callback:function(e){t.$set(t.positionInfoForm,"positionProperty",e)},expression:"positionInfoForm.positionProperty"}},[t._v("实习")]),t._v(" "),i("el-radio",{attrs:{label:"FULL_TIME"},model:{value:t.positionInfoForm.positionProperty,callback:function(e){t.$set(t.positionInfoForm,"positionProperty",e)},expression:"positionInfoForm.positionProperty"}},[t._v("全职")])],1),t._v(" "),i("el-form-item",{attrs:{label:"专业要求",prop:"major"}},[i("el-select",{attrs:{placeholder:"请选择专业要求"},model:{value:t.positionInfoForm.major,callback:function(e){t.$set(t.positionInfoForm,"major",e)},expression:"positionInfoForm.major"}},t._l(t.dict_duty,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"学历要求",prop:"diploma"}},[i("el-select",{attrs:{placeholder:"请选择学历要求"},model:{value:t.positionInfoForm.diploma,callback:function(e){t.$set(t.positionInfoForm,"diploma",e)},expression:"positionInfoForm.diploma"}},t._l(t.dict_educational,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"薪资范围",prop:"salary"}},[i("el-select",{attrs:{placeholder:"请选择薪资范围"},model:{value:t.positionInfoForm.salary,callback:function(e){t.$set(t.positionInfoForm,"salary",e)},expression:"positionInfoForm.salary"}},t._l(t.dict_moneyRange,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"招聘人数",prop:"recruitNumber"}},[i("el-input",{staticClass:"custom-el-input",attrs:{type:"number",min:1},model:{value:t.positionInfoForm.recruitNumber,callback:function(e){t.$set(t.positionInfoForm,"recruitNumber",e)},expression:"positionInfoForm.recruitNumber"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"工作地点",prop:"selectCity"}},[t.showAddPositionModal?i("el-cascader-multi",{staticClass:"selectList",attrs:{data:t.options,"only-last":!0,"show-leaf-label":!0},on:{change:t.addressChange},model:{value:t.positionInfoForm.selectCity,callback:function(e){t.$set(t.positionInfoForm,"selectCity",e)},expression:"positionInfoForm.selectCity"}}):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:"工作职责",prop:"positionRemarks"}},[i("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"工作职责",resize:"none"},model:{value:t.positionInfoForm.positionRemarks,callback:function(e){t.$set(t.positionInfoForm,"positionRemarks",e)},expression:"positionInfoForm.positionRemarks"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"工作要求",prop:"positionRequire"}},[i("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"工作要求",resize:"none"},model:{value:t.positionInfoForm.positionRequire,callback:function(e){t.$set(t.positionInfoForm,"positionRequire",e)},expression:"positionInfoForm.positionRequire"}})],1)],1),t._v(" "),i("div",{staticClass:"buttonGroup"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("positionInfoForm")}}},[t._v("保存")]),t._v(" "),i("el-button",{attrs:{plain:""},on:{click:function(e){return t.resetForm("positionInfoForm")}}},[t._v("取消")])],1)],1),t._v(" "),t.showDialog?i("position",{attrs:{disabledEditPosition:!1,showDialog:t.showDialog,readonly:!t.editStatus,defaultFormInfo:t.defaultFormInfo},on:{closeDialog:function(e){t.showDialog=!1},positionSubmit:t.positionSubmit}}):t._e(),t._v(" "),i("el-dialog",{attrs:{title:"选择要新增的职位",visible:t.showAddDialog,width:"30%"},on:{"update:visible":function(e){t.showAddDialog=e}}},[i("div",{staticClass:"addContent"},[i("el-select",{staticStyle:{width:"70%"},attrs:{placeholder:"请选择职位模板"},on:{change:t.selectModel},model:{value:t.positionModel,callback:function(e){t.positionModel=e},expression:"positionModel"}},t._l(t.positionModelList,function(t,e){return i("el-option",{key:e,attrs:{label:t.positionName,value:e}})}),1),t._v(" "),i("el-button",{staticStyle:{height:"40px"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:t.newAdd}},[t._v("新建")])],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.showAddDialog=!1,t.positionModel=""}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.setPosition}},[t._v("确 定")])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"选择要新增的单位",visible:t.selectUnit.dialog,width:"400px"},on:{"update:visible":function(e){return t.$set(t.selectUnit,"dialog",e)}}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.selectUnit.value,callback:function(e){t.$set(t.selectUnit,"value",e)},expression:"selectUnit.value"}},t._l(t.selectUnit.data,function(t){return i("el-option",{key:t.id,attrs:{label:t.companyName,value:t.id}})}),1),t._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:t.toAddCompany}},[t._v("添加单位")]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{plain:""},on:{click:function(e){t.selectUnit.dialog=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.selectUnit.loading},on:{click:t.onSelectUnitSure}},[t._v("确定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"修改记录",visible:t.modifyRecordDialog,width:"400px"},on:{"update:visible":function(e){t.modifyRecordDialog=e}}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.modifyRecordTableData}},[i("el-table-column",{attrs:{prop:"operationTime",label:"日期",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"operatorName",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.operatorName+e.row.status)+"招聘信息")])]}}])})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{plain:""},on:{click:function(e){t.modifyRecordDialog=!1}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-title"},[e("i",{staticClass:"must-sign"},[this._v("*")]),this._v("招聘标题\n      ")])}]};var u=i("C7Lr")(l,c,!1,function(t){i("ypY/"),i("KUyI")},"data-v-d188e5d2",null);e.default=u.exports},KUyI:function(t,e){},"ypY/":function(t,e){}});